(function(e,undefined){function j(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function A(e){var t=D[e]={};return x.each(e.match(w)||[],function(e,n){t[n]=!0}),t}function F(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=x.expando+Math.random()}function P(e,t,n){var r;if(n===undefined&&1===e.nodeType)if(r="data-"+t.replace(O,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:H.test(n)?JSON.parse(n):n}catch(i){}L.set(e,t,n)}else n=undefined;return n}function U(){return!0}function Y(){return!1}function V(){try{return o.activeElement}catch(e){}}function Z(e,t){while((e=e[t])&&1!==e.nodeType);return e}function et(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(G.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return g.call(t,e)>=0!==n})}function pt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ft(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ht(e){var t=ut.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function dt(e,t){var n=e.length,r=0;for(;n>r;r++)q.set(e[r],"globalEval",!t||q.get(t[r],"globalEval"))}function gt(e,t){var n,r,i,s,o,u,a,f;if(1===t.nodeType){if(q.hasData(e)&&(s=q.access(e),o=q.set(t,s),f=s.events)){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;r>n;n++)x.event.add(t,i,f[i][n])}L.hasData(e)&&(u=L.access(e),a=x.extend({},u),L.set(t,a))}}function mt(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&x.nodeName(e,t)?x.merge([e],n):n}function yt(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ot.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function At(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Dt.length;while(i--)if(t=Dt[i]+n,t in e)return t;return r}function Lt(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function qt(t){return e.getComputedStyle(t,null)}function Ht(e,t){var n,r,i,s=[],o=0,u=e.length;for(;u>o;o++)r=e[o],r.style&&(s[o]=q.get(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&Lt(r)&&(s[o]=q.access(r,"olddisplay",Rt(r.nodeName)))):s[o]||(i=Lt(r),(n&&"none"!==n||!i)&&q.set(r,"olddisplay",i?n:x.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function Ot(e,t,n){var r=Tt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ft(e,t,n,r,i){var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;for(;4>s;s+=2)"margin"===n&&(o+=x.css(e,n+jt[s],!0,i)),r?("content"===n&&(o-=x.css(e,"padding"+jt[s],!0,i)),"margin"!==n&&(o-=x.css(e,"border"+jt[s]+"Width",!0,i))):(o+=x.css(e,"padding"+jt[s],!0,i),"padding"!==n&&(o+=x.css(e,"border"+jt[s]+"Width",!0,i)));return o}function Pt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=qt(e),o=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=vt(e,t,s),(0>i||null==i)&&(i=e.style[t]),Ct.test(i))return i;r=o&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+Ft(e,t,n||(o?"border":"content"),r,s)+"px"}function Rt(e){var t=o,n=Nt[e];return n||(n=Mt(e,t),"none"!==n&&n||(xt=(xt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(xt[0].contentWindow||xt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=Mt(e,t),xt.detach()),Nt[e]=n),n}function Mt(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}function _t(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||$t.test(e)?r(e,i):_t(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)_t(e+"["+i+"]",t[i],n,r)}function un(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(w)||[];if(x.isFunction(n))while(r=s[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ln(e,t,n,r){function o(u){var a;return i[u]=!0,x.each(e[u]||[],function(e,u){var f=u(t,n,r);return"string"!=typeof f||s||i[f]?s?!(a=f):undefined:(t.dataTypes.unshift(f),o(f),!1)}),a}var i={},s=e===on;return o(t.dataTypes[0])||!i["*"]&&o("*")}function cn(e,t){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&x.extend(!0,e,r),e}function pn(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}return s?(s!==a[0]&&a.unshift(s),n[s]):undefined}function fn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function En(){return setTimeout(function(){xn=undefined}),xn=x.now()}function Sn(e,t,n){var r,i=(Nn[t]||[]).concat(Nn["*"]),s=0,o=i.length;for(;o>s;s++)if(r=i[s].call(n,t,e))return r}function jn(e,t,n){var r,i,s=0,o=kn.length,u=x.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=xn||En(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;a>o;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),1>s&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:xn||En(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;for(Dn(l,f.opts.specialEasing);o>s;s++)if(r=kn[s].call(f,e,l,f.opts))return r;return x.map(l,Sn,f),x.isFunction(f.opts.start)&&f.opts.start.call(e,f),x.fx.timer(x.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Dn(e,t){var n,r,i,s,o;for(n in e)if(r=x.camelCase(n),i=t[r],s=e[n],x.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=x.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function An(e,t,n){var r,i,s,o,u,a,f=this,l={},c=e.style,h=e.nodeType&&Lt(e),p=q.get(e,"fxshow");n.queue||(u=x._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,x.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[c.overflow,c.overflowX,c.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(c.display="inline-block")),n.overflow&&(c.overflow="hidden",f.always(function(){c.overflow=n.overflow[0],c.overflowX=n.overflow[1],c.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],wn.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!p||p[r]===undefined)continue;h=!0}l[r]=p&&p[r]||x.style(e,r)}if(!x.isEmptyObject(l)){p?"hidden"in p&&(h=p.hidden):p=q.access(e,"fxshow",{}),s&&(p.hidden=!h),h?x(e).show():f.done(function(){x(e).hide()}),f.done(function(){var t;q.remove(e,"fxshow");for(t in l)x.style(e,t,l[t])});for(r in l)o=Sn(h?p[r]:0,r,f),r in p||(p[r]=o.start,h&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function Ln(e,t,n,r,i){return new Ln.prototype.init(e,t,n,r,i)}function qn(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=jt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Hn(e){return x.isWindow(e)?e:9===e.nodeType&&e.defaultView}var t,n,r=typeof undefined,i=e.location,o=e.document,s=o.documentElement,a=e.jQuery,u=e.$,l={},c=[],p="2.0.3",f=c.concat,h=c.push,d=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,x=function(e,n){return new x.fn.init(e,n,t)},b=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^-ms-/,N=/-([\da-z])/gi,E=function(e,t){return t.toUpperCase()},S=function(){o.removeEventListener("DOMContentLoaded",S,!1),e.removeEventListener("load",S,!1),x.ready()};x.fn=x.prototype={jquery:p,constructor:x,init:function(e,t,n){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:T.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),C.test(r[1])&&x.isPlainObject(t))for(r in t)x.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=o.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?n.ready(e):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;for("boolean"==typeof o&&(f=o,o=arguments[1]||{},u=2),"object"==typeof o||x.isFunction(o)||(o={}),a===u&&(o=this,--u);a>u;u++)if(null!=(e=arguments[u]))for(t in e)n=o[t],r=e[t],o!==r&&(f&&r&&(x.isPlainObject(r)||(i=x.isArray(r)))?(i?(i=!1,s=n&&x.isArray(n)?n:[]):s=n&&x.isPlainObject(n)?n:{},o[t]=x.extend(f,s,r)):r!==undefined&&(o[t]=r));return o},x.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=a),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){(e===!0?--x.readyWait:x.isReady)||(x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(o,[x]),x.fn.trigger&&x(o).trigger("ready").off("ready")))},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&x.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){var t,n=eval;e=x.trim(e),e&&(1===e.indexOf("use strict")?(t=o.createElement("script"),t.text=e,o.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(k,"ms-").replace(N,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=j(e);if(n){if(o){for(;s>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(o){for(;s>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":v.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(j(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;n>i;i++)e[r++]=t[i];else while(t[i]!==undefined)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;for(n=!!n;o>s;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=j(e),u=[];if(o)for(;s>i;i++)r=t(e[i],i,n),null!=r&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(u[u.length]=r);return f.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),x.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(t||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):undefined},access:function(e,t,n,r,i,s,o){var u=0,a=e.length,f=null==n;if("object"===x.type(n)){i=!0;for(u in n)x.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined&&(i=!0,x.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(x(e),n)})),t))for(;a>u;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)));return i?e:f?t.call(e):a?t(e[0],n):s},now:Date.now,swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),x.ready.promise=function(t){return n||(n=x.Deferred(),"complete"===o.readyState?setTimeout(x.ready):(o.addEventListener("DOMContentLoaded",S,!1),e.addEventListener("load",S,!1))),n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()}),t=x(o),function(e,t){function ot(e,t,n,i){var s,o,u,a,f,l,p,m,g,E;if((t?t.ownerDocument||t:w)!==h&&c(t),t=t||h,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(d&&!i){if(s=Z.exec(e))if(u=s[1]){if(9===a){if(o=t.getElementById(u),!o||!o.parentNode)return n;if(o.id===u)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&y(t,o)&&o.id===u)return n.push(o),n}else{if(s[2])return H.apply(n,t.getElementsByTagName(e)),n;if((u=s[3])&&r.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(u)),n}if(r.qsa&&(!v||!v.test(e))){if(m=p=b,g=t,E=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){l=mt(e),(p=t.getAttribute("id"))?m=p.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=l.length;while(f--)l[f]=m+gt(l[f]);g=$.test(e)&&t.parentNode||t,E=l.join(",")}if(E)try{return H.apply(n,g.querySelectorAll(E)),n}catch(S){}finally{p||t.removeAttribute("id")}}}return Nt(e.replace(W,"$1"),t,n,i)}function ut(){function t(n,r){return e.push(n+=" ")>s.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function at(e){return e[b]=!0,e}function ft(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--)s.attrHandle[n[r]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(){}function mt(e,t){var n,r,i,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=s.preFilter;while(u){(!n||(r=X.exec(u)))&&(r&&(u=u.slice(r[0].length)||u),a.push(i=[])),n=!1,(r=V.exec(u))&&(n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),u=u.slice(n.length));for(o in s.filter)!(r=G[o].exec(u))||f[o]&&!(r=f[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)}function gt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,s=n&&"parentNode"===r,o=S++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||s)return e(t,n,i)}:function(t,n,u){var a,f,l,c=E+" "+o;if(u){while(t=t[r])if((1===t.nodeType||s)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||s)if(l=t[b]||(t[b]={}),(f=l[r])&&f[0]===c){if((a=f[1])===!0||a===i)return a===!0}else if(f=l[r]=[c],f[1]=e(t,n,u)||i,f[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=null!=t;for(;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function Et(e,t,n,r,i,s){return r&&!r[b]&&(r=Et(r)),i&&!i[b]&&(i=Et(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||Tt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:wt(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?j.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):H.apply(o,g)})}function St(e){var t,n,r,i=e.length,o=s.relative[e[0].type],u=o||s.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return j.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;i>a;a++)if(n=s.relative[e[a].type])h=[yt(bt(h),n)];else{if(n=s.filter[e[a].type].apply(null,e[a].matches),n[b]){for(r=++a;i>r;r++)if(s.relative[e[r].type])break;return Et(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(W,"$1"),n,r>a&&St(e.slice(a,r)),i>r&&St(e=e.slice(r)),i>r&&gt(e))}h.push(n)}return bt(h)}function xt(e,t){var n=0,r=t.length>0,o=e.length>0,u=function(u,a,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],S=null!=p,x=f,T=u||o&&s.find.TAG("*",p&&a.parentNode||a),N=E+=null==x?1:Math.random()||.1;for(S&&(f=a!==h&&a,i=n);null!=(d=T[b]);b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){c.push(d);break}S&&(E=N,i=++n)}r&&((d=!m&&d)&&y--,u&&w.push(d))}if(y+=b,r&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)w[b]||g[b]||(g[b]=D.call(c));g=wt(g)}H.apply(c,g),S&&!u&&g.length>0&&y+t.length>1&&ot.uniqueSort(c)}return S&&(E=N,f=x),w};return r?at(u):u}function Tt(e,t,n){var r=0,i=t.length;for(;i>r;r++)ot(e,t[r],n);return n}function Nt(e,t,n,i){var o,u,f,l,c,h=mt(e);if(!i&&1===h.length){if(u=h[0]=h[0].slice(0),u.length>2&&"ID"===(f=u[0]).type&&r.getById&&9===t.nodeType&&d&&s.relative[u[1].type]){if(t=(s.find.ID(f.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(u.shift().value.length)}o=G.needsContext.test(e)?0:u.length;while(o--){if(f=u[o],s.relative[l=f.type])break;if((c=s.find[l])&&(i=c(f.matches[0].replace(rt,it),$.test(u[0].type)&&t.parentNode||t))){if(u.splice(o,1),e=i.length&&gt(u),!e)return H.apply(n,i),n;break}}}return a(e,h)(i,t,!d,n,$.test(e)),n}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),w=e.document,E=0,S=0,T=ut(),N=ut(),C=ut(),k=!1,L=function(e,t){return e===t?(k=!0,0):0},A=typeof t,O=1<<31,M={}.hasOwnProperty,_=[],D=_.pop,P=_.push,H=_.push,B=_.slice,j=_.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=q.replace("w","w#"),U="\\["+I+"*("+q+")"+I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+I+"*\\]",z=":("+q+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+U.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),X=RegExp("^"+I+"*,"+I+"*"),V=RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),$=RegExp(I+"*[+~]"),J=RegExp("="+I+"*([^\\]'\"]*)"+I+"*\\]","g"),K=RegExp(z),Q=RegExp("^"+R+"$"),G={ID:RegExp("^#("+q+")"),CLASS:RegExp("^\\.("+q+")"),TAG:RegExp("^("+q.replace("w","w*")+")"),ATTR:RegExp("^"+U),PSEUDO:RegExp("^"+z),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:RegExp("^(?:"+F+")$","i"),needsContext:RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{H.apply(_=B.call(w.childNodes),w.childNodes),_[w.childNodes.length].nodeType}catch(st){H={apply:_.length?function(e,t){P.apply(e,B.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}u=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=ot.support={},c=ot.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==h&&9===n.nodeType&&n.documentElement?(h=n,p=n.documentElement,d=!u(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){c()}),r.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ft(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ft(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ft(function(e){return p.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(s.find.ID=function(e,t){if(typeof t.getElementById!==A&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),s.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},s.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==A&&d?n.getElementsByClassName(e):t},m=[],v=[],(r.qsa=Y.test(n.querySelectorAll))&&(ft(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+F+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),ft(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(r.matchesSelector=Y.test(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ft(function(e){r.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",z)}),v=v.length&&RegExp(v.join("|")),m=m.length&&RegExp(m.join("|")),y=Y.test(p.contains)||p.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},L=p.compareDocumentPosition?function(e,t){if(e===t)return k=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||y(w,e)?-1:t===n||y(w,t)?1:l?j.call(l,e)-j.call(l,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(e===t)return k=!0,0;if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:l?j.call(l,e)-j.call(l,t):0;if(s===o)return ct(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)a.unshift(r);while(u[i]===a[i])i++;return i?ct(u[i],a[i]):u[i]===w?-1:a[i]===w?1:0},n):h},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&c(e),t=t.replace(J,"='$1']"),!(!r.matchesSelector||!d||m&&m.test(t)||v&&v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return ot(t,h,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),y(e,t)},ot.attr=function(e,n){(e.ownerDocument||e)!==h&&c(e);var i=s.attrHandle[n.toLowerCase()],o=i&&M.call(s.attrHandle,n.toLowerCase())?i(e,n,!d):t;return o===t?r.attributes||!d?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},ot.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,n=[],i=0,s=0;if(k=!r.detectDuplicates,l=!r.sortStable&&e.slice(0),e.sort(L),k){while(t=e[s++])t===e[s]&&(i=n.push(s));while(i--)e.splice(n[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},s=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return G.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&K.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===E&&f[1],h=f[0]===E&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[E,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===E)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[b]||(c[b]={}))[e]=[E,h]),c===t))break;return h-=i,h===r||0===h%r&&h/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=j.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(W,"$1"));return r[b]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return Q.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[0>n?n+t:n]}),even:dt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:dt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},s.pseudos.nth=s.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[n]=ht(n);for(n in{submit:!0,reset:!0})s.pseudos[n]=pt(n);vt.prototype=s.filters=s.pseudos,s.setFilters=new vt,a=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=mt(e)),n=t.length;while(n--)s=St(t[n]),s[b]?r.push(s):i.push(s);s=C(e,xt(i,r))}return s},r.sortStable=b.split("").sort(L).join("")===b,r.detectDuplicates=k,c(),r.sortDetached=ft(function(e){return 1&e.compareDocumentPosition(h.createElement("div"))}),ft(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ft(function(e){return null==e.getAttribute("disabled")})||lt(F,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=ot,x.expr=ot.selectors,x.expr[":"]=x.expr.pseudos,x.unique=ot.uniqueSort,x.text=ot.getText,x.isXMLDoc=ot.isXML,x.contains=ot.contains}(e);var D={};x.Callbacks=function(e){e="string"==typeof e?D[e]||A(e):x.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(h){for(t=e.memory&&h,n=!0,o=i||0,i=0,s=u.length,r=!0;u&&s>o;o++)if(u[o].apply(h[0],h[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&l.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&x.each(arguments,function(e,t){var n;while((n=x.inArray(t,u,n))>-1)u.splice(n,1),r&&(s>=n&&s--,o>=n&&o--)}),this},has:function(e){return e?x.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return!u||n&&!a||(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,s){var o=s[0],u=x.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,s=1===i?e:x.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1)for(u=Array(r),a=Array(r),f=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i;return i||s.resolveWith(f,n),s.promise()}}),x.support=function(t){var n=o.createElement("input"),r=o.createDocumentFragment(),i=o.createElement("div"),s=o.createElement("select"),u=s.appendChild(o.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=u.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled,n=o.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,x(function(){var n,r,s="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",x.swap(u,null!=u.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(o.createElement("div")),r.style.cssText=i.style.cssText=s,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),u.removeChild(n))}),t):t}({});var L,q,H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,O=/([A-Z])/g;F.uid=1,F.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},F.prototype={key:function(e){if(!F.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=F.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,x.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if("string"==typeof t)s[t]=n;else if(x.isEmptyObject(s))x.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&"string"==typeof t&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,x.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{x.isArray(t)?r=t.concat(t.map(x.camelCase)):(i=x.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(w)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!x.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},L=new F,q=new F,x.extend({acceptData:F.accepts,hasData:function(e){return L.hasData(e)||q.hasData(e)},data:function(e,t,n){return L.access(e,t,n)},removeData:function(e,t){L.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,i=this[0],s=0,o=null;if(e===undefined){if(this.length&&(o=L.get(i),1===i.nodeType&&!q.get(i,"hasDataAttrs"))){for(n=i.attributes;n.length>s;s++)r=n[s].name,0===r.indexOf("data-")&&(r=x.camelCase(r.slice(5)),P(i,r,o[r]));q.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){L.set(this,e)}):x.access(this,function(t){var n,r=x.camelCase(e);if(i&&t===undefined){if(n=L.get(i,e),n!==undefined)return n;if(n=L.get(i,r),n!==undefined)return n;if(n=P(i,r,undefined),n!==undefined)return n}else this.each(function(){var n=L.get(this,r);L.set(this,r,t),-1!==e.indexOf("-")&&n!==undefined&&L.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){L.remove(this,e)})}}),x.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=q.get(e,t),n&&(!r||x.isArray(n)?r=q.access(e,t,x.makeArray(n)):r.push(n)),r||[]):undefined},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),s=x._queueHooks(e,t),o=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:x.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?x.queue(this[0],e):t===undefined?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=x.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};"string"!=typeof e&&(t=e,e=undefined),e=e||"fx";while(o--)n=q.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var R,M,W=/[\t\r\n\f]/g,$=/\r/g,B=/^(?:input|select|textarea|button)$/i;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(w)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):" ")){s=0;while(i=t[s++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(w)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):"")){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,i=0,s=x(this),o=e.match(w)||[];while(t=o[i++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else(n===r||"boolean"===n)&&(this.className&&q.set(this,"__className__",this.className),this.className=this.className||e===!1?"":q.get(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(W," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,i=this[0];if(arguments.length)return r=x.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,x(this).val()):e,null==i?i="":"number"==typeof i?i+="":x.isArray(i)&&(i=x.map(i,function(e){return null==e?"":e+""})),t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,i,"value")!==undefined||(this.value=i))});if(i)return t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,"string"==typeof n?n.replace($,""):null==n?"":n)}}),x.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],u=s?i+1:r.length,a=0>i?u:s?i:0;for(;u>a;a++)if(n=r[a],!(!n.selected&&a!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n,r,i=e.options,s=x.makeArray(t),o=i.length;while(o--)r=i[o],(r.selected=x.inArray(x(r).val(),s)>=0)&&(n=!0);return n||(e.selectedIndex=-1),s}}},attr:function(e,t,n){var i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===r?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(t=t.toLowerCase(),i=x.attrHooks[t]||(x.expr.match.bool.test(t)?M:R)),n===undefined?i&&"get"in i&&null!==(s=i.get(e,t))?s:(s=x.find.attr(e,t),null==s?undefined:s):null!==n?i&&"set"in i&&(s=i.set(e,n,t))!==undefined?s:(e.setAttribute(t,n+""),n):(x.removeAttr(e,t),undefined))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(w);if(s&&1===e.nodeType)while(n=s[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!x.isXMLDoc(e),s&&(t=x.propFix[t]||t,i=x.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||B.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),M={set:function(e,t,n){return t===!1?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var n=x.expr.attrHandle[t]||x.find.attr;x.expr.attrHandle[t]=function(e,t,r){var i=x.expr.attrHandle[t],s=r?undefined:(x.expr.attrHandle[t]=undefined)!=n(e,t,r)?t.toLowerCase():null;return x.expr.attrHandle[t]=i,s}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){return x.isArray(t)?e.checked=x.inArray(x(e).val(),t)>=0:undefined}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var I=/^key/,z=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;x.event={global:{},add:function(e,t,n,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=q.get(e);if(g){n.handler&&(o=n,n=o.handler,s=o.selector),n.guid||(n.guid=x.guid++),(f=g.events)||(f=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof x===r||e&&x.event.triggered===e.type?undefined:x.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(w)||[""],l=t.length;while(l--)a=X.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d&&(h=x.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=x.event.special[d]||{},c=x.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:s,needsContext:s&&x.expr.match.needsContext.test(s),namespace:v.join(".")},o),(p=f[d])||(p=f[d]=[],p.delegateCount=0,h.setup&&h.setup.call(e,i,v,u)!==!1||e.addEventListener&&e.addEventListener(d,u,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),x.event.global[d]=!0);e=null}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=q.hasData(e)&&q.get(e);if(m&&(a=m.events)){t=(t||"").match(w)||[""],f=t.length;while(f--)if(u=X.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p){c=x.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],!i&&v!==l.origType||n&&n.guid!==l.guid||u&&!u.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&(c.teardown&&c.teardown.call(e,d,m.handle)!==!1||x.removeEvent(e,p,m.handle),delete a[p])}else for(p in a)x.event.remove(e,p+t[f],n,r,!0);x.isEmptyObject(a)&&(delete m.handle,q.remove(e,"events"))}},trigger:function(t,n,r,i){var s,u,a,f,l,c,h,p=[r||o],d=y.call(t,"type")?t.type:t,v=y.call(t,"namespace")?t.namespace.split("."):[];if(u=a=r=r||o,3!==r.nodeType&&8!==r.nodeType&&!_.test(d+x.event.triggered)&&(d.indexOf(".")>=0&&(v=d.split("."),d=v.shift(),v.sort()),l=0>d.indexOf(":")&&"on"+d,t=t[x.expando]?t:new x.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=v.join("."),t.namespace_re=t.namespace?RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:x.makeArray(n,[t]),h=x.event.special[d]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!x.isWindow(r)){for(f=h.delegateType||d,_.test(f+d)||(u=u.parentNode);u;u=u.parentNode)p.push(u),a=u;a===(r.ownerDocument||o)&&p.push(a.defaultView||a.parentWindow||e)}s=0;while((u=p[s++])&&!t.isPropagationStopped())t.type=s>1?f:h.bindType||d,c=(q.get(u,"events")||{})[t.type]&&q.get(u,"handle"),c&&c.apply(u,n),c=l&&u[l],c&&x.acceptData(u)&&c.apply&&c.apply(u,n)===!1&&t.preventDefault();return t.type=d,i||t.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),n)!==!1||!x.acceptData(r)||l&&x.isFunction(r[d])&&!x.isWindow(r)&&(a=r[l],a&&(r[l]=null),x.event.triggered=d,r[d](),x.event.triggered=undefined,a&&(r[l]=a)),t.result}},dispatch:function(e){e=x.event.fix(e);var t,n,r,i,s,o=[],u=d.call(arguments),a=(q.get(this,"events")||{})[e.type]||[],f=x.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,e)!==!1){o=x.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,r=((x.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return f.postDispatch&&f.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||"click"!==e.type))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==e.type){for(r=[],n=0;u>n;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?x(i,this).index(a)>=0:x.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return t.length>u&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||o,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||s===undefined||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,s=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=z.test(i)?this.mouseHooks:I.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new x.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=o),3===e.target.nodeType&&(e.target=e.target.parentNode),u.filter?u.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==V()&&this.focus?(this.focus(),!1):undefined},delegateType:"focusin"},blur:{trigger:function(){return this===V()&&this.blur?(this.blur(),!1):undefined},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&x.nodeName(this,"input")?(this.click(),!1):undefined},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},x.Event=function(e,t){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?U:Y):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,undefined):new x.Event(e,t)},x.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=U,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=U,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=U,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,t,n,r,i){var s,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=undefined):null==r&&("string"==typeof t?(r=n,n=undefined):(r=n,n=t,t=undefined)),r===!1)r=Y;else if(!r)return this;return 1===i&&(s=r,r=function(e){return x().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=undefined),n===!1&&(n=Y),this.each(function(){x.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?x.event.trigger(e,t,n,!0):undefined}});var G=/^.[^:#\[\.,]*$/,J=/^(?:parents|prev(?:Until|All))/,Q=x.expr.match.needsContext,K={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){var e=0;for(;n>e;e++)if(x.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(et(this,e||[],!0))},filter:function(e){return this.pushStack(et(this,e||[],!1))},is:function(e){return!!et(this,"string"==typeof e&&Q.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,s=[],o=Q.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(o?o.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=s.push(n);break}return this.pushStack(s.length>1?x.unique(s):s)},index:function(e){return e?"string"==typeof e?g.call(x(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return Z(e,"nextSibling")},prev:function(e){return Z(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return e.contentDocument||x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(K[e]||x.unique(i),J.test(e)&&i.reverse()),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&x(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,nt=/<([\w:]+)/,rt=/<|&#?\w+;/,it=/<(?:script|style|link)/i,ot=/^(?:checkbox|radio)$/i,st=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^$|\/(?:java|ecma)script/i,ut=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ct={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.optgroup=ct.option,ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===undefined?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(mt(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&dt(mt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(mt(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!it.test(e)&&!ct[(nt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(tt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(x.cleanData(mt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=f.apply([],e);var r,i,s,o,u,a,l=0,c=this.length,h=this,p=c-1,d=e[0],v=x.isFunction(d);if(v||!(1>=c||"string"!=typeof d||x.support.checkClone)&&st.test(d))return this.each(function(r){var i=h.eq(r);v&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(s=x.map(mt(r,"script"),ft),o=s.length;c>l;l++)u=r,l!==p&&(u=x.clone(u,!0,!0),o&&x.merge(s,mt(u,"script"))),t.call(this[l],u,l);if(o)for(a=s[s.length-1].ownerDocument,x.map(s,ht),l=0;o>l;l++)u=s[l],at.test(u.type||"")&&!q.access(u,"globalEval")&&x.contains(a,u)&&(u.src?x._evalUrl(u.src):x.globalEval(u.textContent.replace(lt,"")))}return this}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=[],i=x(e),s=i.length-1,o=0;for(;s>=o;o++)n=o===s?this:this.clone(!0),x(i[o])[t](n),h.apply(r,n.get());return this.pushStack(r)}}),x.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=x.contains(e.ownerDocument,e);if(!(x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(o=mt(u),s=mt(e),r=0,i=s.length;i>r;r++)yt(s[r],o[r]);if(t)if(n)for(s=s||mt(e),o=o||mt(u),r=0,i=s.length;i>r;r++)gt(s[r],o[r]);else gt(e,u);return o=mt(u,"script"),o.length>0&&dt(o,!a&&mt(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=0,c=e.length,h=t.createDocumentFragment(),p=[];for(;c>l;l++)if(i=e[l],i||0===i)if("object"===x.type(i))x.merge(p,i.nodeType?[i]:i);else if(rt.test(i)){s=s||h.appendChild(t.createElement("div")),o=(nt.exec(i)||["",""])[1].toLowerCase(),u=ct[o]||ct._default,s.innerHTML=u[1]+i.replace(tt,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;x.merge(p,s.childNodes),s=h.firstChild,s.textContent=""}else p.push(t.createTextNode(i));h.textContent="",l=0;while(i=p[l++])if((!r||-1===x.inArray(i,r))&&(a=x.contains(i.ownerDocument,i),s=mt(h.appendChild(i),"script"),a&&dt(s),n)){f=0;while(i=s[f++])at.test(i.type||"")&&n.push(i)}return h},cleanData:function(e){var t,n,r,i,s,o,u=x.event.special,a=0;for(;(n=e[a])!==undefined;a++){if(F.accepts(n)&&(s=n[q.expando],s&&(t=q.cache[s]))){if(r=Object.keys(t.events||{}),r.length)for(o=0;(i=r[o])!==undefined;o++)u[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);q.cache[s]&&delete q.cache[s]}delete L.cache[n[L.expando]]}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){var t;return x.isFunction(e)?this.each(function(t){x(this).wrapAll(e.call(this,t))}):(this[0]&&(t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var vt,xt,bt=/^(none|table(?!-c[ea]).+)/,wt=/^margin/,Tt=RegExp("^("+b+")(.*)$","i"),Ct=RegExp("^("+b+")(?!px)[a-z%]+$","i"),kt=RegExp("^([+-])=("+b+")","i"),Nt={BODY:"block"},Et={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:0,fontWeight:400},jt=["Top","Right","Bottom","Left"],Dt=["Webkit","O","Moz","ms"];x.fn.extend({css:function(e,t){return x.access(this,function(e,t,n){var r,i,s={},o=0;if(x.isArray(t)){for(r=qt(e),i=t.length;i>o;o++)s[t[o]]=x.css(e,t[o],!1,r);return s}return n!==undefined?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)},show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Lt(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=vt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,u=x.camelCase(t),a=e.style;return t=x.cssProps[u]||(x.cssProps[u]=At(a,u)),o=x.cssHooks[t]||x.cssHooks[u],n===undefined?o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t]:(s=typeof n,"string"===s&&(i=kt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(x.css(e,t)),s="number"),null==n||"number"===s&&isNaN(n)||("number"!==s||x.cssNumber[u]||(n+="px"),x.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(a[t]="inherit"),o&&"set"in o&&(n=o.set(e,n,r))===undefined||(a[t]=n)),undefined)}},css:function(e,t,n,r){var i,s,o,u=x.camelCase(t);return t=x.cssProps[u]||(x.cssProps[u]=At(e.style,u)),o=x.cssHooks[t]||x.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=vt(e,t,r)),"normal"===i&&t in St&&(i=St[t]),""===n||n?(s=parseFloat(i),n===!0||x.isNumeric(s)?s||0:i):i}}),vt=function(e,t,n){var r,i,s,o=n||qt(e),u=o?o.getPropertyValue(t)||o[t]:undefined,a=e.style;return o&&(""!==u||x.contains(e.ownerDocument,e)||(u=x.style(e,t)),Ct.test(u)&&wt.test(t)&&(r=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=u,u=o.width,a.width=r,a.minWidth=i,a.maxWidth=s)),u},x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&bt.test(x.css(e,"display"))?x.swap(e,Et,function(){return Pt(e,t,r)}):Pt(e,t,r):undefined},set:function(e,n,r){var i=r&&qt(e);return Ot(e,n,r?Ft(e,t,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,t){return t?x.swap(e,{display:"inline-block"},vt,[e,"marginRight"]):undefined}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,t){x.cssHooks[t]={get:function(e,n){return n?(n=vt(e,t),Ct.test(n)?x(e).position()[t]+"px":n):undefined}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},s="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+jt[r]+t]=s[r]||s[r-2]||s[0];return i}},wt.test(e)||(x.cssHooks[e+t].set=Ot)});var Wt=/%20/g,$t=/\[\]$/,Bt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&zt.test(this.nodeName)&&!It.test(e)&&(this.checked||!ot.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(Bt,"\r\n")}}):{name:t.name,value:n.replace(Bt,"\r\n")}}).get()}}),x.param=function(e,t){var n,r=[],i=function(e,t){t=x.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){i(this.name,this.value)});else for(n in e)_t(n,e[n],t,i);return r.join("&").replace(Wt,"+")},x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Xt,Ut,Yt=x.now(),Vt=/\?/,Gt=/#.*$/,Jt=/([?&])_=[^&]*/,Qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Zt=/^(?:GET|HEAD)$/,en=/^\/\//,tn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,nn=x.fn.load,rn={},on={},sn="*/".concat("*");try{Ut=i.href}catch(an){Ut=o.createElement("a"),Ut.href="",Ut=Ut.href}Xt=tn.exec(Ut.toLowerCase())||[],x.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u),e=e.slice(0,u)),x.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),o.length>0&&x.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut,type:"GET",isLocal:Kt.test(Xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?cn(cn(e,x.ajaxSettings),t):cn(x.ajaxSettings,e)},ajaxPrefilter:un(rn),ajaxTransport:un(on),ajax:function(e,t){function T(e,t,s,u){var f,m,g,b,w,S=t;2!==y&&(y=2,o&&clearTimeout(o),n=undefined,i=u||"",E.readyState=e>0?4:0,f=e>=200&&300>e||304===e,s&&(b=pn(l,E,s)),b=fn(l,b,E,f),f?(l.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(x.lastModified[r]=w),w=E.getResponseHeader("etag"),w&&(x.etag[r]=w)),204===e||"HEAD"===l.type?S="nocontent":304===e?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g)):(g=S,(e||!S)&&(S="error",0>e&&(e=0))),E.status=e,E.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,E]):p.rejectWith(c,[E,S,g]),E.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[E,l,f?m:g]),d.fireWith(c,[E,S]),a&&(h.trigger("ajaxComplete",[E,l]),--x.active||x.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=x.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?x(c):x.event,p=x.Deferred(),d=x.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!s){s={};while(t=Qt.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)v[t]=[v[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),T(0,t),this}};if(p.promise(E).complete=d.add,E.success=E.done,E.error=E.fail,l.url=((e||l.url||Ut)+"").replace(Gt,"").replace(en,Xt[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=x.trim(l.dataType||"*").toLowerCase().match(w)||[""],null==l.crossDomain&&(u=tn.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===Xt[1]&&u[2]===Xt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Xt[3]||("http:"===Xt[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=x.param(l.data,l.traditional)),ln(rn,l,t,E),2===y)return E;a=l.global,a&&0===x.active++&&x.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Zt.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(Vt.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Jt.test(r)?r.replace(Jt,"$1_="+Yt++):r+(Vt.test(r)?"&":"?")+"_="+Yt++)),l.ifModified&&(x.lastModified[r]&&E.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&E.setRequestHeader("If-None-Match",x.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",l.contentType),E.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+sn+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)E.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,E,l)!==!1&&2!==y){b="abort";for(f in{success:1,error:1,complete:1})E[f](l[f]);if(n=ln(on,l,t,E)){E.readyState=1,a&&h.trigger("ajaxSend",[E,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){E.abort("timeout")},l.timeout));try{y=1,n.send(m,T)}catch(S){if(!(2>y))throw S;T(-1,S)}}else T(-1,"No Transport");return E}return E.abort()},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,undefined,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,r,i){return x.isFunction(n)&&(i=i||r,r=n,n=undefined),x.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=x("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){n&&n()}}}});var hn=[],dn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=hn.pop()||x.expando+"_"+Yt++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");return u||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=x.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace(dn,"$1"+i):t.jsonp!==!1&&(t.url+=(Vt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||x.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,hn.push(i)),o&&x.isFunction(s)&&s(o[0]),o=s=undefined}),"script"):undefined}),x.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var gn=x.ajaxSettings.xhr(),mn={0:200,1223:204},yn=0,vn={};e.ActiveXObject&&x(e).on("unload",function(){for(var e in vn)vn[e]();vn=undefined}),x.support.cors=!!gn&&"withCredentials"in gn,x.support.ajax=gn=!!gn,x.ajaxTransport(function(e){var t;return x.support.cors||gn&&!e.crossDomain?{send:function(n,r){var i,s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete vn[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status||404,o.statusText):r(mn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:undefined,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=vn[s=yn++]=t("abort"),o.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}:undefined});var xn,bn,wn=/^(?:toggle|show|hide)$/,Tn=RegExp("^(?:([+-])=|)("+b+")([a-z%]*)$","i"),Cn=/queueHooks$/,kn=[An],Nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Tn.exec(t),s=i&&i[3]||(x.cssNumber[e]?"":"px"),o=(x.cssNumber[e]||"px"!==s&&+r)&&Tn.exec(x.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,x.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&1!==u&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};x.Animation=x.extend(jn,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Nn[n]=Nn[n]||[],Nn[n].unshift(t)},prefilter:function(e,t){t?kn.unshift(e):kn.push(e)}}),x.Tween=Ln,Ln.prototype={constructor:Ln,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(x.cssNumber[n]?"":"px")},cur:function(){var e=Ln.propHooks[this.prop];return e&&e.get?e.get(this):Ln.propHooks._default.get(this)},run:function(e){var t,n=Ln.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ln.propHooks._default.set(this),this}},Ln.prototype.init.prototype=Ln.prototype,Ln.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ln.propHooks.scrollTop=Ln.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(qn(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),s=x.speed(t,n,r),o=function(){var t=jn(this,x.extend({},e),s);(i||q.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=x.timers,o=q.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&Cn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=x.timers,o=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),x.each({slideDown:qn("show"),slideUp:qn("hide"),slideToggle:qn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=Ln.prototype.init,x.fx.tick=function(){var e,t=x.timers,n=0;for(xn=x.now();t.length>n;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||x.fx.stop(),xn=undefined},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){bn||(bn=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(bn),bn=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===undefined?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,i=this[0],s={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,x.contains(t,i)?(typeof i.getBoundingClientRect!==r&&(s=i.getBoundingClientRect()),n=Hn(o),{top:s.top+n.pageYOffset-t.clientTop,left:s.left+n.pageXOffset-t.clientLeft}):s},x.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=x.css(e,"position"),c=x(e),h={};"static"===l&&(e.style.position="relative"),u=c.offset(),s=x.css(e,"top"),a=x.css(e,"left"),f=("absolute"===l||"fixed"===l)&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),x.isFunction(t)&&(t=t.call(e,n,u)),null!=t.top&&(h.top=t.top-u.top+o),null!=t.left&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},x.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===x.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(r=e.offset()),r.top+=x.css(e[0],"borderTopWidth",!0),r.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-x.css(n,"marginTop",!0),left:t.left-r.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;x.fn[t]=function(i){return x.access(this,function(t,i,s){var o=Hn(t);return s===undefined?o?o[n]:t[i]:(o?o.scrollTo(r?e.pageXOffset:s,r?s:e.pageYOffset):t[i]=s,undefined)},t,i,arguments.length,null)}}),x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){x.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return x.access(this,function(t,n,r){var i;return x.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?x.css(t,n,o):x.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=x)})(window),function(e,t,n){function r(e){return function(){var t=arguments[0],n,t="["+(e?e+":":"")+t+"] http://errors.angularjs.org/1.2.6/"+(e?e+"/":"")+t;for(n=1;n<arguments.length;n++)t=t+(1==n?"?":"&")+"p"+(n-1)+"="+encodeURIComponent("function"==typeof arguments[n]?arguments[n].toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof arguments[n]?"undefined":"string"!=typeof arguments[n]?JSON.stringify(arguments[n]):arguments[n]);return Error(t)}}function i(e){if(null==e||C(e))return!1;var t=e.length;return 1===e.nodeType&&t?!0:w(e)||x(e)||0===t||"number"==typeof t&&0<t&&t-1 in e}function s(e,t,n){var r;if(e)if(T(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r);else if(e.forEach&&e.forEach!==s)e.forEach(t,n);else if(i(e))for(r=0;r<e.length;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function o(e){var t=[],n;for(n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function u(e,t,n){for(var r=o(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function a(e){return function(t,n){e(n,t)}}function f(){for(var e=Yn.length,t;e;){e--,t=Yn[e].charCodeAt(0);if(57==t)return Yn[e]="A",Yn.join("");if(90!=t)return Yn[e]=String.fromCharCode(t+1),Yn.join("");Yn[e]="0"}return Yn.unshift("0"),Yn.join("")}function l(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e){var t=e.$$hashKey;return s(arguments,function(t){t!==e&&s(t,function(t,n){e[n]=t})}),l(e,t),e}function h(e){return parseInt(e,10)}function p(e,t){return c(new(c(function(){},{prototype:e})),t)}function d(){}function v(e){return e}function m(e){return function(){return e}}function g(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!=e&&"object"==typeof e}function w(e){return"string"==typeof e}function E(e){return"number"==typeof e}function S(e){return"[object Date]"===$n.call(e)}function x(e){return"[object Array]"===$n.call(e)}function T(e){return"function"==typeof e}function N(e){return"[object RegExp]"===$n.call(e)}function C(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function k(e){return!!e&&!!(e.nodeName||e.on&&e.find)}function L(e,t,n){var r=[];return s(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r}function A(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function O(e,t){var n=A(e,t);return 0<=n&&e.splice(n,1),t}function M(e,t){if(C(e)||e&&e.$evalAsync&&e.$watch)throw Jn("cpws");if(t){if(e===t)throw Jn("cpi");if(x(e))for(var n=t.length=0;n<e.length;n++)t.push(M(e[n]));else{n=t.$$hashKey,s(t,function(e,n){delete t[n]});for(var r in e)t[r]=M(e[r]);l(t,n)}}else(t=e)&&(x(e)?t=M(e,[]):S(e)?t=new Date(e.getTime()):N(e)?t=RegExp(e.source):b(e)&&(t=M(e,{})));return t}function _(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"$"!==n.charAt(1)&&(t[n]=e[n]);return t}function D(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r=typeof e,i;if(r==typeof t&&"object"==r){if(!x(e)){if(S(e))return S(t)&&e.getTime()==t.getTime();if(N(e)&&N(t))return e.toString()==t.toString();if(e&&e.$evalAsync&&e.$watch||t&&t.$evalAsync&&t.$watch||C(e)||C(t)||x(t))return!1;r={};for(i in e)if("$"!==i.charAt(0)&&!T(e[i])){if(!D(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!r.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!T(t[i]))return!1;return!0}if(!x(t))return!1;if((r=e.length)==t.length){for(i=0;i<r;i++)if(!D(e[i],t[i]))return!1;return!0}}return!1}function P(){return t.securityPolicy&&t.securityPolicy.isActive||t.querySelector&&(!!t.querySelector("[ng-csp]")||!!t.querySelector("[data-ng-csp]"))}function H(e,t){var n=2<arguments.length?Xn.call(arguments,2):[];return!T(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(Xn.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function B(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)?i=n:C(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":r&&r.$evalAsync&&r.$watch&&(i="$SCOPE"),i}function j(e,t){return"undefined"==typeof e?n:JSON.stringify(e,B,t?"  ":null)}function F(e){return w(e)?JSON.parse(e):e}function I(e){return e&&0!==e.length?(e=qn(""+e),e="f"!=e&&"0"!=e&&"false"!=e&&"no"!=e&&"n"!=e&&"[]"!=e):e=!1,e}function q(e){e=zn(e).clone();try{e.empty()}catch(t){}var n=zn("<div>").append(e).html();try{return 3===e[0].nodeType?qn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+qn(t)})}catch(r){return qn(n)}}function R(e){try{return decodeURIComponent(e)}catch(t){}}function U(e){var t={},n,r;return s((e||"").split("&"),function(e){e&&(n=e.split("="),r=R(n[0]),y(r)&&(e=y(n[1])?R(n[1]):!0,t[r]?x(t[r])?t[r].push(e):t[r]=[t[r],e]:t[r]=e))}),t}function z(e){var t=[];return s(e,function(e,n){x(e)?s(e,function(e){t.push(X(n,!0)+(!0===e?"":"="+X(e,!0)))}):t.push(X(n,!0)+(!0===e?"":"="+X(e,!0)))}),t.length?t.join("&"):""}function W(e){return X(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function V(e,n){function r(e){e&&i.push(e)}var i=[e],o,u,a=["ng:app","ng-app","x-ng-app","data-ng-app"],f=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;s(a,function(n){a[n]=!0,r(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(s(e.querySelectorAll("."+n),r),s(e.querySelectorAll("."+n+"\\:"),r),s(e.querySelectorAll("["+n+"]"),r))}),s(i,function(e){if(!o){var t=f.exec(" "+e.className+" ");t?(o=e,u=(t[2]||"").replace(/\s+/g,",")):s(e.attributes,function(t){!o&&a[t.name]&&(o=e,u=t.value)})}}),o&&n(o,u?[u]:[])}function $(n,r){var i=function(){n=zn(n);if(n.injector()){var e=n[0]===t?"document":q(n);throw Jn("btstrpd",e)}return r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.unshift("ng"),e=St(r),e.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,r,i){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e},o=/^NG_DEFER_BOOTSTRAP!/;if(e&&!o.test(e.name))return i();e.name=e.name.replace(o,""),Kn.resumeBootstrap=function(e){s(e,function(e){r.push(e)}),i()}}function J(e,t){return t=t||"_",e.replace(er,function(e,n){return(n?t:"")+e.toLowerCase()})}function K(e,t,n){if(!e)throw Jn("areq",t||"?",n||"required");return e}function Q(e,t,n){return n&&x(e)&&(e=e[e.length-1]),K(T(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function G(e,t){if("hasOwnProperty"===e)throw Jn("badname",t)}function Y(e,t,n){if(!t)return e;t=t.split(".");for(var r,i=e,s=t.length,o=0;o<s;o++)r=t[o],e&&(e=(i=e)[r]);return!n&&T(e)?H(i,e):e}function Z(e){var t=e[0];e=e[e.length-1];if(t===e)return zn(t);var n=[t];do{t=t.nextSibling;if(!t)break;n.push(t)}while(t!==e);return zn(n)}function et(e){var t=r("$injector"),n=r("ng");return e=e.angular||(e.angular={}),e.$$minErr=e.$$minErr||r,e.module||(e.module=function(){var e={};return function(r,i,s){if("hasOwnProperty"===r)throw n("badname","module");return i&&e.hasOwnProperty(r)&&(e[r]=null),e[r]||(e[r]=function(){function e(e,t,r){return function(){return n[r||"push"]([e,t,arguments]),a}}if(!i)throw t("nomod",r);var n=[],o=[],u=e("$injector","invoke"),a={_invokeQueue:n,_runBlocks:o,requires:i,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(e){return o.push(e),this}};return s&&u(s),a}())}}())}function tt(e){return e.replace(ur,function(e,t,n,r){return r?n.toUpperCase():n}).replace(ar,"Moz$1")}function nt(e,t,n,r){function i(e){var i=n&&e?[this.filter(e)]:[this],o=t,u,a,f,l,c,h;if(!r||null!=e)for(;i.length;)for(u=i.shift(),a=0,f=u.length;a<f;a++)for(l=zn(u[a]),o?l.triggerHandler("$destroy"):o=!o,c=0,l=(h=l.children()).length;c<l;c++)i.push(Wn(h[c]));return s.apply(this,arguments)}var s=Wn.fn[e],s=s.$original||s;i.$original=s,Wn.fn[e]=i}function rt(e){if(e instanceof rt)return e;if(!(this instanceof rt)){if(w(e)&&"<"!=e.charAt(0))throw fr("nosel");return new rt(e)}if(w(e)){var n=t.createElement("div");n.innerHTML="<div>&#160;</div>"+e,n.removeChild(n.firstChild),pt(this,n.childNodes),zn(t.createDocumentFragment()).append(this)}else pt(this,e)}function it(e){return e.cloneNode(!0)}function st(e){ut(e);var t=0;for(e=e.childNodes||[];t<e.length;t++)st(e[t])}function ot(e,t,n,r){if(y(r))throw fr("offargs");var i=at(e,"events");at(e,"handle")&&(g(t)?s(i,function(t,n){or(e,n,t),delete i[n]}):s(t.split(" "),function(t){g(n)?(or(e,t,i[t]),delete i[t]):O(i[t]||[],n)}))}function ut(e,t){var r=e[rr],i=nr[r];i&&(t?delete nr[r].data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ot(e)),delete nr[r],e[rr]=n))}function at(e,t,n){var r=e[rr],r=nr[r||-1];if(!y(n))return r&&r[t];r||(e[rr]=r=++ir,r=nr[r]={}),r[t]=n}function ft(e,t,n){var r=at(e,"data"),i=y(n),s=!i&&y(t),o=s&&!b(t);r||o||at(e,"data",r={});if(i)r[t]=n;else{if(!s)return r;if(o)return r&&r[t];c(r,t)}}function lt(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function ct(e,t){t&&e.setAttribute&&s(t.split(" "),function(t){e.setAttribute("class",Zn((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Zn(t)+" "," ")))})}function ht(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");s(t.split(" "),function(e){e=Zn(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Zn(n))}}function pt(e,t){if(t){t=t.nodeName||!y(t.length)||C(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function dt(e,t){return vt(e,"$"+(t||"ngController")+"Controller")}function vt(e,t,r){e=zn(e),9==e[0].nodeType&&(e=e.find("html"));for(t=x(t)?t:[t];e.length;){for(var i=0,s=t.length;i<s;i++)if((r=e.data(t[i]))!==n)return r;e=e.parent()}}function mt(e){for(var t=0,n=e.childNodes;t<n.length;t++)st(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e,t){var n=cr[t.toLowerCase()];return n&&hr[e.nodeName]&&n}function yt(e,n){var r=function(r,i){r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t);if(g(r.defaultPrevented)){var o=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,o.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||!1===r.returnValue};var u=_(n[i||r.type]||[]);s(u,function(t){t.call(e,r)}),8>=Un?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}function bt(e){var t=typeof e,r;return"object"==t&&null!==e?"function"==typeof (r=e.$$hashKey)?r=e.$$hashKey():r===n&&(r=e.$$hashKey=f()):r=e,t+":"+r}function wt(e){s(e,this.put,this)}function Et(e){var t,n;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&(n=e.toString().replace(mr,""),n=n.match(pr),s(n[1].split(dr),function(e){e.replace(vr,function(e,n,r){t.push(r)})})),e.$inject=t):x(e)?(n=e.length-1,Q(e[n],"fn"),t=e.slice(0,n)):Q(e,"fn",!0),t}function St(e){function t(e){return function(t,n){if(!b(t))return e(t,n);s(t,a(e))}}function n(e,t){G(e,"service");if(T(t)||x(t))t=p.instantiate(t);if(!t.$get)throw gr("pget",e);return h[e+f]=t}function r(e,t){return n(e,{$get:t})}function i(e){var t=[],n,r,o,u;return s(e,function(e){if(!c.get(e)){c.put(e,!0);try{if(w(e))for(n=Qn(e),t=t.concat(i(n.requires)).concat(n._runBlocks),r=n._invokeQueue,o=0,u=r.length;o<u;o++){var s=r[o],a=p.get(s[0]);a[s[1]].apply(a,s[2])}else T(e)?t.push(p.invoke(e)):x(e)?t.push(p.invoke(e)):Q(e,"module")}catch(f){throw x(e)&&(e=e[e.length-1]),f.message&&f.stack&&-1==f.stack.indexOf(f.message)&&(f=f.message+"\n"+f.stack),gr("modulerr",e,f.stack||f.message||f)}}}),t}function o(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===u)throw gr("cdep",l.join(" <- "));return e[n]}try{return l.unshift(n),e[n]=u,e[n]=t(n)}finally{l.shift()}}function r(e,t,r){var i=[],s=Et(e),o,u,a;u=0;for(o=s.length;u<o;u++){a=s[u];if("string"!=typeof a)throw gr("itkn",a);i.push(r&&r.hasOwnProperty(a)?r[a]:n(a))}return e.$inject||(e=e[o]),e.apply(t,i)}return{invoke:r,instantiate:function(e,t){var n=function(){},i;return n.prototype=(x(e)?e[e.length-1]:e).prototype,n=new n,i=r(e,n,t),b(i)||T(i)?i:n},get:n,annotate:Et,has:function(t){return h.hasOwnProperty(t+f)||e.hasOwnProperty(t)}}}var u={},f="Provider",l=[],c=new wt,h={$provide:{provider:t(n),factory:t(r),service:t(function(e,t){return r(e,["$injector",function(e){return e.instantiate(t)}])}),value:t(function(e,t){return r(e,m(t))}),constant:t(function(e,t){G(e,"constant"),h[e]=t,v[e]=t}),decorator:function(e,t){var n=p.get(e+f),r=n.$get;n.$get=function(){var e=g.invoke(r,n);return g.invoke(t,null,{$delegate:e})}}}},p=h.$injector=o(h,function(){throw gr("unpr",l.join(" <- "))}),v={},g=v.$injector=o(v,function(e){return e=p.get(e+f),g.invoke(e.$get,e)});return s(i(e),function(e){g.invoke(e||d)}),g}function xt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return s(e,function(e){t||"a"!==qn(e.nodeName)||(t=e)}),t}function o(){var e=n.hash(),r;e?(r=u.getElementById(e))?r.scrollIntoView():(r=i(u.getElementsByName(e)))?r.scrollIntoView():"top"===e&&t.scrollTo(0,0):t.scrollTo(0,0)}var u=t.document;return e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(o)}),o}]}function Tt(e,t,r,i){function o(e){try{e.apply(null,Xn.call(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(t){r.error(t)}}}function u(e,t){(function n(){s(E,function(e){e()}),S=t(n,e)})()}function a(){N=null,x!=f.url()&&(x=f.url(),s(C,function(e){e(f.url())}))}var f=this,l=t[0],c=e.location,h=e.history,p=e.setTimeout,v=e.clearTimeout,m={};f.isMock=!1;var y=0,b=[];f.$$completeOutstandingRequest=o,f.$$incOutstandingRequestCount=function(){y++},f.notifyWhenNoOutstandingRequests=function(e){s(E,function(e){e()}),0===y?e():b.push(e)};var E=[],S;f.addPollFn=function(e){return g(S)&&u(100,p),E.push(e),e};var x=c.href,T=t.find("base"),N=null;f.url=function(t,n){c!==e.location&&(c=e.location);if(!t)return N||c.href.replace(/%27/g,"'");if(x!=t)return x=t,i.history?n?h.replaceState(null,"",t):(h.pushState(null,"",t),T.attr("href",T.attr("href"))):(N=t,n?c.replace(t):c.href=t),f};var C=[],k=!1;f.onUrlChange=function(t){return k||(i.history&&zn(e).on("popstate",a),i.hashchange?zn(e).on("hashchange",a):f.addPollFn(a),k=!0),C.push(t),t},f.baseHref=function(){var e=T.attr("href");return e?e.replace(/^https?\:\/\/[^\/]*/,""):""};var L={},A="",O=f.baseHref();f.cookies=function(e,t){var i,s,o,u;if(!e){if(l.cookie!==A)for(A=l.cookie,i=A.split("; "),L={},o=0;o<i.length;o++)s=i[o],u=s.indexOf("="),0<u&&(e=unescape(s.substring(0,u)),L[e]===n&&(L[e]=unescape(s.substring(u+1))));return L}t===n?l.cookie=escape(e)+"=;path="+O+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(t)&&(i=(l.cookie=escape(e)+"="+escape(t)+";path="+O).length+1,4096<i&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},f.defer=function(e,t){var n;return y++,n=p(function(){delete m[n],o(e)},t||0),m[n]=!0,n},f.defer.cancel=function(e){return m[e]?(delete m[e],v(e),o(d),!0):!1}}function Nt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Tt(e,r,t,n)}]}function Ct(){this.$get=function(){function e(e,n){function i(e){e!=h&&(p?p==e&&(p=e.n):p=e,s(e.n,e.p),s(e,h),h=e,h.n=null)}function s(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid",e);var o=0,u=c({},n,{id:e}),a={},f=n&&n.capacity||Number.MAX_VALUE,l={},h=null,p=null;return t[e]={put:function(e,t){var n=l[e]||(l[e]={key:e});i(n);if(!g(t))return e in a||o++,a[e]=t,o>f&&this.remove(p.key),t},get:function(e){var t=l[e];if(t)return i(t),a[e]},remove:function(e){var t=l[e];t&&(t==h&&(h=t.p),t==p&&(p=t.n),s(t.n,t.p),delete l[e],delete a[e],o--)},removeAll:function(){a={},o=0,l={},h=p=null},destroy:function(){l=u=a=null,delete t[e]},info:function(){return c({},u,{size:o})}}}var t={};return e.info=function(){var e={};return s(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function kt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Lt(e,r){var i={},o="Directive",u=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,f=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,l=/^(on[a-z]+|formaction)$/;this.directive=function h(t,n){return G(t,"directive"),w(t)?(K(n,"directiveFactory"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,n){var r=[];return s(i[t],function(i,s){try{var o=e.invoke(i);T(o)?o={compile:m(o)}:!o.compile&&o.link&&(o.compile=m(o.link)),o.priority=o.priority||0,o.index=s,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"A",r.push(o)}catch(u){n(u)}}),r}])),i[t].push(n)):s(t,a(h)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,a,h,d,g,y,E,S,N,C,k){function L(e,t,n,r,i){e instanceof zn||(e=zn(e)),s(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=zn(t).wrap("<span></span>").parent()[0])});var o=O(e,t,e,n,r,i);return A(e,"ng-scope"),function(t,n,r){K(t,"scope");var i=n?lr.clone.call(e):e;s(r,function(e,t){i.data("$"+t+"Controller",e)}),r=0;for(var u=i.length;r<u;r++){var a=i[r].nodeType;1!==a&&9!==a||i.eq(r).data("$scope",t)}return n&&n(i,t),o&&o(t,i,i),i}}function A(e,t){try{e.addClass(t)}catch(n){}}function O(e,t,r,i,s,o){function u(e,r,i,s){var o,u,f,l,c,h,p;o=r.length;var d=Array(o);for(c=0;c<o;c++)d[c]=r[c];p=c=0;for(h=a.length;c<h;p++)u=d[p],r=a[c++],o=a[c++],f=zn(u),r?(r.scope?(l=e.$new(),f.data("$scope",l)):l=e,(f=r.transclude)||!s&&t?r(o,l,u,i,M(e,f||t)):r(o,l,u,i,s)):o&&o(e,u.childNodes,n,s)}for(var a=[],f,l,c,h,p=0;p<e.length;p++)f=new Z,l=P(e[p],[],f,0===p?i:n,s),(o=l.length?F(l,e[p],f,t,r,null,[],[],o):null)&&o.scope&&A(zn(e[p]),"ng-scope"),f=o&&o.terminal||!(c=e[p].childNodes)||!c.length?null:O(c,o?o.transclude:t),a.push(o,f),h=h||o||f,o=null;return h?u:null}function M(e,t){return function(n,r,i){var s=!1;return n||(n=e.$new(),s=n.$$transcluded=!0),r=t(n,r,i),s&&r.on("$destroy",H(n,n.$destroy)),r}}function P(e,t,n,r,i){var s=n.$attr,o;switch(e.nodeType){case 1:R(t,At(Gn(e).toLowerCase()),"E",r,i);var a,l,c;o=e.attributes;for(var h=0,p=o&&o.length;h<p;h++){var d=!1,v=!1;a=o[h];if(!Un||8<=Un||a.specified){l=a.name,c=At(l),rt.test(c)&&(l=J(c.substr(6),"-"));var m=c.replace(/(Start|End)$/,"");c===m+"Start"&&(d=l,v=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),c=At(l.toLowerCase()),s[c]=l,n[c]=a=Zn(a.value),gt(e,c)&&(n[c]=!0),Q(e,t,a,c),R(t,c,"A",r,i,d,v)}}e=e.className;if(w(e)&&""!==e)for(;o=f.exec(e);)c=At(o[2]),R(t,c,"C",r,i)&&(n[c]=Zn(o[3])),e=e.substr(o.index+o[0].length);break;case 3:V(t,e.nodeValue);break;case 8:try{if(o=u.exec(e.nodeValue))c=At(o[1]),R(t,c,"M",r,i)&&(n[c]=Zn(o[2]))}catch(g){}}return t.sort(W),t}function B(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw wr("uterdir",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(0<i)}else r.push(e);return zn(r)}function j(e,t,n){return function(r,i,s,o,u){return i=B(i[0],t,n),e(r,i,s,o,u)}}function F(e,i,o,u,f,l,c,h,p){function d(e,t,n,r){if(e){n&&(e=j(e,n,r)),e.require=F.require;if(C===F||F.$$isolateScope)e=Y(e,{isolateScope:!0});c.push(e)}if(t){n&&(t=j(t,n,r)),t.require=F.require;if(C===F||F.$$isolateScope)t=Y(t,{isolateScope:!0});h.push(t)}}function v(e,t,n){var r,i="data",o=!1;if(w(e)){for(;"^"==(r=e.charAt(0))||"?"==r;)e=e.substr(1),"^"==r&&(i="inheritedData"),o=o||"?"==r;r=null,n&&"data"===i&&(r=n[e]),r=r||t[i]("$"+e+"Controller");if(!r&&!o)throw wr("ctreq",e,R)}else x(e)&&(r=[],s(e,function(e){r.push(v(e,t,n))}));return r}function m(e,t,u,f,l){function p(e,t){var r;return 2>arguments.length&&(t=e,e=n),M&&(r=x),l(e,t,r)}var d,m,b,w,E,S,x={},T;d=i===u?o:_(o,new Z(zn(u),o.$attr)),m=d.$$element;if(C){var L=/^\s*([@=&])(\??)\s*(\w*)\s*$/;f=zn(u),S=t.$new(!0),k&&k===C.$$originalDirective?f.data("$isolateScope",S):f.data("$isolateScopeNoTemplate",S),A(f,"ng-isolate-scope"),s(C.scope,function(e,n){var i=e.match(L)||[],s=i[3]||n,o="?"==i[2],i=i[1],u,a,f,l;S.$$isolateBindings[n]=i+s;switch(i){case"@":d.$observe(s,function(e){S[n]=e}),d.$$observers[s].$$scope=t,d[s]&&(S[n]=r(d[s])(t));break;case"=":if(o&&!d[s])break;a=g(d[s]),l=a.literal?D:function(e,t){return e===t},f=a.assign||function(){throw u=S[n]=a(t),wr("nonassign",d[s],C.name)},u=S[n]=a(t),S.$watch(function(){var e=a(t);return l(e,S[n])||(l(e,u)?f(t,e=S[n]):S[n]=e),u=e},null,a.literal);break;case"&":a=g(d[s]),S[n]=function(e){return a(t,e)};break;default:throw wr("iscp",C.name,n,e)}})}T=l&&p,N&&s(N,function(e){var n={$scope:e===C||e.$$isolateScope?S:t,$element:m,$attrs:d,$transclude:T},r;E=e.controller,"@"==E&&(E=d[e.name]),r=y(E,n),x[e.name]=r,M||m.data("$"+e.name+"Controller",r),e.controllerAs&&(n.$scope[e.controllerAs]=r)}),f=0;for(b=c.length;f<b;f++)try{w=c[f],w(w.isolateScope?S:t,m,d,w.require&&v(w.require,m,x),T)}catch(O){a(O,q(m))}f=t,C&&(C.template||null===C.templateUrl)&&(f=S),e&&e(f,u.childNodes,n,l);for(f=h.length-1;0<=f;f--)try{w=h[f],w(w.isolateScope?S:t,m,d,w.require&&v(w.require,m,x),T)}catch(P){a(P,q(m))}}p=p||{};var E=-Number.MAX_VALUE,S,N=p.controllerDirectives,C=p.newIsolateScopeDirective,k=p.templateDirective;p=p.nonTlbTranscludeDirective;for(var O=!1,M=!1,H=o.$$element=zn(i),F,R,W,V=u,$,J=0,K=e.length;J<K;J++){F=e[J];var Q=F.$$start,et=F.$$end;Q&&(H=B(i,Q,et)),W=n;if(E>F.priority)break;if(W=F.scope)S=S||F,F.templateUrl||(X("new/isolated scope",C,F,H),b(W)&&(C=F));R=F.name,!F.templateUrl&&F.controller&&(W=F.controller,N=N||{},X("'"+R+"' controller",N[R],F,H),N[R]=F);if(W=F.transclude)O=!0,F.$$tlb||(X("transclusion",p,F,H),p=F),"element"==W?(M=!0,E=F.priority,W=B(i,Q,et),H=o.$$element=zn(t.createComment(" "+R+": "+o[R]+" ")),i=H[0],G(f,zn(Xn.call(W,0)),i),V=L(W,u,E,l&&l.name,{nonTlbTranscludeDirective:p})):(W=zn(it(i)).contents(),H.empty(),V=L(W,u));if(F.template)if(X("template",k,F,H),k=F,W=T(F.template)?F.template(H,o):F.template,W=nt(W),F.replace){l=F,W=zn("<div>"+Zn(W)+"</div>").contents(),i=W[0];if(1!=W.length||1!==i.nodeType)throw wr("tplrt",R,"");G(f,H,i),K={$attr:{}},W=P(i,[],K);var tt=e.splice(J+1,e.length-(J+1));C&&I(W),e=e.concat(W).concat(tt),U(o,K),K=e.length}else H.html(W);if(F.templateUrl)X("template",k,F,H),k=F,F.replace&&(l=F),m=z(e.splice(J,e.length-J),H,o,f,V,c,h,{controllerDirectives:N,newIsolateScopeDirective:C,templateDirective:k,nonTlbTranscludeDirective:p}),K=e.length;else if(F.compile)try{$=F.compile(H,o,V),T($)?d(null,$,Q,et):$&&d($.pre,$.post,Q,et)}catch(rt){a(rt,q(H))}F.terminal&&(m.terminal=!0,E=Math.max(E,F.priority))}return m.scope=S&&!0===S.scope,m.transclude=O&&V,m}function I(e){for(var t=0,n=e.length;t<n;t++)e[t]=p(e[t],{$$isolateScope:!0})}function R(t,r,s,u,f,l,c){if(r===f)return null;f=null;if(i.hasOwnProperty(r)){var h;r=e.get(r+o);for(var d=0,v=r.length;d<v;d++)try{h=r[d],(u===n||u>h.priority)&&-1!=h.restrict.indexOf(s)&&(l&&(h=p(h,{$$start:l,$$end:c})),t.push(h),f=h)}catch(m){a(m)}}return f}function U(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;s(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),s(t,function(t,s){"class"==s?(A(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==s?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==s.charAt(0)||e.hasOwnProperty(s)||(e[s]=t,r[s]=n[s])})}function z(e,t,n,r,i,o,u,a){var f=[],l,p,v=t[0],m=e.shift(),g=c({},m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=T(m.templateUrl)?m.templateUrl(t,n):m.templateUrl;return t.empty(),h.get(N.getTrustedResourceUrl(y),{cache:d}).success(function(c){var h,d;c=nt(c);if(m.replace){c=zn("<div>"+Zn(c)+"</div>").contents(),h=c[0];if(1!=c.length||1!==h.nodeType)throw wr("tplrt",m.name,y);c={$attr:{}},G(r,t,h);var w=P(h,[],c);b(m.scope)&&I(w),e=w.concat(e),U(n,c)}else h=v,t.html(c);e.unshift(g),l=F(e,h,n,i,t,m,o,u,a),s(r,function(e,n){e==h&&(r[n]=t[0])});for(p=O(t[0].childNodes,i);f.length;){c=f.shift(),d=f.shift();var E=f.shift(),S=f.shift(),w=t[0];d!==v&&(w=it(h),G(E,zn(d),w)),d=l.transclude?M(c,l.transclude):S,l(p,c,w,r,d)}f=null}).error(function(e,t,n,r){throw wr("tpload",r.url)}),function(e,t,n,r,i){f?(f.push(t),f.push(n),f.push(r),f.push(i)):l(p,t,n,r,i)}}function W(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function X(e,t,n,r){if(t)throw wr("multidir",t.name,n.name,e,q(r))}function V(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:m(function(e,t){var r=t.parent(),i=r.data("$binding")||[];i.push(n),A(r.data("$binding",i),"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})})})}function $(e,t){if("srcdoc"==t)return N.HTML;var n=Gn(e);if("xlinkHref"==t||"FORM"==n&&"action"==t||"IMG"!=n&&("src"==t||"ngSrc"==t))return N.RESOURCE_URL}function Q(e,t,n,i){var s=r(n,!0);if(s){if("multiple"===i&&"SELECT"===Gn(e))throw wr("selmulti",q(e));t.push({priority:100,compile:function(){return{pre:function(t,n,o){n=o.$$observers||(o.$$observers={});if(l.test(i))throw wr("nodomevents");if(s=r(o[i],!0,$(e,i)))o[i]=s(t),(n[i]||(n[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(s,function(e,t){"class"===i&&e!=t?o.$updateClass(e,t):o.$set(i,e)})}}}})}}function G(e,n,r){var i=n[0],s=n.length,o=i.parentNode,u,a;if(e)for(u=0,a=e.length;u<a;u++)if(e[u]==i){e[u++]=r,a=u+s-1;for(var f=e.length;u<f;u++,a++)a<f?e[u]=e[a]:delete e[u];e.length-=s-1;break}o&&o.replaceChild(r,i),e=t.createDocumentFragment(),e.appendChild(i),r[zn.expando]=i[zn.expando],i=1;for(s=n.length;i<s;i++)o=n[i],zn(o).remove(),e.appendChild(o),delete n[i];n[0]=r,n.length=1}function Y(e,t){return c(function(){return e.apply(null,arguments)},e,t)}var Z=function(e,t){this.$$element=e,this.$attr=t||{}};Z.prototype={$normalize:At,$addClass:function(e){e&&0<e.length&&C.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&C.removeClass(this.$$element,e)},$updateClass:function(e,t){this.$removeClass(Ot(t,e)),this.$addClass(Ot(e,t))},$set:function(e,t,r,i){var o=gt(this.$$element[0],e);o&&(this.$$element.prop(e,t),i=o),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=J(e,"-")),o=Gn(this.$$element);if("A"===o&&"href"===e||"IMG"===o&&"src"===e)this[e]=t=k(t,"src"===e);!1!==r&&(null===t||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t)),(r=this.$$observers)&&s(r[e],function(e){try{e(t)}catch(n){a(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);return i.push(t),E.$evalAsync(function(){i.$$inter||t(n[e])}),t}};var et=r.startSymbol(),tt=r.endSymbol(),nt="{{"==et||"}}"==tt?v:function(e){return e.replace(/\{\{/g,et).replace(/}}/g,tt)},rt=/^ngAttr[A-Z]/;return L}]}function At(e){return tt(e.replace(Er,""))}function Ot(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),s=0;e:for(;s<r.length;s++){for(var o=r[s],u=0;u<i.length;u++)if(o==i[u])continue e;n+=(0<n.length?" ":"")+o}return n}function Mt(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){G(t,"controller"),b(t)?c(e,t):e[t]=n},this.$get=["$injector","$window",function(n,i){return function(s,o){var u,a,f;w(s)&&(u=s.match(t),a=u[1],f=u[3],s=e.hasOwnProperty(a)?e[a]:Y(o.$scope,a,!0)||Y(i,a,!0),Q(s,a,!0)),u=n.instantiate(s,o);if(f){if(!o||"object"!=typeof o.$scope)throw r("$controller")("noscp",a||s.name,f);o.$scope[f]=u}return u}}]}function _t(){this.$get=["$window",function(e){return zn(e.document)}]}function Dt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Pt(e){var t={},n,r,i;return e?(s(e.split("\n"),function(e){i=e.indexOf(":"),n=qn(Zn(e.substr(0,i))),r=Zn(e.substr(i+1)),n&&(t[n]=t[n]?t[n]+(", "+r):r)}),t):t}function Ht(e){var t=b(e)?e:n;return function(n){return t||(t=Pt(e)),n?t[qn(n)]||null:t}}function Bt(e,t,n){return T(n)?n(e,t):(s(n,function(n){e=n(e,t)}),e)}function jt(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,i={"Content-Type":"application/json;charset=utf-8"},o=this.defaults={transformResponse:[function(n){return w(n)&&(n=n.replace(r,""),e.test(n)&&t.test(n)&&(n=F(n))),n}],transformRequest:[function(e){return b(e)&&"[object File]"!==$n.call(e)?j(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:i,put:i,patch:i},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=this.interceptors=[],f=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,i,l,h){function p(e){function r(e){var t=c({},e,{data:Bt(e.data,e.headers,i.transformResponse)});return 200<=e.status&&300>e.status?t:l.reject(t)}var i={transformRequest:o.transformRequest,transformResponse:o.transformResponse},u=function(e){function t(e){var t;s(e,function(n,r){T(n)&&(t=n(),null!=t?e[r]=t:delete e[r])})}var n=o.headers,r=c({},e.headers),i,u,n=c({},n.common,n[qn(e.method)]);t(n),t(r);e:for(i in n){e=qn(i);for(u in r)if(qn(u)===e)continue e;r[i]=n[i]}return r}(e);c(i,e),i.headers=u,i.method=Rn(i.method),(e=Sn(i.url)?t.cookies()[i.xsrfCookieName||o.xsrfCookieName]:n)&&(u[i.xsrfHeaderName||o.xsrfHeaderName]=e);var a=[function(e){u=e.headers;var t=Bt(e.data,Ht(u),e.transformRequest);return g(e.data)&&s(u,function(e,t){"content-type"===qn(t)&&delete u[t]}),g(e.withCredentials)&&!g(o.withCredentials)&&(e.withCredentials=o.withCredentials),d(e,t,u).then(r,r)},n],f=l.when(i);for(s(E,function(e){(e.request||e.requestError)&&a.unshift(e.request,e.requestError),(e.response||e.responseError)&&a.push(e.response,e.responseError)});a.length;){e=a.shift();var h=a.shift(),f=f.then(e,h)}return f.success=function(e){return f.then(function(t){e(t.data,t.status,t.headers,i)}),f},f.error=function(e){return f.then(null,function(t){e(t.data,t.status,t.headers,i)}),f},f}function d(t,n,r){function s(e,t,n){h&&(200<=e&&300>e?h.put(w,[e,t,Pt(n)]):h.remove(w)),u(t,e,n),i.$$phase||i.$apply()}function u(e,n,r){n=Math.max(n,0),(200<=n&&300>n?f.resolve:f.reject)({data:e,status:n,headers:Ht(r),config:t})}function a(){var e=A(p.pendingRequests,t);-1!==e&&p.pendingRequests.splice(e,1)}var f=l.defer(),c=f.promise,h,d,w=v(t.url,t.params);p.pendingRequests.push(t),c.then(a,a),(t.cache||o.cache)&&!1!==t.cache&&"GET"==t.method&&(h=b(t.cache)?t.cache:b(o.cache)?o.cache:m);if(h)if(d=h.get(w),y(d)){if(d.then)return d.then(a,a),d;x(d)?u(d[1],d[0],M(d[2])):u(d,200,{})}else h.put(w,c);return g(d)&&e(t.method,w,n,s,r,t.timeout,t.withCredentials,t.responseType),c}function v(e,t){if(!t)return e;var n=[];return u(t,function(e,t){null===e||g(e)||(x(e)||(e=[e]),s(e,function(e){b(e)&&(e=j(e)),n.push(X(t)+"="+X(e))}))}),e+(-1==e.indexOf("?")?"?":"&")+n.join("&")}var m=r("$http"),E=[];return s(a,function(e){E.unshift(w(e)?h.get(e):h.invoke(e))}),s(f,function(e,t){var n=w(e)?h.get(e):h.invoke(e);E.splice(t,0,{response:function(e){return n(l.when(e))},responseError:function(e){return n(l.reject(e))}})}),p.pendingRequests=[],function(e){s(arguments,function(e){p[e]=function(t,n){return p(c(n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){s(arguments,function(e){p[e]=function(t,n,r){return p(c(r||{},{method:e,url:t,data:n}))}})}("post","put"),p.defaults=o,p}]}function Ft(){this.$get=["$browser","$window","$document",function(e,t,n){return It(e,Sr,e.defer,t.angular.callbacks,n[0])}]}function It(e,t,n,r,i){function o(e,t){var n=i.createElement("script"),r=function(){n.onreadystatechange=n.onload=n.onerror=null,i.body.removeChild(n),t&&t()};return n.type="text/javascript",n.src=e,Un&&8>=Un?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&r()}:n.onload=n.onerror=function(){r()},i.body.appendChild(n),r}var u=-1;return function(i,a,f,l,c,h,p,v){function m(){b=u,E&&E(),S&&S.abort()}function g(t,r,i,s){var o=En(a).protocol;x&&n.cancel(x),E=S=null,r="file"==o&&0===r?i?200:404:r,t(1223==r?204:r,i,s),e.$$completeOutstandingRequest(d)}var b;e.$$incOutstandingRequestCount(),a=a||e.url();if("jsonp"==qn(i)){var w="_"+(r.counter++).toString(36);r[w]=function(e){r[w].data=e};var E=o(a.replace("JSON_CALLBACK","angular.callbacks."+w),function(){r[w].data?g(l,200,r[w].data):g(l,b||-2),delete r[w]})}else{var S=new t;S.open(i,a,!0),s(c,function(e,t){y(e)&&S.setRequestHeader(t,e)}),S.onreadystatechange=function(){if(4==S.readyState){var e=null,t=null;b!==u&&(e=S.getAllResponseHeaders(),t=S.responseType?S.response:S.responseText),g(l,b||S.status,t,e)}},p&&(S.withCredentials=!0),v&&(S.responseType=v),S.send(f||null)}if(0<h)var x=n(m,h);else h&&h.then&&h.then(m)}}function qt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function s(s,a,f){for(var l,c,h=0,p=[],d=s.length,v=!1,m=[];h<d;)-1!=(l=s.indexOf(e,h))&&-1!=(c=s.indexOf(t,l+o))?(h!=l&&p.push(s.substring(h,l)),p.push(h=n(v=s.substring(l+o,c))),h.exp=v,h=c+u,v=!0):(h!=d&&p.push(s.substring(h)),h=d);(d=p.length)||(p.push(""),d=1);if(f&&1<p.length)throw xr("noconcat",s);if(!a||v)return m.length=d,h=function(e){try{for(var t=0,n=d,o;t<n;t++)"function"==typeof (o=p[t])&&(o=o(e),o=f?i.getTrusted(f,o):i.valueOf(o),null===o||g(o)?o="":"string"!=typeof o&&(o=j(o))),m[t]=o;return m.join("")}catch(u){e=xr("interr",s,u.toString()),r(e)}},h.exp=s,h.parts=p,h}var o=e.length,u=t.length;return s.startSymbol=function(){return e},s.endSymbol=function(){return t},s}]}function Rt(){this.$get=["$rootScope","$window","$q",function(e,t,n){function r(r,s,o,u){var a=t.setInterval,f=t.clearInterval,l=n.defer(),c=l.promise,h=0,p=y(u)&&!u;return o=y(o)?o:0,c.then(null,null,r),c.$$intervalId=a(function(){l.notify(h++),0<o&&h>=o&&(l.resolve(h),f(c.$$intervalId),delete i[c.$$intervalId]),p||e.$apply()},s),i[c.$$intervalId]=l,c}var i={};return r.cancel=function(e){return e&&e.$$intervalId in i?(i[e.$$intervalId].reject("canceled"),clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0):!1},r}]}function Ut(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function zt(e){e=e.split("/");for(var t=e.length;t--;)e[t]=W(e[t]);return e.join("/")}function Wt(e,t,n){e=En(e,n),t.$$protocol=e.protocol,t.$$host=e.hostname,t.$$port=h(e.port)||Nr[e.protocol]||null}function Xt(e,t,n){var r="/"!==e.charAt(0);r&&(e="/"+e),e=En(e,n),t.$$path=decodeURIComponent(r&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname),t.$$search=U(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Vt(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function $t(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Jt(e){return e.substr(0,$t(e).lastIndexOf("/")+1)}function Kt(e,t){this.$$html5=!0,t=t||"";var r=Jt(e);Wt(e,this,e),this.$$parse=function(t){var n=Vt(r,t);if(!w(n))throw Cr("ipthprfx",t,r);Xt(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=z(this.$$search),t=this.$$hash?"#"+W(this.$$hash):"";this.$$url=zt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$rewrite=function(i){var s;if((s=Vt(e,i))!==n)return i=s,(s=Vt(t,s))!==n?r+(Vt("/",s)||s):e+i;if((s=Vt(r,i))!==n)return r+s;if(r==i+"/")return r}}function Qt(e,t){var n=Jt(e);Wt(e,this,e),this.$$parse=function(r){var i=Vt(e,r)||Vt(n,r),i="#"==i.charAt(0)?Vt(t,i):this.$$html5?i:"";if(!w(i))throw Cr("ihshprfx",r,t);Xt(i,this,e),r=this.$$path;var s=/^\/?.*?:(\/.*)/;0===i.indexOf(e)&&(i=i.replace(e,"")),s.exec(i)||(r=(i=s.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var n=z(this.$$search),r=this.$$hash?"#"+W(this.$$hash):"";this.$$url=zt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){if($t(e)==$t(t))return t}}function Gt(e,t){this.$$html5=!0,Qt.apply(this,arguments);var n=Jt(e);this.$$rewrite=function(r){var i;if(e==$t(r))return r;if(i=Vt(n,r))return e+t+i;if(n===r+"/")return n}}function Yt(e){return function(){return this[e]}}function Zt(e,t){return function(n){return g(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function en(){var t="",n=!1;this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(e){return y(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,s,o){function u(e){r.$broadcast("$locationChangeSuccess",a.absUrl(),e)}var a,f=i.baseHref(),l=i.url();n?(f=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(f||"/"),s=s.history?Kt:Gt):(f=$t(l),s=Qt),a=new s(f,"#"+t),a.$$parse(a.$$rewrite(l)),o.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=zn(t.target);"a"!==qn(n[0].nodeName);)if(n[0]===o[0]||!(n=n.parent())[0])return;var s=n.prop("href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=En(s.animVal).href);var u=a.$$rewrite(s);s&&!n.attr("target")&&u&&!t.isDefaultPrevented()&&(t.preventDefault(),u!=i.url()&&(a.$$parse(u),r.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),a.absUrl()!=l&&i.url(a.absUrl(),!0),i.onUrlChange(function(e){a.absUrl()!=e&&(r.$broadcast("$locationChangeStart",e,a.absUrl()).defaultPrevented?i.url(a.absUrl()):(r.$evalAsync(function(){var t=a.absUrl();a.$$parse(e),u(t)}),r.$$phase||r.$digest()))});var c=0;return r.$watch(function(){var e=i.url(),t=a.$$replace;return c&&e==a.absUrl()||(c++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",a.absUrl(),e).defaultPrevented?a.$$parse(e):(i.url(a.absUrl(),t),u(e))})),a.$$replace=!1,c}),a}]}function tn(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||d;e=!1;try{e=!!i.apply}catch(o){}return e?function(){var e=[];return s(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function nn(e,t){if("constructor"===e)throw kr("isecfld",t);return e}function rn(e,t){if(e){if(e.constructor===e)throw kr("isecfn",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw kr("isecwindow",t);if(e.children&&(e.nodeName||e.on&&e.find))throw kr("isecdom",t)}return e}function sn(e,t,r,i,s){s=s||{},t=t.split(".");for(var o,u=0;1<t.length;u++){o=nn(t.shift(),i);var a=e[o];a||(a={},e[o]=a),e=a,e.then&&s.unwrapPromises&&(Ar(i),"$$v"in e||function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return o=nn(t.shift(),i),e[o]=r}function on(e,t,r,i,s,o,u){return nn(e,o),nn(t,o),nn(r,o),nn(i,o),nn(s,o),u.unwrapPromises?function(u,a){var f=a&&a.hasOwnProperty(e)?a:u,l;return null==f?f:((f=f[e])&&f.then&&(Ar(o),"$$v"in f||(l=f,l.$$v=n,l.then(function(e){l.$$v=e})),f=f.$$v),null==f?t?n:f:((f=f[t])&&f.then&&(Ar(o),"$$v"in f||(l=f,l.$$v=n,l.then(function(e){l.$$v=e})),f=f.$$v),null==f?r?n:f:((f=f[r])&&f.then&&(Ar(o),"$$v"in f||(l=f,l.$$v=n,l.then(function(e){l.$$v=e})),f=f.$$v),null==f?i?n:f:((f=f[i])&&f.then&&(Ar(o),"$$v"in f||(l=f,l.$$v=n,l.then(function(e){l.$$v=e})),f=f.$$v),null==f?s?n:f:((f=f[s])&&f.then&&(Ar(o),"$$v"in f||(l=f,l.$$v=n,l.then(function(e){l.$$v=e})),f=f.$$v),f)))))}:function(o,u){var a=u&&u.hasOwnProperty(e)?u:o;return null==a?a:(a=a[e],null==a?t?n:a:(a=a[t],null==a?r?n:a:(a=a[r],null==a?i?n:a:(a=a[i],null==a?s?n:a:a=a[s]))))}}function un(e,t){return nn(e,t),function(t,r){return null==t?n:(r&&r.hasOwnProperty(e)?r:t)[e]}}function an(e,t,r){return nn(e,r),nn(t,r),function(r,i){return null==r?n:(r=(i&&i.hasOwnProperty(e)?i:r)[e],null==r?n:r[t])}}function fn(e,t,r){if(Pr.hasOwnProperty(e))return Pr[e];var i=e.split("."),o=i.length,u;if(t.unwrapPromises||1!==o)if(t.unwrapPromises||2!==o)if(t.csp)u=6>o?on(i[0],i[1],i[2],i[3],i[4],r,t):function(e,s){var u=0,a;do a=on(i[u++],i[u++],i[u++],i[u++],i[u++],r,t)(e,s),s=n,e=a;while(u<o);return a};else{var a="var p;\n";s(i,function(e,n){nn(e,r),a+="if(s == null) return undefined;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"];\n'+(t.unwrapPromises?'if (s && s.then) {\n pw("'+r.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});var a=a+"return s;",f=new Function("s","k","pw",a);f.toString=m(a),u=t.unwrapPromises?function(e,t){return f(e,t,Ar)}:f}else u=an(i[0],i[1],r);else u=un(i[0],r);return"hasOwnProperty"!==e&&(Pr[e]=u),u}function ln(){var e={},t={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(e){return y(e)?(t.unwrapPromises=!!e,this):t.unwrapPromises},this.logPromiseWarnings=function(e){return y(e)?(t.logPromiseWarnings=e,this):t.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,r,i){return t.csp=r.csp,Ar=function(e){t.logPromiseWarnings&&!Lr.hasOwnProperty(e)&&(Lr[e]=!0,i.warn("[$parse] Promise found in the expression `"+e+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(r){var i;switch(typeof r){case"string":if(e.hasOwnProperty(r))return e[r];return i=new _r(t),i=(new Dr(i,n,t)).parse(r,!1),"hasOwnProperty"!==r&&(e[r]=i),i;case"function":return r;default:return d}}}]}function cn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return hn(function(t){e.$evalAsync(t)},t)}]}function hn(e,t){function r(e){return e}function i(e){return a(e)}var o=function(){var s=[],f,l;return l={resolve:function(t){if(s){var r=s;s=n,f=u(t),r.length&&e(function(){for(var e,t=0,n=r.length;t<n;t++)e=r[t],f.then(e[0],e[1],e[2])})}},reject:function(e){l.resolve(a(e))},notify:function(t){if(s){var n=s;s.length&&e(function(){for(var e,r=0,i=n.length;r<i;r++)e=n[r],e[2](t)})}},promise:{then:function(e,n,u){var a=o(),l=function(n){try{a.resolve((T(e)?e:r)(n))}catch(i){a.reject(i),t(i)}},c=function(e){try{a.resolve((T(n)?n:i)(e))}catch(r){a.reject(r),t(r)}},h=function(e){try{a.notify((T(u)?u:r)(e))}catch(n){t(n)}};return s?s.push([l,c,h]):f.then(l,c,h),a.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=o();return t?n.resolve(e):n.reject(e),n.promise}function n(n,i){var s=null;try{s=(e||r)()}catch(o){return t(o,!1)}return s&&T(s.then)?s.then(function(){return t(n,i)},function(e){return t(e,!1)}):t(n,i)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},u=function(t){return t&&T(t.then)?t:{then:function(n){var r=o();return e(function(){r.resolve(n(t))}),r.promise}}},a=function(n){return{then:function(r,s){var u=o();return e(function(){try{u.resolve((T(s)?s:i)(n))}catch(e){u.reject(e),t(e)}}),u.promise}}};return{defer:o,reject:a,when:function(n,s,f,l){var c=o(),h,p=function(e){try{return(T(s)?s:r)(e)}catch(n){return t(n),a(n)}},d=function(e){try{return(T(f)?f:i)(e)}catch(n){return t(n),a(n)}},v=function(e){try{return(T(l)?l:r)(e)}catch(n){t(n)}};return e(function(){u(n).then(function(e){h||(h=!0,c.resolve(u(e).then(p,d,v)))},function(e){h||(h=!0,c.resolve(d(e)))},function(e){h||c.notify(v(e))})}),c.promise},all:function(e){var t=o(),n=0,r=x(e)?[]:{};return s(e,function(e,i){n++,u(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}}}function pn(){var e=10,t=r("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,s,o,u){function a(){this.$id=f(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$isolateBindings={}}function l(e){if(p.$$phase)throw t("inprog",p.$$phase);p.$$phase=e}function c(e,t){var n=o(e);return Q(n,t),n}function h(){}a.prototype={constructor:a,$new:function(e){return e?(e=new a,e.$root=this.$root,e.$$asyncQueue=this.$$asyncQueue,e.$$postDigestQueue=this.$$postDigestQueue):(e=function(){},e.prototype=this,e=new e,e.$id=f()),e["this"]=e,e.$$listeners={},e.$parent=this,e.$$watchers=e.$$nextSibling=e.$$childHead=e.$$childTail=null,e.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=e:this.$$childHead=this.$$childTail=e,e},$watch:function(e,t,r){var i=c(e,"watch"),s=this.$$watchers,o={fn:t,last:h,get:i,exp:e,eq:!!r};n=null;if(!T(t)){var u=c(t||d,"listener");o.fn=function(e,t,n){u(n)}}if("string"==typeof e&&i.constant){var a=o.fn;o.fn=function(e,t,n){a.call(this,e,t,n),O(s,o)}}return s||(s=this.$$watchers=[]),s.unshift(o),function(){O(s,o)}},$watchCollection:function(e,t){var n=this,r,s,u=0,a=o(e),f=[],l={},c=0;return this.$watch(function(){s=a(n);var e,t;if(b(s))if(i(s))for(r!==f&&(r=f,c=r.length=0,u++),e=s.length,c!==e&&(u++,r.length=c=e),t=0;t<e;t++)r[t]!==s[t]&&(u++,r[t]=s[t]);else{r!==l&&(r=l={},c=0,u++),e=0;for(t in s)s.hasOwnProperty(t)&&(e++,r.hasOwnProperty(t)?r[t]!==s[t]&&(u++,r[t]=s[t]):(c++,r[t]=s[t],u++));if(c>e)for(t in u++,r)r.hasOwnProperty(t)&&!s.hasOwnProperty(t)&&(c--,delete r[t])}else r!==s&&(r=s,u++);return u},function(){t(s,r,n)})},$digest:function(){var r,i,o,u,a=this.$$asyncQueue,f=this.$$postDigestQueue,c,d,v=e,m,g=[],y,b,w;l("$digest"),n=null;do{d=!1;for(m=this;a.length;){try{w=a.shift(),w.scope.$eval(w.expression)}catch(E){p.$$phase=null,s(E)}n=null}e:do{if(u=m.$$watchers)for(c=u.length;c--;)try{if(r=u[c])if((i=r.get(m))!==(o=r.last)&&!(r.eq?D(i,o):"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o)))d=!0,n=r,r.last=r.eq?M(i):i,r.fn(i,o===h?i:o,m),5>v&&(y=4-v,g[y]||(g[y]=[]),b=T(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,b+="; newVal: "+j(i)+"; oldVal: "+j(o),g[y].push(b));else if(r===n){d=!1;break e}}catch(S){p.$$phase=null,s(S)}if(!(u=m.$$childHead||m!==this&&m.$$nextSibling))for(;m!==this&&!(u=m.$$nextSibling);)m=m.$parent}while(m=u);if(d&&!(v--))throw p.$$phase=null,t("infdig",e,j(g))}while(d||a.length);for(p.$$phase=null;f.length;)try{f.shift()()}catch(x){s(x)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==p&&(e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null)}},$eval:function(e,t){return o(e)(this,t)},$evalAsync:function(e){p.$$phase||p.$$asyncQueue.length||u.defer(function(){p.$$asyncQueue.length&&p.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return l("$apply"),this.$eval(e)}catch(t){s(t)}finally{p.$$phase=null;try{p.$digest()}catch(n){throw s(n),n}}},$on:function(e,t){var n=this.$$listeners[e];return n||(this.$$listeners[e]=n=[]),n.push(t),function(){n[A(n,t)]=null}},$emit:function(e,t){var n=[],r,i=this,o=!1,u={name:e,targetScope:i,stopPropagation:function(){o=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},a=[u].concat(Xn.call(arguments,1)),f,l;do{r=i.$$listeners[e]||n,u.currentScope=i,f=0;for(l=r.length;f<l;f++)if(r[f])try{r[f].apply(null,a)}catch(c){s(c)}else r.splice(f,1),f--,l--;if(o)break;i=i.$parent}while(i);return u},$broadcast:function(e,t){var n=this,r=this,i={name:e,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},o=[i].concat(Xn.call(arguments,1)),u,a;do{n=r,i.currentScope=n,r=n.$$listeners[e]||[],u=0;for(a=r.length;u<a;u++)if(r[u])try{r[u].apply(null,o)}catch(f){s(f)}else r.splice(u,1),u--,a--;if(!(r=n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}while(n=r);return i}};var p=new a;return p}]}function dn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i=r?t:e,s;if(!Un||8<=Un)if(s=En(n).href,""!==s&&!s.match(i))return"unsafe:"+s;return n}}}function vn(e){if("self"===e)return e;if(w(e)){if(-1<e.indexOf("***"))throw Hr("iwcard",e);return e=e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+e+"$")}if(N(e))return RegExp("^"+e.source+"$");throw Hr("imatcher")}function mn(e){var t=[];return y(e)&&s(e,function(e){t.push(vn(e))}),t}function gn(){this.SCE_CONTEXTS=Br;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=mn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=mn(e)),t},this.$get=["$injector",function(r){function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(e){throw Hr("unsafe")};r.has("$sanitize")&&(s=r.get("$sanitize"));var o=i(),u={};return u[Br.HTML]=i(o),u[Br.CSS]=i(o),u[Br.URL]=i(o),u[Br.JS]=i(o),u[Br.RESOURCE_URL]=i(u[Br.URL]),{trustAs:function(e,t){var r=u.hasOwnProperty(e)?u[e]:null;if(!r)throw Hr("icontext",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw Hr("itype",e);return new r(t)},getTrusted:function(r,i){if(null===i||i===n||""===i)return i;var o=u.hasOwnProperty(r)?u[r]:null;if(o&&i instanceof o)return i.$$unwrapTrustedValue();if(r===Br.RESOURCE_URL){var o=En(i.toString()),a,f,l=!1;a=0;for(f=e.length;a<f;a++)if("self"===e[a]?Sn(o):e[a].exec(o.href)){l=!0;break}if(l)for(a=0,f=t.length;a<f;a++)if("self"===t[a]?Sn(o):t[a].exec(o.href)){l=!1;break}if(l)return i;throw Hr("insecurl",i.toString())}if(r===Br.HTML)return s(i);throw Hr("unsafe")},valueOf:function(e){return e instanceof o?e.$$unwrapTrustedValue():e}}}]}function yn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,r){if(e&&n.msie&&8>n.msieDocumentMode)throw Hr("iequirks");var i=M(Br);i.isEnabled=function(){return e},i.trustAs=r.trustAs,i.getTrusted=r.getTrusted,i.valueOf=r.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=v),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:function(t,n){return i.getTrusted(e,r(t,n))}};var o=i.parseAs,u=i.getTrusted,a=i.trustAs;return s(Br,function(e,t){var n=qn(t);i[tt("parse_as_"+n)]=function(t){return o(e,t)},i[tt("get_trusted_"+n)]=function(t){return u(e,t)},i[tt("trust_as_"+n)]=function(t){return a(e,t)}}),i}]}function bn(){this.$get=["$window","$document",function(e,t){var n={},r=h((/android (\d+)/.exec(qn((e.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},o=s.documentMode,u,a=/^(Moz|webkit|O|ms)(?=[A-Z])/,f=s.body&&s.body.style,l=!1,c=!1;if(f){for(var p in f)if(l=a.exec(p)){u=l[0],u=u.substr(0,1).toUpperCase()+u.substr(1);break}u||(u="WebkitOpacity"in f&&"webkit"),l="transition"in f||u+"Transition"in f,c="animation"in f||u+"Animation"in f,!r||l&&c||(l=w(s.body.style.webkitTransition),c=w(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>r||i),hashchange:"onhashchange"in e&&(!o||7<o),hasEvent:function(e){if("input"==e&&9==Un)return!1;if(g(n[e])){var t=s.createElement("div");n[e]="on"+e in t}return n[e]},csp:P(),vendorPrefix:u,transitions:l,animations:c,android:r,msie:Un,msieDocumentMode:o}}]}function wn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function i(i,o,u){var a=n.defer(),f=a.promise,l=y(u)&&!u;return o=t.defer(function(){try{a.resolve(i())}catch(t){a.reject(t),r(t)}finally{delete s[f.$$timeoutId]}l||e.$apply()},o),f.$$timeoutId=o,s[o]=a,f}var s={};return i.cancel=function(e){return e&&e.$$timeoutId in s?(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},i}]}function En(e,t){var n=e;return Un&&(jr.setAttribute("href",n),n=jr.href),jr.setAttribute("href",n),{href:jr.href,protocol:jr.protocol?jr.protocol.replace(/:$/,""):"",host:jr.host,search:jr.search?jr.search.replace(/^\?/,""):"",hash:jr.hash?jr.hash.replace(/^#/,""):"",hostname:jr.hostname,port:jr.port,pathname:"/"===jr.pathname.charAt(0)?jr.pathname:"/"+jr.pathname}}function Sn(e){return e=w(e)?En(e):e,e.protocol===Fr.protocol&&e.host===Fr.host}function xn(){this.$get=m(e)}function Tn(e){function t(r,i){if(b(r)){var o={};return s(r,function(e,n){o[n]=t(n,e)}),o}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Cn),t("date",_n),t("filter",Nn),t("json",Dn),t("limitTo",Pn),t("lowercase",zr),t("number",kn),t("orderBy",Hn),t("uppercase",Wr)}function Nn(){return function(e,t,n){if(!x(e))return e;var r=typeof n,i=[];i.check=function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0},"function"!==r&&(n="boolean"===r&&n?function(e,t){return Kn.equals(e,t)}:function(e,t){return t=(""+t).toLowerCase(),-1<(""+e).toLowerCase().indexOf(t)});var s=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!s(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if("$"!==r.charAt(0)&&s(e[r],t))return!0}return!1;case"array":for(r=0;r<e.length;r++)if(s(e[r],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var o in t)"$"==o?function(){if(t[o]){var e=o;i.push(function(n){return s(n,t[e])})}}():function(){if("undefined"!=typeof t[o]){var e=o;i.push(function(n){return s(Y(n,e),t[e])})}}();break;case"function":i.push(t);break;default:return e}for(var r=[],u=0;u<e.length;u++){var a=e[u];i.check(a)&&r.push(a)}return r}}function Cn(e){var t=e.NUMBER_FORMATS;return function(e,n){return g(n)&&(n=t.CURRENCY_SYM),Ln(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function kn(e){var t=e.NUMBER_FORMATS;return function(e,n){return Ln(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Ln(e,t,n,r,i){if(isNaN(e)||!isFinite(e))return"";var s=0>e;e=Math.abs(e);var o=e+"",u="",a=[],f=!1;if(-1!==o.indexOf("e")){var l=o.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>i+1?o="0":(u=o,f=!0)}if(f)0<i&&-1<e&&1>e&&(u=e.toFixed(i));else{o=(o.split(Ir)[1]||"").length,g(i)&&(i=Math.min(Math.max(t.minFrac,o),t.maxFrac)),o=Math.pow(10,i),e=Math.round(e*o)/o,e=(""+e).split(Ir),o=e[0],e=e[1]||"";var l=0,c=t.lgSize,h=t.gSize;if(o.length>=c+h)for(l=o.length-c,f=0;f<l;f++)0===(l-f)%h&&0!==f&&(u+=n),u+=o.charAt(f);for(f=l;f<o.length;f++)0===(o.length-f)%c&&0!==f&&(u+=n),u+=o.charAt(f);for(;e.length<i;)e+="0";i&&"0"!==i&&(u+=r+e.substr(0,i))}return a.push(s?t.negPre:t.posPre),a.push(u),a.push(s?t.negSuf:t.posSuf),a.join("")}function An(e,t,n){var r="";0>e&&(r="-",e=-e);for(e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function On(e,t,n,r){return n=n||0,function(i){i=i["get"+e]();if(0<n||i>-n)i+=n;return 0===i&&-12==n&&(i=12),An(i,t,r)}}function Mn(e,t){return function(n,r){var i=n["get"+e](),s=Rn(t?"SHORT"+e:e);return r[s][i]}}function _n(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var r=0,i=0,s=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=h(t[9]+t[10]),i=h(t[9]+t[11])),s.call(e,h(t[1]),h(t[2])-1,h(t[3])),r=h(t[4]||0)-r,i=h(t[5]||0)-i,s=h(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),o.call(e,r,i,s,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var i="",o=[],u,a;r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,w(n)&&(n=Ur.test(n)?h(n):t(n)),E(n)&&(n=new Date(n));if(!S(n))return n;for(;r;)(a=Rr.exec(r))?(o=o.concat(Xn.call(a,1)),r=o.pop()):(o.push(r),r=null);return s(o,function(t){u=qr[t],i+=u?u(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function Dn(){return function(e){return j(e,!0)}}function Pn(){return function(e,t){if(!x(e)&&!w(e))return e;t=h(t);if(w(e))return t?0<=t?e.slice(0,t):e.slice(t,e.length):"";var n=[],r,i;t>e.length?t=e.length:t<-e.length&&(t=-e.length),0<t?(r=0,i=t):(r=e.length+t,i=e.length);for(;r<i;r++)n.push(e[r]);return n}}function Hn(e){return function(t,n,r){function i(e,t){return I(t)?function(t,n){return e(n,t)}:e}if(!x(t)||!n)return t;n=x(n)?n:[n],n=L(n,function(t){var n=!1,r=t||v;if(w(t)){if("+"==t.charAt(0)||"-"==t.charAt(0))n="-"==t.charAt(0),t=t.substring(1);r=e(t)}return i(function(e,t){var n;n=r(e);var i=r(t),s=typeof n,o=typeof i;return s==o?("string"==s&&(n=n.toLowerCase(),i=i.toLowerCase()),n=n===i?0:n<i?-1:1):n=s<o?-1:1,n},n)});for(var s=[],o=0;o<t.length;o++)s.push(t[o]);return s.sort(i(function(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0},r))}}function Bn(e){return T(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function jn(e,t){function n(t,n){n=n?"-"+J(n,"-"):"",e.removeClass((t?ri:ni)+n).addClass((t?ni:ri)+n)}var r=this,i=e.parent().controller("form")||$r,o=0,u=r.$error={},a=[];r.$name=t.name||t.ngForm,r.$dirty=!1,r.$pristine=!0,r.$valid=!0,r.$invalid=!1,i.$addControl(r),e.addClass(ii),n(!0),r.$addControl=function(e){G(e.$name,"input"),a.push(e),e.$name&&(r[e.$name]=e)},r.$removeControl=function(e){e.$name&&r[e.$name]===e&&delete r[e.$name],s(u,function(t,n){r.$setValidity(n,!0,e)}),O(a,e)},r.$setValidity=function(e,t,s){var a=u[e];if(t)a&&(O(a,s),a.length||(o--,o||(n(t),r.$valid=!0,r.$invalid=!1),u[e]=!1,n(!0,e),i.$setValidity(e,!0,r)));else{o||n(t);if(a){if(-1!=A(a,s))return}else u[e]=a=[],o++,n(!1,e),i.$setValidity(e,!1,r);a.push(s),r.$valid=!1,r.$invalid=!0}},r.$setDirty=function(){e.removeClass(ii).addClass(si),r.$dirty=!0,r.$pristine=!1,i.$setDirty()},r.$setPristine=function(){e.removeClass(si).addClass(ii),r.$dirty=!1,r.$pristine=!0,s(a,function(e){e.$setPristine()})}}function Fn(e,t,i,s,o,u){if(!o.android){var a=!1;t.on("compositionstart",function(e){a=!0}),t.on("compositionend",function(){a=!1})}var f=function(){if(!a){var n=t.val();I(i.ngTrim||"T")&&(n=Zn(n)),s.$viewValue!==n&&e.$apply(function(){s.$setViewValue(n)})}};if(o.hasEvent("input"))t.on("input",f);else{var l,c=function(){l||(l=u.defer(function(){f(),l=null}))};t.on("keydown",function(e){e=e.keyCode,91===e||15<e&&19>e||37<=e&&40>=e||c()}),o.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",f),s.$render=function(){t.val(s.$isEmpty(s.$viewValue)?"":s.$viewValue)};var p=i.ngPattern,d=function(e,t){return s.$isEmpty(t)||e.test(t)?(s.$setValidity("pattern",!0),t):(s.$setValidity("pattern",!1),n)};p&&((o=p.match(/^\/(.*)\/([gim]*)$/))?(p=RegExp(o[1],o[2]),o=function(e){return d(p,e)}):o=function(n){var i=e.$eval(p);if(!i||!i.test)throw r("ngPattern")("noregexp",p,i,q(t));return d(i,n)},s.$formatters.push(o),s.$parsers.push(o));if(i.ngMinlength){var v=h(i.ngMinlength);o=function(e){return!s.$isEmpty(e)&&e.length<v?(s.$setValidity("minlength",!1),n):(s.$setValidity("minlength",!0),e)},s.$parsers.push(o),s.$formatters.push(o)}if(i.ngMaxlength){var m=h(i.ngMaxlength);o=function(e){return!s.$isEmpty(e)&&e.length>m?(s.$setValidity("maxlength",!1),n):(s.$setValidity("maxlength",!0),e)},s.$parsers.push(o),s.$formatters.push(o)}}function In(e,t){return e="ngClass"+e,function(){return{restrict:"AC",link:function(n,r,i){function o(e){if(!0===t||n.$index%2===t){var r=u(e||"");a?D(e,a)||i.$updateClass(r,u(a)):i.$addClass(r)}a=M(e)}function u(e){if(x(e))return e.join(" ");if(b(e)){var t=[];return s(e,function(e,n){e&&t.push(n)}),t.join(" ")}return e}var a;n.$watch(i[e],o,!0),i.$observe("class",function(t){o(n.$eval(i[e]))}),"ngClass"!==e&&n.$watch("$index",function(r,s){var o=r&1;if(o!==s&1){var a=u(n.$eval(i[e]));o===t?i.$addClass(a):i.$removeClass(a)}})}}}}var qn=function(e){return w(e)?e.toLowerCase():e},Rn=function(e){return w(e)?e.toUpperCase():e},Un,zn,Wn,Xn=[].slice,Vn=[].push,$n=Object.prototype.toString,Jn=r("ng"),Kn=e.angular||(e.angular={}),Qn,Gn,Yn=["0","0","0"];Un=h((/msie (\d+)/.exec(qn(navigator.userAgent))||[])[1]),isNaN(Un)&&(Un=h((/trident\/.*; rv:(\d+)/.exec(qn(navigator.userAgent))||[])[1])),d.$inject=[],v.$inject=[];var Zn=function(){return String.prototype.trim?function(e){return w(e)?e.trim():e}:function(e){return w(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();Gn=9>Un?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?Rn(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var er=/[A-Z]/g,tr={full:"1.2.6",major:1,minor:2,dot:6,codeName:"taco-salsafication"},nr=rt.cache={},rr=rt.expando="ng-"+(new Date).getTime(),ir=1,sr=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},or=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},ur=/([\:\-\_]+(.))/g,ar=/^moz([A-Z])/,fr=r("jqLite"),lr=rt.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),rt(e).on("load",r))},toString:function(){var e=[];return s(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return 0<=e?zn(this[e]):zn(this[this.length+e])},length:0,push:Vn,sort:[].sort,splice:[].splice},cr={};s("multiple selected checked disabled readOnly required open".split(" "),function(e){cr[qn(e)]=e});var hr={};s("input select option textarea button form details".split(" "),function(e){hr[Rn(e)]=!0}),s({data:ft,inheritedData:vt,scope:function(e){return zn(e).data("$scope")||vt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return zn(e).data("$isolateScope")||zn(e).data("$isolateScopeNoTemplate")},controller:dt,injector:function(e){return vt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:lt,css:function(e,t,r){t=tt(t);if(!y(r)){var i;return 8>=Un&&(i=e.currentStyle&&e.currentStyle[t],""===i&&(i="auto")),i=i||e.style[t],8>=Un&&(i=""===i?n:i),i}e.style[t]=r},attr:function(e,t,r){var i=qn(t);if(cr[i]){if(!y(r))return e[t]||(e.attributes.getNamedItem(t)||d).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(y(r))e.setAttribute(t,r);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){if(!y(n))return e[t];e[t]=n},text:function(){function e(e,n){var r=t[e.nodeType];if(g(n))return r?e[r]:"";e[r]=n}var t=[];return 9>Un?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(g(t)){if("SELECT"===Gn(e)&&e.multiple){var n=[];return s(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(g(t))return e.innerHTML;for(var n=0,r=e.childNodes;n<r.length;n++)st(r[n]);e.innerHTML=t},empty:mt},function(e,t){rt.prototype[t]=function(t,r){var i,s;if(e!==mt&&(2==e.length&&e!==lt&&e!==dt?t:r)===n){if(b(t)){for(i=0;i<this.length;i++)if(e===ft)e(this[i],t);else for(s in t)e(this[i],s,t[s]);return this}i=e.$dv,s=i===n?Math.min(this.length,1):this.length;for(var o=0;o<s;o++){var u=e(this[o],t,r);i=i?i+u:u}return i}for(i=0;i<this.length;i++)e(this[i],t,r);return this}}),s({removeData:ut,dealoc:st,on:function Ui(e,n,r,i){if(y(i))throw fr("onargs");var o=at(e,"events"),u=at(e,"handle");o||at(e,"events",o={}),u||at(e,"handle",u=yt(e,o)),s(n.split(" "),function(n){var i=o[n];if(!i){if("mouseenter"==n||"mouseleave"==n){var s=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};o[n]=[],Ui(e,{mouseleave:"mouseout",mouseenter:"mouseover"}[n],function(e){var t=e.relatedTarget;t&&(t===this||s(this,t))||u(e,n)})}else sr(e,n,u),o[n]=[];i=o[n]}i.push(r)})},off:ot,one:function(e,t,n){e=zn(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;st(e),s(new rt(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return s(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.childNodes||[]},append:function(e,t){s(new rt(t),function(t){1!==e.nodeType&&11!==e.nodeType||e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;s(new rt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=zn(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){st(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;s(new rt(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:ht,removeClass:ct,toggleClass:function(e,t,n){g(n)&&(n=!lt(e,t)),(n?ht:ct)(e,t)},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(e=e.nextSibling;null!=e&&1!==e.nodeType;)e=e.nextSibling;return e},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:it,triggerHandler:function(e,t,n){t=(at(e,"events")||{})[t],n=n||[];var r=[{preventDefault:d,stopPropagation:d}];s(t,function(t){t.apply(e,r.concat(n))})}},function(e,t){rt.prototype[t]=function(t,n,r){for(var i,s=0;s<this.length;s++)g(i)?(i=e(this[s],t,n,r),y(i)&&(i=zn(i))):pt(i,e(this[s],t,n,r));return y(i)?i:this},rt.prototype.bind=rt.prototype.on,rt.prototype.unbind=rt.prototype.off}),wt.prototype={put:function(e,t){this[bt(e)]=t},get:function(e){return this[bt(e)]},remove:function(e){var t=this[e=bt(e)];return delete this[e],t}};var pr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,dr=/,/,vr=/^\s*(_?)(\S+?)\1\s*$/,mr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,gr=r("$injector"),yr=r("$animate"),br=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw yr("notcsel",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout",function(e){return{enter:function(t,n,r,i){r?r.after(t):(n&&n[0]||(n=r.parent()),n.append(t)),i&&e(i,0,!1)},leave:function(t,n){t.remove(),n&&e(n,0,!1)},move:function(e,t,n,r){this.enter(e,t,n,r)},addClass:function(t,n,r){n=w(n)?n:x(n)?n.join(" "):"",s(t,function(e){ht(e,n)}),r&&e(r,0,!1)},removeClass:function(t,n,r){n=w(n)?n:x(n)?n.join(" "):"",s(t,function(e){ct(e,n)}),r&&e(r,0,!1)},enabled:d}}]}],wr=r("$compile");Lt.$inject=["$provide","$$sanitizeUriProvider"];var Er=/^(x[\:\-_]|data[\:\-_])/i,Sr=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw r("$httpBackend")("noxhr")},xr=r("$interpolate"),Tr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Nr={http:80,https:443,ftp:21},Cr=r("$location");Gt.prototype=Qt.prototype=Kt.prototype={$$html5:!1,$$replace:!1,absUrl:Yt("$$absUrl"),url:function(e,t){if(g(e))return this.$$url;var n=Tr.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:Yt("$$protocol"),host:Yt("$$host"),port:Yt("$$port"),path:Zt("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e))this.$$search=U(e);else{if(!b(e))throw Cr("isrcharg");this.$$search=e}break;default:g(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Zt("$$hash",v),replace:function(){return this.$$replace=!0,this}};var kr=r("$parse"),Lr={},Ar,Or={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},"undefined":d,"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),y(r)?y(i)?r+i:r:y(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(y(n)?n:0)-(y(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":d,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},Mr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},_r=function(e){this.options=e};_r.prototype={constructor:_r,lex:function(e){this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];var t;for(e=[];this.index<this.text.length;){this.ch=this.text.charAt(this.index);if(this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===e[0]&&(t=this.tokens[this.tokens.length-1])&&(t.json=-1===t.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&e.unshift(this.ch),this.is("}]")&&e.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var r=this.ch+this.peek(),i=r+this.peek(2),s=Or[this.ch],o=Or[r],u=Or[i];u?(this.tokens.push({index:this.index,text:i,fn:u}),this.index+=3):o?(this.tokens.push({index:this.index,text:r,fn:o}),this.index+=2):s?(this.tokens.push({index:this.index,text:this.ch,fn:s,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return"0"<=e&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||""===e},isIdent:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,kr("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=qn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e*=1,this.tokens.push({index:t,text:e,json:!0,fn:function(){return e}})},readIdent:function(){for(var e=this,t="",n=this.index,r,i,s,o;this.index<this.text.length;){o=this.text.charAt(this.index);if("."!==o&&!this.isIdent(o)&&!this.isNumber(o))break;"."===o&&(r=this.index),t+=o,this.index++}if(r)for(i=this.index;i<this.text.length;){o=this.text.charAt(i);if("("===o){s=t.substr(r-n+1),t=t.substr(0,r-n),this.index=i;break}if(!this.isWhitespace(o))break;i++}n={index:n,text:t};if(Or.hasOwnProperty(t))n.fn=Or[t],n.json=Or[t];else{var u=fn(t,this.options,this.text);n.fn=c(function(e,t){return u(e,t)},{assign:function(n,r){return sn(n,t,r,e.text,e.options)}})}this.tokens.push(n),s&&(this.tokens.push({index:r,text:".",json:!1}),this.tokens.push({index:r+1,text:s,json:!1}))},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var s=this.text.charAt(this.index),r=r+s;if(i)"u"===s?(s=this.text.substring(this.index+1,this.index+5),s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))):n=(i=Mr[s])?n+i:n+s,i=!1;else if("\\"===s)i=!0;else{if(s===e){this.index++,this.tokens.push({index:t,text:r,string:n,json:!0,fn:function(){return n}});return}n+=s}this.index++}this.throwError("Unterminated quote",t)}};var Dr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};Dr.ZERO=function(){return 0},Dr.prototype={constructor:Dr,parse:function(e,t){this.text=e,this.json=t,this.tokens=this.lexer.lex(e),t&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:e,index:0})});var n=t?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n.literal=!!n.literal,n.constant=!!n.constant,n},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();(e=t.fn)||this.throwError("not a primary expression",t),t.json&&(e.constant=!0,e.literal=!0)}for(var n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw kr("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw kr("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(0<this.tokens.length){var i=this.tokens[0],s=i.text;if(s===e||s===t||s===n||s===r||!(e||t||n||r))return i}return!1},expect:function(e,t,n,r){return(e=this.peek(e,t,n,r))?(this.json&&!e.json&&this.throwError("is not valid json",e),this.tokens.shift(),e):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return c(function(n,r){return e(n,r,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return c(function(r,i){return e(r,i)?t(r,i):n(r,i)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return c(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0;i<e.length;i++){var s=e[i];s&&(r=s(t,n))}return r}},filterChain:function(){for(var e=this.expression(),t;;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var r=function(e,r,i){i=[i];for(var s=0;s<n.length;s++)i.push(n[s](e,r));return t.apply(e,i)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary(),t,n;return(n=this.expect("="))?(e.assign||this.throwError("implies assignment but ["+this.text.substring(0,n.index)+"] can not be assigned to",n),t=this.ternary(),function(n,r){return e.assign(n,t(n,r),r)}):e},ternary:function(){var e=this.logicalOR(),t,n;if(!this.expect("?"))return e;t=this.ternary();if(n=this.expect(":"))return this.ternaryFn(e,t,this.ternary());this.throwError("expected :",n)},logicalOR:function(){for(var e=this.logicalAND(),t;;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var e=this.equality(),t;if(t=this.expect("&&"))e=this.binaryFn(e,t.fn,this.logicalAND());return e},equality:function(){var e=this.relational(),t;if(t=this.expect("==","!=","===","!=="))e=this.binaryFn(e,t.fn,this.equality());return e},relational:function(){var e=this.additive(),t;if(t=this.expect("<",">","<=",">="))e=this.binaryFn(e,t.fn,this.relational());return e},additive:function(){for(var e=this.multiplicative(),t;t=this.expect("+","-");)e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){for(var e=this.unary(),t;t=this.expect("*","/","%");)e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(Dr.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,r=fn(n,this.options,this.text);return c(function(t,n,i){return r(i||e(t,n),n)},{assign:function(r,i,s){return sn(e(r,s),n,i,t.text,t.options)}})},objectIndex:function(e){var t=this,r=this.expression();return this.consume("]"),c(function(i,s){var o=e(i,s),u=r(i,s),a;return o?((o=rn(o[u],t.text))&&o.then&&t.options.unwrapPromises&&(a=o,"$$v"in o||(a.$$v=n,a.then(function(e){a.$$v=e})),o=o.$$v),o):n},{assign:function(n,i,s){var o=r(n,s);return rn(e(n,s),t.text)[o]=i}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(i,s){for(var o=[],u=t?t(i,s):i,a=0;a<n.length;a++)o.push(n[a](i,s));return a=e(i,s,u)||d,rn(u,r.text),rn(a,r.text),o=a.apply?a.apply(u,o):a(o[0],o[1],o[2],o[3],o[4]),rn(o,r.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),c(function(t,n){for(var r=[],i=0;i<e.length;i++)r.push(e[i](t,n));return r},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{var n=this.expect(),n=n.string||n.text;this.consume(":");var r=this.expression();e.push({key:n,value:r}),r.constant||(t=!1)}while(this.expect(","));return this.consume("}"),c(function(t,n){for(var r={},i=0;i<e.length;i++){var s=e[i];r[s.key]=s.value(t,n)}return r},{literal:!0,constant:t})}};var Pr={},Hr=r("$sce"),Br={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},jr=t.createElement("a"),Fr=En(e.location.href,!0);Tn.$inject=["$provide"],Cn.$inject=["$locale"],kn.$inject=["$locale"];var Ir=".",qr={yyyy:On("FullYear",4),yy:On("FullYear",2,0,!0),y:On("FullYear",1),MMMM:Mn("Month"),MMM:Mn("Month",!0),MM:On("Month",2,1),M:On("Month",1,1),dd:On("Date",2),d:On("Date",1),HH:On("Hours",2),H:On("Hours",1),hh:On("Hours",2,-12),h:On("Hours",1,-12),mm:On("Minutes",2),m:On("Minutes",1),ss:On("Seconds",2),s:On("Seconds",1),sss:On("Milliseconds",3),EEEE:Mn("Day"),EEE:Mn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e){return e=-1*e.getTimezoneOffset(),e=(0<=e?"+":"")+(An(Math[0<e?"floor":"ceil"](e/60),2)+An(Math.abs(e%60),2))}},Rr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Ur=/^\-?\d+$/;_n.$inject=["$locale"];var zr=m(qn),Wr=m(Rn);Hn.$inject=["$parse"];var Xr=m({restrict:"E",compile:function(e,n){8>=Un&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix")));if(!n.href&&!n.name)return function(e,t){t.on("click",function(e){t.attr("href")||e.preventDefault()})}}}),Vr={};s(cr,function(e,t){if("multiple"!=e){var n=At("ng-"+t);Vr[n]=function(){return{priority:100,compile:function(){return function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}}),s(["src","srcset","href"],function(e){var t=At("ng-"+e);Vr[t]=function(){return{priority:99,link:function(n,r,i){i.$observe(t,function(t){t&&(i.$set(e,t),Un&&r.prop(e,i[e]))})}}}});var $r={$addControl:d,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d};jn.$inject=["$element","$attrs","$scope"];var Jr=function(e){return["$timeout",function(t){return{name:"form",restrict:e?"EAC":"E",controller:jn,compile:function(){return{pre:function(e,r,i,s){if(!i.action){var o=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};sr(r[0],"submit",o),r.on("$destroy",function(){t(function(){or(r[0],"submit",o)},0,!1)})}var u=r.parent().controller("form"),a=i.name||i.ngForm;a&&sn(e,a,s,a),u&&r.on("$destroy",function(){u.$removeControl(s),a&&sn(e,a,n,a),c(s,$r)})}}}}}]},Kr=Jr(),Qr=Jr(!0),Gr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Yr=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,Zr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,ei={text:Fn,number:function(e,t,r,i,s,o){Fn(e,t,r,i,s,o),i.$parsers.push(function(e){var t=i.$isEmpty(e);return t||Zr.test(e)?(i.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(i.$setValidity("number",!1),n)}),i.$formatters.push(function(e){return i.$isEmpty(e)?"":""+e}),r.min&&(e=function(e){var t=parseFloat(r.min);return!i.$isEmpty(e)&&e<t?(i.$setValidity("min",!1),n):(i.$setValidity("min",!0),e)},i.$parsers.push(e),i.$formatters.push(e)),r.max&&(e=function(e){var t=parseFloat(r.max);return!i.$isEmpty(e)&&e>t?(i.$setValidity("max",!1),n):(i.$setValidity("max",!0),e)},i.$parsers.push(e),i.$formatters.push(e)),i.$formatters.push(function(e){return i.$isEmpty(e)||E(e)?(i.$setValidity("number",!0),e):(i.$setValidity("number",!1),n)})},url:function(e,t,r,i,s,o){Fn(e,t,r,i,s,o),e=function(e){return i.$isEmpty(e)||Gr.test(e)?(i.$setValidity("url",!0),e):(i.$setValidity("url",!1),n)},i.$formatters.push(e),i.$parsers.push(e)},email:function(e,t,r,i,s,o){Fn(e,t,r,i,s,o),e=function(e){return i.$isEmpty(e)||Yr.test(e)?(i.$setValidity("email",!0),e):(i.$setValidity("email",!1),n)},i.$formatters.push(e),i.$parsers.push(e)},radio:function(e,t,n,r){g(n.name)&&t.attr("name",f()),t.on("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){t[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r){var i=n.ngTrueValue,s=n.ngFalseValue;w(i)||(i=!0),w(s)||(s=!1),t.on("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e!==i},r.$formatters.push(function(e){return e===i}),r.$parsers.push(function(e){return e?i:s})},hidden:d,button:d,submit:d,reset:d},ti=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,i,s){s&&(ei[qn(i.type)]||ei.text)(n,r,i,s,t,e)}}}],ni="ng-valid",ri="ng-invalid",ii="ng-pristine",si="ng-dirty",oi=["$scope","$exceptionHandler","$attrs","$element","$parse",function(e,t,n,i,o){function u(e,t){t=t?"-"+J(t,"-"):"",i.removeClass((e?ri:ni)+t).addClass((e?ni:ri)+t)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var a=o(n.ngModel),f=a.assign;if(!f)throw r("ngModel")("nonassign",n.ngModel,q(i));this.$render=d,this.$isEmpty=function(e){return g(e)||""===e||null===e||e!==e};var l=i.inheritedData("$formController")||$r,c=0,h=this.$error={};i.addClass(ii),u(!0),this.$setValidity=function(e,t){h[e]!==!t&&(t?(h[e]&&c--,c||(u(!0),this.$valid=!0,this.$invalid=!1)):(u(!1),this.$invalid=!0,this.$valid=!1,c++),h[e]=!t,u(t,e),l.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,i.removeClass(si).addClass(ii)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,i.removeClass(ii).addClass(si),l.$setDirty()),s(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,f(e,n),s(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var p=this;e.$watch(function(){var t=a(e);if(p.$modelValue!==t){var n=p.$formatters,r=n.length;for(p.$modelValue=t;r--;)t=n[r](t);p.$viewValue!==t&&(p.$viewValue=t,p.$render())}return t})}],ui=function(){return{require:["ngModel","^?form"],controller:oi,link:function(e,t,n,r){var i=r[0],s=r[1]||$r;s.$addControl(i),e.$on("$destroy",function(){s.$removeControl(i)})}}},ai=m({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),fi=function(){return{require:"?ngModel",link:function(e,t,n,r){if(r){n.required=!0;var i=function(e){if(!n.required||!r.$isEmpty(e))return r.$setValidity("required",!0),e;r.$setValidity("required",!1)};r.$formatters.push(i),r.$parsers.unshift(i),n.$observe("required",function(){i(r.$viewValue)})}}}},li=function(){return{require:"ngModel",link:function(e,t,r,i){var o=(e=/\/(.*)\//.exec(r.ngList))&&RegExp(e[1])||r.ngList||",";i.$parsers.push(function(e){if(!g(e)){var t=[];return e&&s(e.split(o),function(e){e&&t.push(Zn(e))}),t}}),i.$formatters.push(function(e){return x(e)?e.join(", "):n}),i.$isEmpty=function(e){return!e||!e.length}}}},ci=/^(true|false|\d+)$/,hi=function(){return{priority:100,compile:function(e,t){return ci.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},pi=Bn(function(e,t,r){t.addClass("ng-binding").data("$binding",r.ngBind),e.$watch(r.ngBind,function(e){t.text(e==n?"":e)})}),di=["$interpolate",function(e){return function(t,n,r){t=e(n.attr(r.$attr.ngBindTemplate)),n.addClass("ng-binding").data("$binding",t),r.$observe("ngBindTemplate",function(e){n.text(e)})}}],vi=["$sce","$parse",function(e,t){return function(n,r,i){r.addClass("ng-binding").data("$binding",i.ngBindHtml);var s=t(i.ngBindHtml);n.$watch(function(){return(s(n)||"").toString()},function(t){r.html(e.getTrustedHtml(s(n))||"")})}}],mi=In("",!0),gi=In("Odd",0),yi=In("Even",1),bi=Bn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),wi=[function(){return{scope:!0,controller:"@",priority:500}}],Ei={};s("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=At("ng-"+e);Ei[t]=["$parse",function(n){return{compile:function(r,i){var s=n(i[t]);return function(t,n,r){n.on(qn(e),function(e){t.$apply(function(){s(t,{$event:e})})})}}}}]});var Si=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,s,o){var u,a;n.$watch(i.ngIf,function(s){I(s)?a||(a=n.$new(),o(a,function(n){n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),u={clone:n},e.enter(n,r.parent(),r)})):(a&&(a.$destroy(),a=null),u&&(e.leave(Z(u.clone)),u=null))})}}}],xi=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,r,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Kn.noop,compile:function(s,o){var u=o.ngInclude||o.src,a=o.onload||"",f=o.autoscroll;return function(s,o,l,c,h){var p=0,d,v,m=function(){d&&(d.$destroy(),d=null),v&&(r.leave(v),v=null)};s.$watch(i.parseAsResourceUrl(u),function(i){var u=function(){!y(f)||f&&!s.$eval(f)||n()},l=++p;i?(e.get(i,{cache:t}).success(function(e){if(l===p){var t=s.$new();c.template=e,e=h(t,function(e){m(),r.enter(e,null,o,u)}),d=t,v=e,d.$emit("$includeContentLoaded"),s.$eval(a)}}).error(function(){l===p&&m()}),s.$emit("$includeContentRequested")):(m(),c.template=null)})}}}}],Ti=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,r,i){n.html(i.template),e(n.contents())(t)}}}],Ni=Bn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ci=Bn({terminal:!0,priority:1e3}),ki=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,i,o){var u=o.count,a=o.$attr.when&&i.attr(o.$attr.when),f=o.offset||0,l=r.$eval(a)||{},c={},h=t.startSymbol(),p=t.endSymbol(),d=/^when(Minus)?(.+)$/;s(o,function(e,t){d.test(t)&&(l[qn(t.replace("when","").replace("Minus","-"))]=i.attr(o.$attr[t]))}),s(l,function(e,r){c[r]=t(e.replace(n,h+u+"-"+f+p))}),r.$watch(function(){var t=parseFloat(r.$eval(u));return isNaN(t)?"":(t in l||(t=e.pluralCat(t-f)),c[t](r,i,!0))},function(e){i.text(e)})}}}],Li=["$parse","$animate",function(e,n){var o=r("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(r,u,a,f,l){var c=a.ngRepeat,h=c.match(/^\s*(.+)\s+in\s+([\r\n\s\S]*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),p,d,v,m,g,y,b={$id:bt};if(!h)throw o("iexp",c);a=h[1],f=h[2],(h=h[4])?(p=e(h),d=function(e,t,n){return y&&(b[y]=e),b[g]=t,b.$index=n,p(r,b)}):(v=function(e,t){return bt(t)},m=function(e){return e}),h=a.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!h)throw o("iidexp",a);g=h[3]||h[1],y=h[2];var w={};r.$watchCollection(f,function(e){var a,f,h=u[0],p,b={},E,S,x,T,N,C,k=[];if(i(e))N=e,p=d||v;else{p=d||m,N=[];for(x in e)e.hasOwnProperty(x)&&"$"!=x.charAt(0)&&N.push(x);N.sort()}E=N.length,f=k.length=N.length;for(a=0;a<f;a++)if(x=e===N?a:N[a],T=e[x],T=p(x,T,a),G(T,"`track by` id"),w.hasOwnProperty(T))C=w[T],delete w[T],b[T]=C,k[a]=C;else{if(b.hasOwnProperty(T))throw s(k,function(e){e&&e.scope&&(w[e.id]=e)}),o("dupes",c,T);k[a]={id:T},b[T]=!1}for(x in w)w.hasOwnProperty(x)&&(C=w[x],a=Z(C.clone),n.leave(a),s(a,function(e){e.$$NG_REMOVED=!0}),C.scope.$destroy());a=0;for(f=N.length;a<f;a++){x=e===N?a:N[a],T=e[x],C=k[a],k[a-1]&&(h=k[a-1].clone[k[a-1].clone.length-1]);if(C.scope){S=C.scope,p=h;do p=p.nextSibling;while(p&&p.$$NG_REMOVED);C.clone[0]!=p&&n.move(Z(C.clone),null,zn(h)),h=C.clone[C.clone.length-1]}else S=r.$new();S[g]=T,y&&(S[y]=x),S.$index=a,S.$first=0===a,S.$last=a===E-1,S.$middle=!S.$first&&!S.$last,S.$odd=!(S.$even=0===(a&1)),C.scope||l(S,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+c+" "),n.enter(e,null,zn(h)),h=e,C.scope=S,C.clone=e,b[C.id]=C})}w=b})}}}],Ai=["$animate",function(e){return function(t,n,r){t.$watch(r.ngShow,function(t){e[I(t)?"removeClass":"addClass"](n,"ng-hide")})}}],Oi=["$animate",function(e){return function(t,n,r){t.$watch(r.ngHide,function(t){e[I(t)?"addClass":"removeClass"](n,"ng-hide")})}}],Mi=Bn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&s(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),_i=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,i){var o,u,a=[];t.$watch(r.ngSwitch||r.on,function(n){for(var f=0,l=a.length;f<l;f++)a[f].$destroy(),e.leave(u[f]);u=[],a=[];if(o=i.cases["!"+n]||i.cases["?"])t.$eval(r.change),s(o,function(n){var r=t.$new();a.push(r),n.transclude(r,function(t){var r=n.element;u.push(t),e.enter(t,r.parent(),r)})})})}}}],Di=Bn({transclude:"element",priority:800,require:"^ngSwitch",compile:function(e,t){return function(e,n,r,i,s){i.cases["!"+t.ngSwitchWhen]=i.cases["!"+t.ngSwitchWhen]||[],i.cases["!"+t.ngSwitchWhen].push({transclude:s,element:n})}}}),Pi=Bn({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Hi=Bn({controller:["$element","$transclude",function(e,t){if(!t)throw r("ngTransclude")("orphan",q(e));this.$transclude=t}],link:function(e,t,n,r){r.$transclude(function(e){t.empty(),t.append(e)})}}),Bi=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],ji=r("ngOptions"),Fi=m({terminal:!0}),Ii=["$compile","$parse",function(e,r){var i=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,u={$setViewValue:d};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r=this,i={},s=u,o;r.databound=n.ngModel,r.init=function(e,t,n){s=e,o=n},r.addOption=function(t){G(t,'"option value"'),i[t]=!0,s.$viewValue==t&&(e.val(t),o.parent()&&o.remove())},r.removeOption=function(e){this.hasOption(e)&&(delete i[e],s.$viewValue==e&&this.renderUnknownOption(e))},r.renderUnknownOption=function(t){t="? "+bt(t)+" ?",o.val(t),e.prepend(o),e.val(t),o.prop("selected",!0)},r.hasOption=function(e){return i.hasOwnProperty(e)},t.$on("$destroy",function(){r.renderUnknownOption=d})}],link:function(u,a,f,l){function c(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(T.parent()&&T.remove(),t.val(e),""===e&&w.prop("selected",!0)):g(e)&&w?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){T.parent()&&T.remove(),n.$setViewValue(t.val())})})}function h(e,t,n){var r;n.$render=function(){var e=new wt(n.$viewValue);s(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){D(r,n.$viewValue)||(r=M(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];s(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,s,u){function a(){var e={"":[]},n=[""],r,i,a,f,m;f=u.$modelValue,m=g(t)||[];var N=h?o(m):m,C,k,L;k={},a=!1;var A,O;if(v)if(w&&x(f))for(a=new wt([]),L=0;L<f.length;L++)k[c]=f[L],a.put(w(t,k),f[L]);else a=new wt(f);for(L=0;C=N.length,L<C;L++){i=L;if(h){i=N[L];if("$"===i.charAt(0))continue;k[h]=i}k[c]=m[i],r=p(t,k)||"",(i=e[r])||(i=e[r]=[],n.push(r)),v?r=y(a.remove(w?w(t,k):d(t,k))):(w?(r={},r[c]=f,r=w(t,r)===w(t,k)):r=f===d(t,k),a=a||r),A=l(t,k),A=y(A)?A:"",i.push({id:w?w(t,k):h?N[L]:L,label:A,selected:r})}v||(b||null===f?e[""].unshift({id:"",label:"",selected:!a}):a||e[""].unshift({id:"?",label:"",selected:!0})),k=0;for(N=n.length;k<N;k++){r=n[k],i=e[r],T.length<=k?(f={element:S.clone().attr("label",r),label:i.label},m=[f],T.push(m),s.append(f.element)):(m=T[k],f=m[0],f.label!=r&&f.element.attr("label",f.label=r)),A=null,L=0;for(C=i.length;L<C;L++)a=i[L],(r=m[L+1])?(A=r.element,r.label!==a.label&&A.text(r.label=a.label),r.id!==a.id&&A.val(r.id=a.id),A[0].selected!==a.selected&&A.prop("selected",r.selected=a.selected)):(""===a.id&&b?O=b:(O=E.clone()).val(a.id).attr("selected",a.selected).text(a.label),m.push({element:O,label:a.label,id:a.id,selected:a.selected}),A?A.after(O):f.element.append(O),A=O);for(L++;m.length>L;)m.pop().element.remove()}for(;T.length>k;)T.pop()[0].element.remove()}var f;if(!(f=m.match(i)))throw ji("iexp",m,q(s));var l=r(f[2]||f[1]),c=f[4]||f[6],h=f[5],p=r(f[3]||""),d=r(f[2]?f[1]:c),g=r(f[7]),w=f[8]?r(f[8]):null,T=[[{element:s,label:""}]];b&&(e(b)(t),b.removeClass("ng-scope"),b.remove()),s.empty(),s.on("change",function(){t.$apply(function(){var e,r=g(t)||[],i={},o,a,f,l,p,m,y;if(v){for(a=[],l=0,m=T.length;l<m;l++)for(e=T[l],f=1,p=e.length;f<p;f++)if((o=e[f].element)[0].selected){o=o.val(),h&&(i[h]=o);if(w)for(y=0;y<r.length&&(i[c]=r[y],w(t,i)!=o);y++);else i[c]=r[o];a.push(d(t,i))}}else if(o=s.val(),"?"==o)a=n;else if(""===o)a=null;else if(w){for(y=0;y<r.length;y++)if(i[c]=r[y],w(t,i)==o){a=d(t,i);break}}else i[c]=r[o],h&&(i[h]=o),a=d(t,i);u.$setViewValue(a)})}),u.$render=a,t.$watch(a)}if(l[1]){var d=l[0];l=l[1];var v=f.multiple,m=f.ngOptions,b=!1,w,E=zn(t.createElement("option")),S=zn(t.createElement("optgroup")),T=E.clone();f=0;for(var N=a.children(),C=N.length;f<C;f++)if(""===N[f].value){w=b=N.eq(f);break}d.init(l,b,T),v&&(l.$isEmpty=function(e){return!e||0===e.length}),m?p(u,a,l):v?h(u,a,l):c(u,a,l,d)}}}}],qi=["$interpolate",function(e){var t={addOption:d,removeOption:d};return{restrict:"E",priority:100,compile:function(n,r){if(g(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var s=n.parent(),o=s.data("$selectController")||s.parent().data("$selectController");o&&o.databound?n.prop("selected",!1):o=t,i?e.$watch(i,function(e,t){r.$set("value",e),e!==t&&o.removeOption(t),o.addOption(e)}):o.addOption(r.value),n.on("$destroy",function(){o.removeOption(r.value)})}}}}],Ri=m({restrict:"E",terminal:!0});(Wn=e.jQuery)?(zn=Wn,c(Wn.fn,{scope:lr.scope,isolateScope:lr.isolateScope,controller:lr.controller,injector:lr.injector,inheritedData:lr.inheritedData}),nt("remove",!0,!0,!1),nt("empty",!1,!1,!1),nt("html",!1,!1,!0)):zn=rt,Kn.element=zn,function(t){c(t,{bootstrap:$,copy:M,extend:c,equals:D,element:zn,forEach:s,injector:St,noop:d,bind:H,toJson:j,fromJson:F,identity:v,isUndefined:g,isDefined:y,isString:w,isFunction:T,isObject:b,isNumber:E,isElement:k,isArray:x,version:tr,isDate:S,lowercase:qn,uppercase:Rn,callbacks:{counter:0},$$minErr:r,$$csp:P}),Qn=et(e);try{Qn("ngLocale")}catch(n){Qn("ngLocale",[]).provider("$locale",Ut)}Qn("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:dn}),e.provider("$compile",Lt).directive({a:Xr,input:ti,textarea:ti,form:Kr,script:Bi,select:Ii,style:Ri,option:qi,ngBind:pi,ngBindHtml:vi,ngBindTemplate:di,ngClass:mi,ngClassEven:yi,ngClassOdd:gi,ngCloak:bi,ngController:wi,ngForm:Qr,ngHide:Oi,ngIf:Si,ngInclude:xi,ngInit:Ni,ngNonBindable:Ci,ngPluralize:ki,ngRepeat:Li,ngShow:Ai,ngStyle:Mi,ngSwitch:_i,ngSwitchWhen:Di,ngSwitchDefault:Pi,ngOptions:Fi,ngTransclude:Hi,ngModel:ui,ngList:li,ngChange:ai,required:fi,ngRequired:fi,ngValue:hi}).directive({ngInclude:Ti}).directive(Vr).directive(Ei),e.provider({$anchorScroll:xt,$animate:br,$browser:Nt,$cacheFactory:Ct,$controller:Mt,$document:_t,$exceptionHandler:Dt,$filter:Tn,$interpolate:qt,$interval:Rt,$http:jt,$httpBackend:Ft,$location:en,$log:tn,$parse:ln,$rootScope:pn,$q:cn,$sce:yn,$sceDelegate:gn,$sniffer:bn,$templateCache:kt,$timeout:wn,$window:xn})}])}(Kn),zn(t).ready(function(){V(t,$)})}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}</style>'),define("angular",["jquery"],function(e){return function(){var t,n;return t||e.angular}}(this)),function(){angular.module("http-auth-interceptor",["http-auth-interceptor-buffer"]).factory("interceptorService",["$rootScope","httpBuffer",function(e,t){return{loginConfirmed:function(t,n){var r=n||function(e){return e};e.$broadcast("event:auth-loginConfirmed",t)},loginCancelled:function(n,r){t.rejectAll(r),e.$broadcast("event:auth-loginCancelled",n)}}}]).config(["$httpProvider",function(e){var t=["$rootScope","$q","httpBuffer","$location",function(e,t,n,r){function i(e){return e}function s(r){if(r.status===401&&!r.config.ignoreAuthModule){var i=t.defer();return n.append(r.config,i),e.$broadcast("event:auth-loginRequired",r),i.promise}return t.reject(r)}return function(e){return e.then(i,s)}}];e.responseInterceptors.push(t)}]),angular.module("http-auth-interceptor-buffer",[]).factory("httpBuffer",["$injector",function(e){function r(t,r){function i(e){r.resolve(e)}function s(e){r.reject(e)}n=n||e.get("$http"),n(t).then(i,s)}var t=[],n;return{append:function(e,n){t.push({config:e,deferred:n})},rejectAll:function(e){if(e)for(var n in t)t[n].deferred.reject(e);t=[]},retryAll:function(e){for(var n in t)r(e(t[n].config),t[n].deferred);t=[]}}}])}(),define("http-auth-interceptor",["angular"],function(){}),function(){var e=angular.module("LocalStorageModule",[]);e.value("prefix","campuslively"),e.constant("cookie",{expiry:30,path:"/"}),e.constant("notify",{setItem:!0,removeItem:!1}),e.service("localStorageService",["$rootScope","prefix","cookie","notify",function(e,t,n,r){t.substr(-1)!=="."&&(t=t?t+".":"");var i=function(){try{return"localStorage"in window&&window.localStorage!==null}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}},s=function(n,s){if(!i())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),r.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:n,newvalue:s,storageType:"cookie"}),c(n,s);typeof s=="undefined"&&(s=null);try{if(angular.isObject(s)||angular.isArray(s))s=angular.toJson(s);localStorage.setItem(t+n,s),r.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:n,newvalue:s,storageType:"localStorage"})}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.message),c(n,s)}return!0},o=function(n){if(!i())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),h(n);var r=localStorage.getItem(t+n);return!r||r==="null"?null:r.charAt(0)==="{"||r.charAt(0)==="["?angular.fromJson(r):r},u=function(n){if(!i())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),r.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),p(n);try{localStorage.removeItem(t+n),r.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"localStorage"})}catch(s){return e.$broadcast("LocalStorageModule.notification.error",s.message),p(n)}return!0},a=function(){if(!i())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var n=t.length,r=[];for(var s in localStorage)if(s.substr(0,n)===t)try{r.push(s.substr(n))}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.Description),[]}return r},f=function(){if(!i())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),d();var n=t.length;for(var r in localStorage)if(r.substr(0,n)===t)try{u(r.substr(n))}catch(s){return e.$broadcast("LocalStorageModule.notification.error",s.message),d()}return!0},l=function(){try{return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}},c=function(r,i){if(typeof i=="undefined")return!1;if(!l())return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var s="",o=new Date;i===null?(o.setTime(o.getTime()+ -864e5),s="; expires="+o.toGMTString(),i=""):n.expiry!==0&&(o.setTime(o.getTime()+n.expiry*24*60*60*1e3),s="; expires="+o.toGMTString()),!r||(document.cookie=t+r+"="+encodeURIComponent(i)+s+"; path="+n.path)}catch(u){return e.$broadcast("LocalStorageModule.notification.error",u.message),!1}return!0},h=function(n){if(!l())return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;var r=document.cookie.split(";");for(var i=0;i<r.length;i++){var s=r[i];while(s.charAt(0)==" ")s=s.substring(1,s.length);if(s.indexOf(t+n+"=")===0)return decodeURIComponent(s.substring(t.length+n.length+1,s.length))}return null},p=function(e){c(e,null)},d=function(){var e=null,n=null,r=t.length,i=document.cookie.split(";");for(var s=0;s<i.length;s++){e=i[s];while(e.charAt(0)==" ")e=e.substring(1,e.length);key=e.substring(r,e.indexOf("=")),p(key)}};return{isSupported:i,set:s,add:s,get:o,keys:a,remove:u,clearAll:f,cookie:{set:c,add:c,get:h,remove:p,clearAll:d}}}])}.call(this),define("angular-local-storage",["angular"],function(){}),function(e,t,n){function r(e){var n=[];return a(n,t.noop).chars(e),n.join("")}function i(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function s(e,n){function r(e,r,s,u){r=t.lowercase(r);if(E[r])for(;a.last()&&S[a.last()];)i("",a.last());w[r]&&a.last()==r&&i("",r),(u=b[r]||!!u)||a.push(r);var f={};s.replace(h,function(e,t,n,r,i){f[t]=o(n||r||i||"")}),n.start&&n.start(r,f,u)}function i(e,r){var i=0,s;if(r=t.lowercase(r))for(i=a.length-1;0<=i&&a[i]!=r;i--);if(0<=i){for(s=a.length-1;s>=i;s--)n.end&&n.end(a[s]);a.length=i}}var s,u,a=[],y=e;for(a.last=function(){return a[a.length-1]};e;){u=!0;if(a.last()&&x[a.last()])e=e.replace(RegExp("(.*)<\\s*\\/\\s*"+a.last()+"[^>]*>","i"),function(e,t){return t=t.replace(v,"$1").replace(g,"$1"),n.chars&&n.chars(o(t)),""}),i("",a.last());else{if(0===e.indexOf("<!--"))s=e.indexOf("--",4),0<=s&&e.lastIndexOf("-->",s)===s&&(n.comment&&n.comment(e.substring(4,s)),e=e.substring(s+3),u=!1);else if(m.test(e)){if(s=e.match(m))e=e.replace(s[0],""),u=!1}else if(d.test(e)){if(s=e.match(c))e=e.substring(s[0].length),s[0].replace(c,i),u=!1}else p.test(e)&&(s=e.match(l))&&(e=e.substring(s[0].length),s[0].replace(l,r),u=!1);u&&(s=e.indexOf("<"),u=0>s?e:e.substring(0,s),e=0>s?"":e.substring(s),n.chars&&n.chars(o(u)))}if(e==y)throw f("badparse",e);y=e}i()}function o(e){if(!e)return"";var t=L.exec(e);e=t[1];var n=t[3];if(t=t[2])k.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in k?k.textContent:k.innerText;return e+t+n}function u(e){return e.replace(/&/g,"&amp;").replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,s,o){e=t.lowercase(e),!r&&x[e]&&(r=e),r||!0!==T[e]||(i("<"),i(e),t.forEach(s,function(r,s){var o=t.lowercase(s),a="img"===e&&"src"===o||"background"===o;!0!==C[o]||!0===N[o]&&!n(r,a)||(i(" "),i(s),i('="'),i(u(r)),i('"'))}),i(o?"/>":">"))},end:function(e){e=t.lowercase(e),r||!0!==T[e]||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(u(e))}}}var f=t.$$minErr("$sanitize"),l=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,c=/^<\s*\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,d=/^<\s*\//,v=/\x3c!--(.*?)--\x3e/g,m=/<!DOCTYPE([^>]*?)>/i,g=/<!\[CDATA\[(.*?)]]\x3e/g,y=/([^\#-~| |!])/g,b=i("area,br,col,hr,img,wbr");e=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=i("rp,rt");var w=t.extend({},n,e),E=t.extend({},e,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),S=t.extend({},n,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=i("script,style"),T=t.extend({},b,E,S,w),N=i("background,cite,href,longdesc,src,usemap"),C=t.extend({},N,i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),k=document.createElement("pre"),L=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return s(t,a(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,i=/^mailto:/;return function(s,o){function u(e){e&&c.push(r(e))}function a(e,n){c.push("<a "),t.isDefined(o)&&(c.push('target="'),c.push(o),c.push('" ')),c.push('href="'),c.push(e),c.push('">'),u(n),c.push("</a>")}if(!s)return s;for(var f,l=s,c=[],h,p;f=l.match(n);)h=f[0],f[2]==f[3]&&(h="mailto:"+h),p=f.index,u(l.substr(0,p)),a(h,f[0].replace(i,"")),l=l.substring(p+f[0].length);return u(l),e(c.join(""))}}])}(window,window.angular),define("angular-sanitize",["angular"],function(){}),function(e,t,n){t.module("ngAnimate",["ng"]).config(["$provide","$animateProvider",function(r,i){function s(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==f)return n}}var o=t.noop,u=t.forEach,a=i.$$selectors,f=1,l="$$ngAnimateState",c="ng-animate",h={running:!0};r.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$timeout","$rootScope","$document",function(e,n,r,f,d,v,m){function y(e){if(e){var t=[],i={};e=e.substr(1).split("."),(r.transitions||r.animations)&&e.push("");for(var s=0;s<e.length;s++){var o=e[s],u=a[o];u&&!i[o]&&(t.push(n.get(u)),i[o]=!0)}return t}}function b(e,t,n,r,i,a,f){function h(e){m();if(!0===e)b();else{if(e=n.data(l))e.done=b,n.data(l,e);p(A,"after",b)}}function p(r,i,s){var a=i+"End";u(r,function(u,f){var l=function(){e:{var e=i+"Complete",t=r[f];t[e]=!0,(t[a]||o)();for(t=0;t<r.length;t++)if(!r[t][e])break e;s()}};"before"!=i||"enter"!=e&&"move"!=e?u[i]?u[a]=L?u[i](n,t,l):u[i](n,l):l():l()})}function v(){f&&d(f,0,!1)}function m(){m.hasBeenRun||(m.hasBeenRun=!0,a())}function b(){if(!b.hasBeenRun){b.hasBeenRun=!0;var e=n.data(l);e&&(L?S(n):(e.closeAnimationTimeout=d(function(){S(n)},0,!1),n.data(l,e))),v()}}var w,T,k=s(n);k&&(w=k.className,T=w+" "+t);if(k&&N(T)){T=(" "+T).replace(/\s+/g,"."),r||(r=i?i.parent():n.parent()),T=y(T);var L="addClass"==e||"removeClass"==e;i=n.data(l)||{};if(x(n,r)||0===T.length)m(),b();else{var A=[];i.running&&L&&i.structural||u(T,function(r){if(!r.allowCancel||r.allowCancel(n,e,t)){var i=r[e];"leave"==e?(r=i,i=null):r=r["before"+e.charAt(0).toUpperCase()+e.substr(1)],A.push({before:r,after:i})}}),0===A.length?(m(),v()):(r=" "+w+" ",i.running&&(d.cancel(i.closeAnimationTimeout),S(n),E(i.animations),i.beforeComplete?(i.done||o)(!0):L&&!i.structural&&(r="removeClass"==i.event?r.replace(i.className,""):r+i.className+" ")),w=" "+t+" ","addClass"==e&&0<=r.indexOf(w)||"removeClass"==e&&-1==r.indexOf(w)?(m(),v()):(n.addClass(c),n.data(l,{running:!0,event:e,className:t,structural:!L,animations:A,done:h}),p(A,"before",h)))}}else m(),b()}function w(e){e=s(e),u(e.querySelectorAll("."+c),function(e){e=t.element(e);var n=e.data(l);n&&(E(n.animations),S(e))})}function E(e){u(e,function(t){e.beforeComplete||(t.beforeEnd||o)(!0),e.afterComplete||(t.afterEnd||o)(!0)})}function S(e){s(e)==s(f)?h.disabled||(h.running=!1,h.structural=!1):(e.removeClass(c),e.removeData(l))}function x(e,t){if(h.disabled)return!0;if(s(e)==s(f))return h.disabled||h.running;do{if(0===t.length)break;var n=s(t)==s(f),r=n?h:t.data(l),r=r&&(!!r.disabled||!!r.running);if(n||r)return r;if(n)break}while(t=t.parent());return!0}f.data(l,h),v.$$postDigest(function(){v.$$postDigest(function(){h.running=!1})});var T=i.classNameFilter(),N=T?function(e){return T.test(e)}:function(){return!0};return{enter:function(t,n,r,i){this.enabled(!1,t),e.enter(t,n,r),v.$$postDigest(function(){b("enter","ng-enter",t,n,r,o,i)})},leave:function(t,n){w(t),this.enabled(!1,t),v.$$postDigest(function(){b("leave","ng-leave",t,null,null,function(){e.leave(t)},n)})},move:function(t,n,r,i){w(t),this.enabled(!1,t),e.move(t,n,r),v.$$postDigest(function(){b("move","ng-move",t,n,r,o,i)})},addClass:function(t,n,r){b("addClass",n,t,null,null,function(){e.addClass(t,n)},r)},removeClass:function(t,n,r){b("removeClass",n,t,null,null,function(){e.removeClass(t,n)},r)},enabled:function(e,t){switch(arguments.length){case 2:if(e)S(t);else{var n=t.data(l)||{};n.disabled=!0,t.data(l,n)}break;case 1:h.disabled=!e;break;default:e=!h.disabled}return!!e}}}]),i.register("",["$window","$sniffer","$timeout",function(r,i,a){function l(e,n){a.cancel(J),V.push(n);var r=s(e);e=t.element(r),$.push(e),r=e.data(B),K=Math.max(K,(r.maxDelay+r.maxDuration)*I*R),r.animationCount=U,J=a(function(){u(V,function(e){e()});var e=[],t=U;u($,function(t){e.push(t)}),a(function(){c(e,t),e=null},K,!1),V=[],$=[],J=null,z={},K=0,U++},10,!1)}function c(e,t){u(e,function(e){(e=e.data(B))&&e.animationCount==t&&(e.closeAnimationFn||o)()})}function h(e,t){var n=t?z[t]:null;if(!n){var i=0,s=0,o=0,a=0,l,c,h,p;u(e,function(e){if(e.nodeType==f){e=r.getComputedStyle(e)||{},h=e[k+M],i=Math.max(d(h),i),p=e[k+_],l=e[k+D],s=Math.max(d(l),s),c=e[A+D],a=Math.max(d(c),a);var t=d(e[A+M]);0<t&&(t*=parseInt(e[A+P],10)||1),o=Math.max(t,o)}}),n={total:0,transitionPropertyStyle:p,transitionDurationStyle:h,transitionDelayStyle:l,transitionDelay:s,transitionDuration:i,animationDelayStyle:c,animationDelay:a,animationDuration:o},t&&(z[t]=n)}return n}function d(e){var n=0;return e=t.isString(e)?e.split(/\s*,\s*/):[],u(e,function(e){n=Math.max(parseFloat(e)||0,n)}),n}function v(e){var t=e.parent(),n=t.data(H);return n||(t.data(H,++X),n=X),n+"-"+s(e).className}function m(e,t){var n=v(e),r=n+" "+t,i={},o=z[r]?++z[r].total:0;if(0<o){var a=t+"-stagger",i=n+" "+a;(n=!z[i])&&e.addClass(a),i=h(e,i),n&&e.removeClass(a)}e.addClass(t),r=h(e,r),a=Math.max(r.transitionDelay,r.animationDelay),n=Math.max(r.transitionDuration,r.animationDuration);if(0===n)return e.removeClass(t),!1;var f="";return 0<r.transitionDuration?s(e).style[k+_]="none":s(e).style[A]="none 0s",u(t.split(" "),function(e,t){f+=(0<t?" ":"")+e+"-active"}),e.data(B,{className:t,activeClassName:f,maxDuration:n,maxDelay:a,classes:t+" "+f,timings:r,stagger:i,ii:o}),!0}function g(e){var t=k+_;e=s(e),e.style[t]&&0<e.style[t].length&&(e.style[t]="")}function y(e){var t=A;e=s(e),e.style[t]&&0<e.style[t].length&&(e.style[t]="")}function b(e,t,n){function r(n){e.off(d,i),e.removeClass(c),n=e,n.removeClass(t),n.removeData(B),n=s(e);for(var r in g)n.style.removeProperty(g[r])}function i(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||t.timeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(j)),Math.max(e-p,0)>=h&&t>=l&&n()}var o=e.data(B),u=s(e);if(-1!=u.className.indexOf(t)&&o){var a=o.timings,f=o.stagger,l=o.maxDuration,c=o.activeClassName,h=Math.max(a.transitionDelay,a.animationDelay)*R,p=Date.now(),d=O+" "+L,v=o.ii,m="",g=[];if(0<a.transitionDuration){var y=a.transitionPropertyStyle;-1==y.indexOf("all")&&(m+=C+"transition-property: "+y+";",m+=C+"transition-duration: "+a.transitionDurationStyle+"s;",g.push(C+"transition-property"),g.push(C+"transition-duration"))}return 0<v&&(0<f.transitionDelay&&0===f.transitionDuration&&(m+=C+"transition-delay: "+w(a.transitionDelayStyle,f.transitionDelay,v)+"; ",g.push(C+"transition-delay")),0<f.animationDelay&&0===f.animationDuration&&(m+=C+"animation-delay: "+w(a.animationDelayStyle,f.animationDelay,v)+"; ",g.push(C+"animation-delay"))),0<g.length&&(a=u.getAttribute("style")||"",u.setAttribute("style",a+" "+m)),e.on(d,i),e.addClass(c),o.closeAnimationFn=function(){r(),n()},r}n()}function w(e,t,n){var r="";return u(e.split(","),function(e,i){r+=(0<i?",":"")+(n*t+parseInt(e,10))+"s"}),r}function S(e,t){if(m(e,t))return function(n){n&&(e.removeClass(t),e.removeData(B))}}function x(e,t,n){if(e.data(B))return b(e,t,n);e.removeClass(t),e.removeData(B),n()}function T(e,t,n){var r=S(e,t);if(r){var i=r;return l(e,function(){g(e),y(e),i=x(e,t,n)}),function(e){(i||o)(e)}}n()}function N(e,n){var r="";return e=t.isArray(e)?e:e.split(/\s+/),u(e,function(e,t){e&&0<e.length&&(r+=(0<t?" ":"")+e+n)}),r}var C="",k,L,A,O;e.ontransitionend===n&&e.onwebkittransitionend!==n?(C="-webkit-",k="WebkitTransition",L="webkitTransitionEnd transitionend"):(k="transition",L="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(C="-webkit-",A="WebkitAnimation",O="webkitAnimationEnd animationend"):(A="animation",O="animationend");var M="Duration",_="Property",D="Delay",P="IterationCount",H="$$ngAnimateKey",B="$$ngAnimateCSS3Data",j=3,I=1.5,R=1e3,U=0,z={},X=0,V=[],$=[],J,K=0;return{allowCancel:function(e,n,r){var i=(e.data(B)||{}).classes;if(!i||0<=["enter","leave","move"].indexOf(n))return!0;var o=e.parent(),a=t.element(s(e).cloneNode());return a.attr("style","position:absolute; top:-9999px; left:-9999px"),a.removeAttr("id"),a.empty(),u(i.split(" "),function(e){a.removeClass(e)}),a.addClass(N(r,"addClass"==n?"-add":"-remove")),o.append(a),e=h(a),a.remove(),0<Math.max(e.transitionDuration,e.animationDuration)},enter:function(e,t){return T(e,"ng-enter",t)},leave:function(e,t){return T(e,"ng-leave",t)},move:function(e,t){return T(e,"ng-move",t)},beforeAddClass:function(e,t,n){if(t=S(e,N(t,"-add")))return l(e,function(){g(e),y(e),n()}),t;n()},addClass:function(e,t,n){return x(e,N(t,"-add"),n)},beforeRemoveClass:function(e,t,n){if(t=S(e,N(t,"-remove")))return l(e,function(){g(e),y(e),n()}),t;n()},removeClass:function(e,t,n){return x(e,N(t,"-remove"),n)}}}])}])}(window,window.angular),define("angular-animate",["angular"],function(){}),angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function r(e){for(var t in e)if(void 0!==s.style[t])return e[t]}var i=function(r,s,o){o=o||{};var u=e.defer(),a=i[o.animation?"animationEndEventName":"transitionEndEventName"],f=function(){n.$apply(function(){r.unbind(a,f),u.resolve(r)})};return a&&r.bind(a,f),t(function(){angular.isString(s)?r.addClass(s):angular.isFunction(s)?s(r):angular.isObject(s)&&r.css(s),a||u.resolve(r)}),u.promise.cancel=function(){a&&r.unbind(a,f),u.reject("Transition cancelled")},u.promise},s=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(o),i.animationEndEventName=r(u),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){var t=function(e,t,n){t.removeClass("collapse"),t.css({height:n}),t[0].offsetWidth,t.addClass("collapse")};return{link:function(n,r,i){var s,o=!0;n.$watch(function(){return r[0].scrollHeight},function(){0!==r[0].scrollHeight&&(s||(o?t(n,r,r[0].scrollHeight+"px"):t(n,r,"auto")))}),n.$watch(i.collapse,function(e){e?l():f()});var u,a=function(t){return u&&u.cancel(),u=e(r,t),u.then(function(){u=void 0},function(){u=void 0}),u},f=function(){o?(o=!1,s||t(n,r,"auto")):a({height:r[0].scrollHeight+"px"}).then(function(){s||t(n,r,"auto")}),s=!1},l=function(){s=!0,o?(o=!1,t(n,r,0)):(t(n,r,r[0].scrollHeight+"px"),a({height:"0"}))}}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(this.groups.indexOf(e),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"templates/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(e){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"templates/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(e){this.heading=e}}],link:function(t,n,r,i){var s,o;i.addGroup(t),t.isOpen=!1,r.isOpen&&(s=e(r.isOpen),o=s.assign,t.$watch(function(){return s(t.$parent)},function(e){t.isOpen=e}),t.isOpen=s?s(t.$parent):!1),t.$watch("isOpen",function(e){e&&i.closeOthers(t),o&&o(t.$parent,e)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(e,t,n){return function(e,t,r,i){i.setHeading(n(e,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"templates/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(e,t,n){e.closeable="close"in n}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,r,i,s){s.$render=function(){r.toggleClass(t,angular.equals(s.$modelValue,e.$eval(i.btnRadio)))},r.bind(n,function(){r.hasClass(t)||e.$apply(function(){s.$setViewValue(e.$eval(i.btnRadio)),s.$render()})})}}}]).directive("btnCheckbox",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,r,i,s){function o(){var t=e.$eval(i.btnCheckboxTrue);return angular.isDefined(t)?t:!0}function u(){var t=e.$eval(i.btnCheckboxFalse);return angular.isDefined(t)?t:!1}s.$render=function(){r.toggleClass(t,angular.equals(s.$modelValue,o()))},r.bind(n,function(){e.$apply(function(){s.$setViewValue(r.hasClass(t)?u():o()),s.$render()})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(e,t,n){function r(){function n(){s?(e.next(),r()):e.pause()}i&&t.cancel(i);var o=+e.interval;!isNaN(o)&&o>=0&&(i=t(n,o))}var i,s,o=this,u=o.slides=[],a=-1;o.currentSlide=null,o.select=function(i,s){function f(){o.currentSlide&&angular.isString(s)&&!e.noTransition&&i.$element?(i.$element.addClass(s),i.$element[0].offsetWidth,angular.forEach(u,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:s,active:!0,entering:!0}),angular.extend(o.currentSlide||{},{direction:s,leaving:!0}),e.$currentTransition=n(i.$element,{}),function(t,n){e.$currentTransition.then(function(){h(t,n)},function(){h(t,n)})}(i,o.currentSlide)):h(i,o.currentSlide),o.currentSlide=i,a=p,r()}function h(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var p=u.indexOf(i);void 0===s&&(s=p>a?"next":"prev"),i&&i!==o.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(f)):f())},o.indexOfSlide=function(e){return u.indexOf(e)},e.next=function(){var t=(a+1)%u.length;return e.$currentTransition?void 0:o.select(u[t],"next")},e.prev=function(){var t=0>a-1?u.length-1:a-1;return e.$currentTransition?void 0:o.select(u[t],"prev")},e.select=function(e){o.select(e)},e.isActive=function(e){return o.currentSlide===e},e.slides=function(){return u},e.$watch("interval",r),e.play=function(){s||(s=!0,r())},e.pause=function(){e.noPause||(s=!1,i&&t.cancel(i))},o.addSlide=function(t,n){t.$element=n,u.push(t),1===u.length||t.active?(o.select(u[u.length-1]),1==u.length&&e.play()):t.active=!1},o.removeSlide=function(e){var t=u.indexOf(e);u.splice(t,1),u.length>0&&e.active?t>=u.length?o.select(u[t-1]):o.select(u[t]):a>t&&a--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"templates/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(e){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"templates/carousel/slide.html",scope:{},link:function(t,n,r,i){if(r.active){var s=e(r.active),o=s.assign,u=t.active=s(t.$parent);t.$watch(function(){var e=s(t.$parent);return e!==t.active&&(e!==u?u=t.active=e:o(t.$parent,e=u=t.active)),e})}i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},s=i(t[0]);return s!=e[0]&&(r=this.offset(angular.element(s)),r.top+=s.clientTop-s.scrollTop,r.left+=s.clientLeft-s.scrollLeft),{width:t.prop("offsetWidth"),height:t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(e,t,n,r){function i(t,n){return angular.isDefined(t)?e.$parent.$eval(t):n}function s(e,t){return(new Date(e,t,0)).getDate()}function o(e,t){for(var n=Array(t),r=e,i=0;t>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function u(e,t,r,i){return{date:e,label:n(e,t),selected:!!r,secondary:!!i}}var a={day:i(t.dayFormat,r.dayFormat),month:i(t.monthFormat,r.monthFormat),year:i(t.yearFormat,r.yearFormat),dayHeader:i(t.dayHeaderFormat,r.dayHeaderFormat),dayTitle:i(t.dayTitleFormat,r.dayTitleFormat),monthTitle:i(t.monthTitleFormat,r.monthTitleFormat)},f=i(t.startingDay,r.startingDay),l=i(t.yearRange,r.yearRange);this.minDate=r.minDate?new Date(r.minDate):null,this.maxDate=r.maxDate?new Date(r.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(e,t){var r=e.getFullYear(),i=e.getMonth(),l=new Date(r,i,1),h=f-l.getDay(),p=h>0?7-h:-h,d=new Date(l),v=0;p>0&&(d.setDate(-p+1),v+=p),v+=s(r,i+1),v+=(7-v%7)%7;for(var m=o(d,v),g=Array(7),y=0;v>y;y++){var b=new Date(m[y]);m[y]=u(b,a.day,t&&t.getDate()===b.getDate()&&t.getMonth()===b.getMonth()&&t.getFullYear()===b.getFullYear(),b.getMonth()!==i)}for(var w=0;7>w;w++)g[w]=n(m[w].date,a.dayHeader);return{objects:m,title:n(e,a.dayTitle),labels:g}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(e,t){for(var r=Array(12),i=e.getFullYear(),s=0;12>s;s++){var o=new Date(i,s,1);r[s]=u(o,a.month,t&&t.getMonth()===s&&t.getFullYear()===i)}return{objects:r,title:n(e,a.monthTitle)}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(e,t){for(var n=Array(l),r=e.getFullYear(),i=parseInt((r-1)/l,10)*l+1,s=0;l>s;s++){var o=new Date(i+s,0,1);n[s]=u(o,a.year,t&&t.getFullYear()===o.getFullYear())}return{objects:n,title:[n[0].label,n[l-1].label].join(" - ")}},compare:function(e,t){return e.getFullYear()-t.getFullYear()},split:5,step:{years:l}}],this.isDisabled=function(t,n){var r=this.modes[n||0];return this.minDate&&0>r.compare(t,this.minDate)||this.maxDate&&r.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:r.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(e,t,n,r){return{restrict:"EA",replace:!0,templateUrl:"templates/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,i,s,o){function u(){e.showWeekNumbers=0===v&&g}function f(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function l(t){var n=null,i=!0;d.$modelValue&&(n=new Date(d.$modelValue),isNaN(n)?(i=!1,r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):t&&(m=n)),d.$setValidity("date",i);var s=p.modes[v],o=s.getVisibleDates(m,n);angular.forEach(o.objects,function(e){e.disabled=p.isDisabled(e.date,v)}),d.$setValidity("date-disabled",!n||!p.isDisabled(n)),e.rows=f(o.objects,s.split),e.labels=o.labels||[],e.title=o.title}function c(e){v=e,u(),l()}function h(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var p=o[0],d=o[1];if(d){var v=0,m=new Date,g=n.showWeeks;s.showWeeks?e.$parent.$watch(t(s.showWeeks),function(e){g=!!e,u()}):u(),s.min&&e.$parent.$watch(t(s.min),function(e){p.minDate=e?new Date(e):null,l()}),s.max&&e.$parent.$watch(t(s.max),function(e){p.maxDate=e?new Date(e):null,l()}),d.$render=function(){l(!0)},e.select=function(e){if(0===v){var t=new Date(d.$modelValue);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),d.$setViewValue(t),l(!0)}else m=e,c(v-1)},e.move=function(e){var t=p.modes[v].step;m.setMonth(m.getMonth()+e*(t.months||0)),m.setFullYear(m.getFullYear()+e*(t.years||0)),l()},e.toggleMode=function(){c((v+1)%p.modes.length)},e.getWeekNumber=function(t){return 0===v&&e.showWeekNumbers&&7===t.length?h(t[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",closeOnDateSelection:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig",function(e,t,n,r,i,s){return{restrict:"EA",require:"ngModel",link:function(o,u,f,l){function c(e){w?w(o,!!e):y.isOpen=!!e}function h(e){if(e){if(angular.isDate(e))return l.$setValidity("date",!0),e;if(angular.isString(e)){var t=new Date(e);return isNaN(t)?(l.$setValidity("date",!1),void 0):(l.$setValidity("date",!0),t)}return l.$setValidity("date",!1),void 0}return l.$setValidity("date",!0),null}function p(){y.date=l.$modelValue,v()}function d(e,n,r){e&&(o.$watch(t(e),function(e){y[n]=e}),T.attr(r||n,n))}function v(){y.position=r.position(u),y.position.top=y.position.top+u.prop("offsetHeight")}var m=angular.isDefined(f.closeOnDateSelection)?y.$eval(f.closeOnDateSelection):s.closeOnDateSelection,g=f.datepickerPopup||s.dateFormat,y=o.$new();o.$on("$destroy",function(){y.$destroy()});var b,w;f.isOpen&&(b=t(f.isOpen),w=b.assign,o.$watch(b,function(e){y.isOpen=!!e})),y.isOpen=b?b(o):!1;var E=function(e){y.isOpen&&e.target!==u[0]&&y.$apply(function(){c(!1)})},S=function(){y.$apply(function(){c(!0)})},x=angular.element("<datepicker-popup-wrap><datepicker></datepicker></datepicker-popup-wrap>");x.attr({"ng-model":"date","ng-change":"dateSelection()"});var T=x.find("datepicker");f.datepickerOptions&&T.attr(angular.extend({},o.$eval(f.datepickerOptions))),l.$parsers.unshift(h),y.dateSelection=function(){l.$setViewValue(y.date),l.$render(),m&&c(!1)},u.bind("input change keyup",function(){y.$apply(function(){p()})}),l.$render=function(){var e=l.$viewValue?i(l.$viewValue,g):"";u.val(e),p()},d(f.min,"min"),d(f.max,"max"),f.showWeeks?d(f.showWeeks,"showWeeks","show-weeks"):(y.showWeeks=!0,T.attr("show-weeks","showWeeks")),f.dateDisabled&&T.attr("date-disabled",f.dateDisabled);var N=!1,C=!1;y.$watch("isOpen",function(e){e?(v(),n.bind("click",E),C&&u.unbind("focus",S),u[0].focus(),N=!0):(N&&n.unbind("click",E),u.bind("focus",S),C=!0),w&&w(o,e)});var k=t(f.ngModel).assign;y.today=function(){k(o,new Date)},y.clear=function(){k(o,null)},u.after(e(x)(y))}}}]).directive("datepickerPopupWrap",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"templates/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}]),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(e){var t=null,n=angular.noop;return{restrict:"CA",link:function(r,i){r.$watch("$location.path",function(){n()}),i.parent().bind("click",function(){n()}),i.bind("click",function(r){var s=i===t;r.preventDefault(),r.stopPropagation(),t&&n(),s||(i.parent().addClass("open"),t=i,n=function(r){r&&(r.preventDefault(),r.stopPropagation()),e.unbind("click",n),i.parent().removeClass("open"),n=angular.noop,t=null},e.bind("click",n))})}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;e.length>n;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;e.length>n;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;e.length>r;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(e,t){return{restrict:"EA",replace:!0,templateUrl:"templates/modal/backdrop.html",link:function(n){t(function(){n.animate=!0}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout",function(e){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"templates/modal/window.html",link:function(t,n,r){t.windowClass=r.windowClass||"",e(function(){t.animate=!0})}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r){function i(){for(var e=-1,t=l.keys(),n=0;t.length>n;n++)l.get(t[n]).value.backdrop&&(e=n);return e}function s(e){var t=l.get(e).value;l.remove(e),t.modalDomEl.remove(),-1==i()&&(u.remove(),u=void 0),t.modalScope.$destroy()}var o,u,a=n.$new(!0),f=e.find("body").eq(0),l=r.createNew(),c={};return n.$watch(i,function(e){a.index=e}),e.bind("keydown",function(e){var t;27===e.which&&(t=l.top(),t&&t.value.keyboard&&n.$apply(function(){c.dismiss(t.key)}))}),c.open=function(e,n){l.add(e,{deferred:n.deferred,modalScope:n.scope,backdrop:n.backdrop,keyboard:n.keyboard});var r=angular.element("<div modal-window></div>");r.attr("window-class",n.windowClass),r.attr("index",l.length()-1),r.html(n.content);var s=t(r)(n.scope);l.top().value.modalDomEl=s,f.append(s),i()>=0&&!u&&(o=angular.element("<div modal-backdrop></div>"),u=t(o)(a),f.append(u))},c.close=function(e,t){var n=l.get(e);n&&(n.value.deferred.resolve(t),s(e))},c.dismiss=function(e,t){var n=l.get(e).value;n&&(n.deferred.reject(t),s(e))},c.getTop=function(){return l.top()},c}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,s,o,u){function a(e){return e.template?r.when(e.template):i.get(e.templateUrl,{cache:s}).then(function(e){return e.data})}function f(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var l={};return l.open=function(t){var i=r.defer(),s=r.defer(),l={result:i.promise,opened:s.promise,close:function(e){u.close(l,e)},dismiss:function(e){u.dismiss(l,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw Error("One of template or templateUrl options is required.");var h=r.all([a(t)].concat(f(t.resolve)));return h.then(function(e){var r=(t.scope||n).$new();r.$close=l.close,r.$dismiss=l.dismiss;var s,a={},f=1;t.controller&&(a.$scope=r,a.$modalInstance=l,angular.forEach(t.resolve,function(t,n){a[n]=e[f++]}),s=o(t.controller,a)),u.open(l,{scope:r,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(e){i.reject(e)}),h.then(function(){s.resolve(!0)},function(){s.reject(!1)}),l},l}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(e,t,n,r){var i=this;this.init=function(r){t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=r},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===e.totalPages},this.isActive=function(e){return this.page===e},this.calculateTotalPages=function(){return 1>this.itemsPerPage?1:Math.ceil(e.totalItems/this.itemsPerPage)},this.getAttributeValue=function(t,n,i){return angular.isDefined(t)?i?r(t)(e.$parent):e.$parent.$eval(t):n},this.render=function(){this.page=parseInt(e.page,10)||1,e.pages=this.getPages(this.page,e.totalPages)},e.selectPage=function(t){!i.isActive(t)&&t>0&&e.totalPages>=t&&(e.page=t,e.onSelectPage({page:t}))},e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(n){t.numPages&&(e.numPages=n),i.page>n?e.selectPage(n):i.render()}),e.$watch("page",function(){i.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &",numPages:"="},controller:"PaginationController",templateUrl:"templates/pagination/pagination.html",replace:!0,link:function(n,r,i,s){function o(e,t,n,r){return{number:e,text:t,active:n,disabled:r}}var u,a=s.getAttributeValue(i.boundaryLinks,t.boundaryLinks),f=s.getAttributeValue(i.directionLinks,t.directionLinks),l=s.getAttributeValue(i.firstText,t.firstText,!0),c=s.getAttributeValue(i.previousText,t.previousText,!0),h=s.getAttributeValue(i.nextText,t.nextText,!0),p=s.getAttributeValue(i.lastText,t.lastText,!0),d=s.getAttributeValue(i.rotate,t.rotate);s.init(t.itemsPerPage),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),s.render()}),s.getPages=function(e,t){var n=[],r=1,i=t,v=angular.isDefined(u)&&t>u;v&&(d?(r=Math.max(e-Math.floor(u/2),1),i=r+u-1,i>t&&(i=t,r=i-u+1)):(r=(Math.ceil(e/u)-1)*u+1,i=Math.min(r+u-1,t)));for(var g=r;i>=g;g++){var y=o(g,g,s.isActive(g),!1);n.push(y)}if(v&&!d){if(r>1){var b=o(r-1,"...",!1,!1);n.unshift(b)}if(t>i){var w=o(i+1,"...",!1,!1);n.push(w)}}if(f){var E=o(e-1,c,!1,s.noPrevious());n.unshift(E);var S=o(e+1,h,!1,s.noNext());n.push(S)}if(a){var x=o(1,l,!1,s.noPrevious());n.unshift(x);var T=o(t,p,!1,s.noNext());n.push(T)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &",numPages:"="},controller:"PaginationController",templateUrl:"templates/pagination/pager.html",replace:!0,link:function(t,n,r,i){function s(e,t,n,r,i){return{number:e,text:t,disabled:n,previous:a&&r,next:a&&i}}var o=i.getAttributeValue(r.previousText,e.previousText,!0),u=i.getAttributeValue(r.nextText,e.nextText,!0),a=i.getAttributeValue(r.align,e.align);i.init(e.itemsPerPage),i.getPages=function(e){return[s(e-1,o,i.noPrevious(),!0,!1),s(e+1,u,i.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,s,o,u,f,l,c){return function(i,h,p){function d(e){var t=e||v.trigger||p,r=n[t]||t;return{show:t,hide:r}}var v=angular.extend({},t,r),m=e(i),g=c.startSymbol(),y=c.endSymbol(),b="<"+m+"-popup "+'title="'+g+"tt_title"+y+'" '+'content="'+g+"tt_content"+y+'" '+'placement="'+g+"tt_placement"+y+'" '+'animation="tt_animation()" '+'is-open="tt_isOpen"'+">"+"</"+m+"-popup>";return{restrict:"EA",scope:!0,link:function(e,t,n){function r(){e.tt_isOpen?c():a()}function a(){e.tt_popupDelay?y=o(p,e.tt_popupDelay):e.$apply(p)}function c(){e.$apply(function(){m()})}function p(){var n,r,i,s;if(e.tt_content){switch(g&&o.cancel(g),E.css({top:0,left:0,display:"block"}),S?(w=w||f.find("body"),w.append(E)):t.after(E),n=S?l.offset(t):l.position(t),r=E.prop("offsetWidth"),i=E.prop("offsetHeight"),e.tt_placement){case"right":s={top:n.top+n.height/2-i/2,left:n.left+n.width};break;case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"left":s={top:n.top+n.height/2-i/2,left:n.left-r};break;default:s={top:n.top-i,left:n.left+n.width/2-r/2}}s.top+="px",s.left+="px",E.css(s),e.tt_isOpen=!0}}function m(){e.tt_isOpen=!1,o.cancel(y),angular.isDefined(e.tt_animation)&&e.tt_animation()?g=o(function(){E.remove()},500):E.remove()}var g,y,w,E=s(b)(e),S=angular.isDefined(v.appendToBody)?v.appendToBody:!1,x=d(void 0),T=!1;e.tt_isOpen=!1,n.$observe(i,function(t){e.tt_content=t}),n.$observe(h+"Title",function(t){e.tt_title=t}),n.$observe(h+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:v.placement}),n.$observe(h+"Animation",function(t){e.tt_animation=angular.isDefined(t)?u(t):function(){return v.animation}}),n.$observe(h+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?v.popupDelay:n}),n.$observe(h+"Trigger",function(e){T&&(t.unbind(x.show,a),t.unbind(x.hide,c)),x=d(e),x.show===x.hide?t.bind(x.show,r):(t.bind(x.show,a),t.bind(x.hide,c)),T=!0}),n.$observe(h+"AppendToBody",function(t){S=angular.isDefined(t)?u(t)(e):S}),S&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&m()}),e.$on("$destroy",function(){e.tt_isOpen?m():E.remove()})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"templates/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"templates/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"templates/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(e,t,n,r,i){return i("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function(e,t,n){function r(e){return o[e]}var i=angular.isDefined(t.animate)?e.$eval(t.animate):n.animate,s=angular.isDefined(t.autoType)?e.$eval(t.autoType):n.autoType,o=angular.isDefined(t.stackedTypes)?e.$eval("["+t.stackedTypes+"]"):n.stackedTypes;this.makeBar=function(e,t,n){var o=angular.isObject(e)?e.value:e||0,u=angular.isObject(t)?t.value:t||0,f=angular.isObject(e)&&angular.isDefined(e.type)?e.type:s?r(n||0):null;return{from:u,to:o,type:f,animate:i}},this.addBar=function(t){e.bars.push(t),e.totalPercent+=t.to},this.clearBars=function(){e.bars=[],e.totalPercent=0},this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=percent",onFull:"&",onEmpty:"&"},templateUrl:"templates/progressbar/progress.html",link:function(e,t,n,r){e.$watch("value",function(e,t){if(r.clearBars(),angular.isArray(e))for(var n=0,i=e.length;i>n;n++)r.addBar(r.makeBar(e[n],t[n],n));else r.addBar(r.makeBar(e,t))},!0),e.$watch("totalPercent",function(t){t>=100?e.onFull():0>=t&&e.onEmpty()},!0)}}}).directive("progressbar",["$transition",function(e){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"templates/progressbar/bar.html",link:function(t,n){t.$watch("width",function(r){t.animate?(n.css("width",t.old+"%"),e(n,{width:r+"%"})):n.css("width",r+"%")})}}}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(e,t,n,r){this.maxRange=angular.isDefined(t.max)?e.$parent.$eval(t.max):r.max,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):r.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):r.stateOff,this.createDefaultRange=function(e){for(var t={stateOn:this.stateOn,stateOff:this.stateOff},n=Array(e),r=0;e>r;r++)n[r]=t;return n},this.normalizeRange=function(e){for(var t=0,n=e.length;n>t;t++)e[t].stateOn=e[t].stateOn||this.stateOn,e[t].stateOff=e[t].stateOff||this.stateOff;return e},e.range=angular.isDefined(t.ratingStates)?this.normalizeRange(angular.copy(e.$parent.$eval(t.ratingStates))):this.createDefaultRange(this.maxRange),e.rate=function(t){e.readonly||e.value===t||(e.value=t)},e.enter=function(t){e.readonly||(e.val=t),e.onHover({value:t})},e.reset=function(){e.val=angular.copy(e.value),e.onLeave()},e.$watch("value",function(t){e.val=t}),e.readonly=!1,t.readonly&&e.$parent.$watch(n(t.readonly),function(t){e.readonly=!!t})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"templates/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).directive("tabs",function(){return function(){throw Error("The `tabs` directive is deprecated, please migrate to `tabset`. Instructions can be found at http://github.com/angular-ui/bootstrap/tree/master/CHANGELOG.md")}}).controller("TabsetController",["$scope","$element",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(e){e.active=!1}),e.active=!0},t.addTab=function(e){n.push(e),(1===n.length||e.active)&&t.select(e)},t.removeTab=function(e){var r=n.indexOf(e);if(e.active&&n.length>1){var i=r==n.length-1?r-1:r+1;t.select(n[i])}n.splice(r,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,require:"^tabset",scope:{},controller:"TabsetController",templateUrl:"templates/tabs/tabset.html",compile:function(e,t,n){return function(e,t,r,i){e.vertical=angular.isDefined(r.vertical)?e.$parent.$eval(r.vertical):!1,e.type=angular.isDefined(r.type)?e.$parent.$eval(r.type):"tabs",e.direction=angular.isDefined(r.direction)?e.$parent.$eval(r.direction):"top",e.tabsAbove="below"!=e.direction,i.$scope=e,i.$transcludeFn=n}}}}).directive("tab",["$parse","$http","$templateCache","$compile",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"templates/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,r){return function(t,n,i,s){var o,u;i.active?(o=e(i.active),u=o.assign,t.$parent.$watch(o,function(e){t.active=!!e}),t.active=o(t.$parent)):u=o=angular.noop,t.$watch("active",function(e){u(t.$parent,e),e?(s.select(t),t.onSelect()):t.onDeselect()}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},s.addTab(t),t.$on("$destroy",function(){s.removeTab(t)}),t.active&&u(t.$parent,!0),t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",["$compile","$parse",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}]).directive("tabsetTitles",["$http",function(){return{restrict:"A",require:"^tabset",templateUrl:"templates/tabs/tabset-titles.html",replace:!0,link:function(e,t,n,r){e.$eval(n.tabsetTitles)?r.$transcludeFn(r.$scope.$parent,function(e){t.append(e)}):t.remove()}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig",function(e,t,n){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"templates/timepicker/timepicker.html",link:function(r,i,s,o){function u(){var e=parseInt(r.hours,10),t=r.showMeridian?e>0&&13>e:e>=0&&24>e;return t?(r.showMeridian&&(12===e&&(e=0),r.meridian===v[1]&&(e+=12)),e):void 0}function a(){var e=parseInt(r.minutes,10);return e>=0&&60>e?e:void 0}function f(e){return angular.isDefined(e)&&2>(""+e).length?"0"+e:e}function l(e){c(),o.$setViewValue(new Date(d)),h(e)}function c(){o.$setValidity("time",!0),r.invalidHours=!1,r.invalidMinutes=!1}function h(e){var t=d.getHours(),n=d.getMinutes();r.showMeridian&&(t=0===t||12===t?12:t%12),r.hours="h"===e?t:f(t),r.minutes="m"===e?n:f(n),r.meridian=12>d.getHours()?v[0]:v[1]}function p(e){var t=new Date(d.getTime()+6e4*e);d.setHours(t.getHours(),t.getMinutes()),l()}if(o){var d=new Date,v=n.meridians,m=n.hourStep;s.hourStep&&r.$parent.$watch(e(s.hourStep),function(e){m=parseInt(e,10)});var g=n.minuteStep;s.minuteStep&&r.$parent.$watch(e(s.minuteStep),function(e){g=parseInt(e,10)}),r.showMeridian=n.showMeridian,s.showMeridian&&r.$parent.$watch(e(s.showMeridian),function(e){if(r.showMeridian=!!e,o.$error.time){var t=u(),n=a();angular.isDefined(t)&&angular.isDefined(n)&&(d.setHours(t),l())}else h()});var y=i.find("input"),b=y.eq(0),w=y.eq(1),E=angular.isDefined(s.mousewheel)?r.$eval(s.mousewheel):n.mousewheel;if(E){var S=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};b.bind("mousewheel wheel",function(e){r.$apply(S(e)?r.incrementHours():r.decrementHours()),e.preventDefault()}),w.bind("mousewheel wheel",function(e){r.$apply(S(e)?r.incrementMinutes():r.decrementMinutes()),e.preventDefault()})}if(r.readonlyInput=angular.isDefined(s.readonlyInput)?r.$eval(s.readonlyInput):n.readonlyInput,r.readonlyInput)r.updateHours=angular.noop,r.updateMinutes=angular.noop;else{var x=function(e,t){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(e)&&(r.invalidHours=e),angular.isDefined(t)&&(r.invalidMinutes=t)};r.updateHours=function(){var e=u();angular.isDefined(e)?(d.setHours(e),l("h")):x(!0)},b.bind("blur",function(){!r.validHours&&10>r.hours&&r.$apply(function(){r.hours=f(r.hours)})}),r.updateMinutes=function(){var e=a();angular.isDefined(e)?(d.setMinutes(e),l("m")):x(void 0,!0)},w.bind("blur",function(){!r.invalidMinutes&&10>r.minutes&&r.$apply(function(){r.minutes=f(r.minutes)})})}o.$render=function(){var e=o.$modelValue?new Date(o.$modelValue):null;isNaN(e)?(o.$setValidity("time",!1),t.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(d=e),c(),h())},r.incrementHours=function(){p(60*m)},r.decrementHours=function(){p(60*-m)},r.incrementMinutes=function(){p(g)},r.decrementMinutes=function(){p(-g)},r.toggleMeridian=function(){p(720*(12>d.getHours()?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var r=n.match(t);if(!r)throw Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,s,o){var u=[9,13,27,38,40];return{require:"ngModel",link:function(f,c,h,p){var d=f.$eval(h.typeaheadMinLength)||1,v=f.$eval(h.typeaheadWaitMs)||0,m=f.$eval(h.typeaheadEditable)!==!1,g=t(h.typeaheadLoading).assign||angular.noop,y=t(h.typeaheadOnSelect),b=h.typeaheadInputFormatter?t(h.typeaheadInputFormatter):void 0,w=t(h.ngModel).assign,E=o.parse(h.typeahead),S=angular.element("<typeahead-popup></typeahead-popup>");S.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(h.typeaheadTemplateUrl)&&S.attr("template-url",h.typeaheadTemplateUrl);var x=f.$new();f.$on("$destroy",function(){x.$destroy()});var T=function(){x.matches=[],x.activeIdx=-1},N=function(e){var t={$viewValue:e};g(f,!0),n.when(E.source(x,t)).then(function(n){if(e===p.$viewValue){if(n.length>0){x.activeIdx=0,x.matches.length=0;for(var r=0;n.length>r;r++)t[E.itemName]=n[r],x.matches.push({label:E.viewMapper(x,t),model:n[r]});x.query=e,x.position=s.position(c),x.position.top=x.position.top+c.prop("offsetHeight")}else T();g(f,!1)}},function(){T(),g(f,!1)})};T(),x.query=void 0;var C;p.$parsers.unshift(function(e){return T(),e&&e.length>=d&&(v>0?(C&&r.cancel(C),C=r(function(){N(e)},v)):N(e)),m?e:(p.$setValidity("editable",!1),void 0)}),p.$formatters.push(function(e){var t,n,r={};return b?(r.$model=e,b(f,r)):(r[E.itemName]=e,t=E.viewMapper(f,r),r[E.itemName]=void 0,n=E.viewMapper(f,r),t!==n?t:e)}),x.select=function(e){var t,n,r={};r[E.itemName]=n=x.matches[e].model,t=E.modelMapper(f,r),w(f,t),p.$setValidity("editable",!0),y(f,{$item:n,$model:t,$label:E.viewMapper(f,r)}),T(),c[0].focus()},c.bind("keydown",function(e){0!==x.matches.length&&-1!==u.indexOf(e.which)&&(e.preventDefault(),40===e.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===e.which?(x.activeIdx=(x.activeIdx?x.activeIdx:x.matches.length)-1,x.$digest()):13===e.which||9===e.which?x.$apply(function(){x.select(x.activeIdx)}):27===e.which&&(e.stopPropagation(),T(),x.$digest()))});var k=function(e){c[0]!==e.target&&(T(),x.$digest())};i.bind("click",k),f.$on("$destroy",function(){i.unbind("click",k)}),c.after(e(S)(x))}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"templates/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,r){return{restrict:"E",scope:{index:"=",match:"=",query:"="},link:function(i,s,o){var u=r(o.templateUrl)(i.$parent)||"templates/typeahead/typeahead-match.html";e.get(u,{cache:t}).success(function(e){s.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?t.replace(RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),define("angular-ui-bootstrap",["angular"],function(){}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){function r(e,t){return D(new(D(function(){},{prototype:e})),t)}function i(e){return _(arguments,function(t){t!==e&&_(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function s(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function o(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function u(e,t,n,r){var i,u=s(n,r),a={},f=[];for(var l in u)if(u[l].params&&u[l].params.length){i=u[l].params;for(var c in i)o(f,i[c])>=0||(f.push(i[c]),a[i[c]]=e[i[c]])}return D({},a,t)}function a(e,t){var n={};return _(e,function(e){var r=t[e];n[e]=null!=r?String(r):null}),n}function f(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var s=n[i];if(e[s]!=t[s])return!1}return!0}function l(e,t){var n={};return _(e,function(e){n[e]=t[e]}),n}function c(e,t){var r=1,s=2,o={},u=[],a=o,f=D(e.when(o),{$$promises:o,$$values:o});this.study=function(o){function l(e,n){if(d[n]!==s){if(p.push(n),d[n]===r)throw p.splice(0,p.indexOf(n)),new Error("Cyclic dependency: "+p.join(" -> "));if(d[n]=r,A(e))h.push(n,[function(){return t.get(e)}],u);else{var i=t.annotate(e);_(i,function(e){e!==n&&o.hasOwnProperty(e)&&l(o[e],e)}),h.push(n,e,i)}p.pop(),d[n]=s}}function c(e){return O(e)&&e.then&&e.$$promises}if(!O(o))throw new Error("'invocables' must be an object");var h=[],p=[],d={};return _(o,l),o=p=d=null,function(r,s,o){function u(){--y||(b||i(g,s.$$values),v.$$values=g,v.$$promises=!0,d.resolve(g))}function l(e){v.$$failure=e,d.reject(e)}function p(n,i,s){function a(e){c.reject(e),l(e)}function f(){if(!k(v.$$failure))try{c.resolve(t.invoke(i,o,g)),c.promise.then(function(e){g[n]=e,u()},a)}catch(e){a(e)}}var c=e.defer(),h=0;_(s,function(e){m.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(h++,m[e].then(function(t){g[e]=t,--h||f()},a))}),h||f(),m[n]=c.promise}if(c(r)&&o===n&&(o=s,s=r,r=null),r){if(!O(r))throw new Error("'locals' must be an object")}else r=a;if(s){if(!c(s))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else s=f;var d=e.defer(),v=d.promise,m=v.$$promises={},g=D({},r),y=1+h.length/3,b=!1;if(k(s.$$failure))return l(s.$$failure),v;s.$$values?(b=i(g,s.$$values),u()):(D(m,s.$$promises),s.then(u,l));for(var w=0,E=h.length;E>w;w+=3)r.hasOwnProperty(h[w])?u():p(h[w],h[w+1],h[w+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function h(e,t,n){this.fromConfig=function(e,t,n){return k(e.template)?this.fromString(e.template,t):k(e.templateUrl)?this.fromUrl(e.templateUrl,t):k(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return L(e)?e(t):e},this.fromUrl=function(n,r){return L(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function p(e){function t(t){if(!/^\w+(-+\w+)*$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(s[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");s[t]=!0,f.push(t)}function n(e){return e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var r,i=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,s={},o="^",u=0,a=this.segments=[],f=this.params=[];this.source=e;for(var l,c,h;(r=i.exec(e))&&(l=r[2]||r[3],c=r[4]||("*"==r[1]?".*":"[^/]*"),h=e.substring(u,r.index),!(h.indexOf("?")>=0));)o+=n(h)+"("+c+")",t(l),a.push(h),u=i.lastIndex;h=e.substring(u);var p=h.indexOf("?");if(p>=0){var d=this.sourceSearch=h.substring(p);h=h.substring(0,p),this.sourcePath=e.substring(0,u+p),_(d.substring(1).split(/[&?]/),t)}else this.sourcePath=e,this.sourceSearch="";o+=n(h)+"$",a.push(h),this.regexp=new RegExp(o),this.prefix=a[0]}function d(){this.compile=function(e){return new p(e)},this.isMatcher=function(e){return O(e)&&L(e.exec)&&L(e.format)&&L(e.concat)},this.$get=function(){return this}}function v(e){function t(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function n(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function r(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return k(r)?r:!0}var i=[],s=null;this.rule=function(e){if(!L(e))throw new Error("'rule' must be a function");return i.push(e),this},this.otherwise=function(e){if(A(e)){var t=e;e=function(){return t}}else if(!L(e))throw new Error("'rule' must be a function");return s=e,this},this.when=function(i,s){var o,u=A(s);if(A(i)&&(i=e.compile(i)),!u&&!L(s)&&!M(s))throw new Error("invalid 'handler' in when()");var a={matcher:function(t,n){return u&&(o=e.compile(n),n=["$match",function(e){return o.format(e)}]),D(function(e,i){return r(e,n,t.exec(i.path(),i.search()))},{prefix:A(t.prefix)?t.prefix:""})},regex:function(e,i){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(o=i,i=["$match",function(e){return n(o,e)}]),D(function(t,n){return r(t,i,e.exec(n.path()))},{prefix:t(e)})}},f={matcher:e.isMatcher(i),regex:i instanceof RegExp};for(var l in f)if(f[l])return this.rule(a[l](i,s));throw new Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function(e,t,n){function r(t){function r(t){var r=t(n,e);return r?(A(r)&&e.replace().url(r),!0):!1}if(!t||!t.defaultPrevented){var o,u=i.length;for(o=0;u>o;o++)if(r(i[o]))return;s&&r(s)}}return t.$on("$locationChangeSuccess",r),{sync:function(){r()}}}]}function m(e,i,s){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function c(e,t){var r=A(e),i=r?e:e.name,s=o(i);if(s){if(!t)throw new Error("No reference point given for path '"+i+"'");for(var u=i.split("."),a=0,f=u.length,l=t;f>a;a++)if(""!==u[a]||0!==a){if("^"!==u[a])break;if(!l.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");l=l.parent}else l=t;u=u.slice(a).join("."),i=l.name+(l.name&&u?".":"")+u}var c=w[i];return!c||!r&&(r||c!==e&&c.self!==e)?n:c}function h(e,t){E[e]||(E[e]=[]),E[e].push(t)}function p(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!A(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(w.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):A(t.parent)?t.parent:"";if(i&&!w[i])return h(i,t.self);for(var s in x)L(x[s])&&(t[s]=x[s](t,x.$delegates[s]));if(w[n]=t,!t[S]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){b.$current.navigable==t&&f(e,n)||b.transitionTo(t,e,{location:!1})}]),E[n])for(var o=0;o<E[n].length;o++)p(E[n][o]);return t}function d(e,t){return A(e)&&!k(t)?x[e]:L(t)&&A(e)?(x[e]&&!x.$delegates[e]&&(x.$delegates[e]=x[e]),x[e]=t,this):this}function v(e,t){return O(e)?t=e:t.name=e,p(t),this}function m(e,i,o,h,p,d,v){function m(){v.url()!==A&&(v.url(A),v.replace())}function E(e,n,r,s,u){var a=r?n:l(e.params,n),f={$stateParams:a};u.resolve=p.resolve(e.resolve,f,u.resolve,e);var c=[u.resolve.then(function(e){u.globals=e})];return s&&c.push(s),_(e.views,function(n,r){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return o.load(r,{view:n,locals:f,params:a,notify:!1})||""}],c.push(p.resolve(i,f,u.resolve,e).then(function(s){if(L(n.controllerProvider)||M(n.controllerProvider)){var o=t.extend({},i,f);s.$$controller=h.invoke(n.controllerProvider,null,o)}else s.$$controller=n.controller;s.$$state=e,u[r]=s}))}),i.all(c).then(function(){return u})}var x=i.reject(new Error("transition superseded")),T=i.reject(new Error("transition prevented")),N=i.reject(new Error("transition aborted")),C=i.reject(new Error("transition failed")),A=v.url();return y.locals={resolve:null,globals:{$stateParams:{}}},b={params:{},current:y.self,$current:y,transition:null},b.reload=function(){b.transitionTo(b.current,d,{reload:!0,inherit:!1,notify:!1})},b.go=function(e,t,n){return this.transitionTo(e,t,D({inherit:!0,relative:b.$current},n))},b.transitionTo=function(t,n,s){n=n||{},s=D({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},s||{});var o,l=b.$current,p=b.params,w=l.path,L=c(t,s.relative);if(!k(L)){var O={to:t,toParams:n,options:s};if(o=e.$broadcast("$stateNotFound",O,l.self,p),o.defaultPrevented)return m(),N;if(o.retry){if(s.$retry)return m(),C;var M=b.transition=i.when(o.retry);return M.then(function(){return M!==b.transition?x:(O.options.$retry=!0,b.transitionTo(O.to,O.toParams,O.options))},function(){return N}),m(),M}if(t=O.to,n=O.toParams,s=O.options,L=c(t,s.relative),!k(L))throw s.relative?new Error("Could not resolve '"+t+"' from state '"+s.relative+"'"):new Error("No such state '"+t+"'")}if(L[S])throw new Error("Cannot transition to abstract state '"+t+"'");s.inherit&&(n=u(d,n||{},b.$current,L)),t=L;var _,F,R=t.path,U=y.locals,W=[];for(_=0,F=R[_];F&&F===w[_]&&f(n,p,F.ownParams)&&!s.reload;_++,F=R[_])U=W[_]=F.locals;if(g(t,l,U,s))return t.self.reloadOnSearch!==!1&&m(),b.transition=null,i.when(b.current);if(n=a(t.params,n||{}),s.notify&&(o=e.$broadcast("$stateChangeStart",t.self,n,l.self,p),o.defaultPrevented))return m(),T;for(var X=i.when(U),V=_;V<R.length;V++,F=R[V])U=W[V]=r(U),X=E(F,n,F===t,X,U);var $=b.transition=X.then(function(){var r,i,o;if(b.transition!==$)return x;for(r=w.length-1;r>=_;r--)o=w[r],o.self.onExit&&h.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=_;r<R.length;r++)i=R[r],i.locals=W[r],i.self.onEnter&&h.invoke(i.self.onEnter,i.self,i.locals.globals);if(b.transition!==$)return x;b.$current=t,b.current=t.self,b.params=n,P(b.params,d),b.transition=null;var u=t.navigable;return s.location&&u&&(v.url(u.url.format(u.locals.globals.$stateParams)),"replace"===s.location&&v.replace()),s.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,p),A=v.url(),b.current},function(r){return b.transition!==$?x:(b.transition=null,e.$broadcast("$stateChangeError",t.self,n,l.self,p,r),m(),i.reject(r))});return $},b.is=function(e,r){var i=c(e);return k(i)?b.$current!==i?!1:k(r)&&null!==r?t.equals(d,r):!0:n},b.includes=function(e,r){var i=c(e);if(!k(i))return n;if(!k(b.$current.includes[i.name]))return!1;var s=!0;return t.forEach(r,function(e,t){k(d[t])&&d[t]===e||(s=!1)}),s},b.href=function(e,t,n){n=D({lossy:!0,inherit:!1,absolute:!1,relative:b.$current},n||{});var r=c(e,n.relative);if(!k(r))return null;t=u(d,t||{},b.$current,r);var i=r&&n.lossy?r.navigable:r,o=i&&i.url?i.url.format(a(r.params,t||{})):null;return!s.html5Mode()&&o&&(o="#"+s.hashPrefix()+o),n.absolute&&o&&(o=v.protocol()+"://"+v.host()+(80==v.port()||443==v.port()?"":":"+v.port())+(!s.html5Mode()&&o?"/":"")+o),o},b.get=function(e,t){if(!k(e)){var n=[];return _(w,function(e){n.push(e.self)}),n}var r=c(e,t);return r&&r.self?r.self:null},b}function g(e,t,n,r){return e!==t||(n!==t.locals||r.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var y,b,w={},E={},S="abstract",x={parent:function(e){if(k(e.parent)&&e.parent)return c(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?c(t[1]):y},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=D({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url;if(A(t))return"^"==t.charAt(0)?i.compile(t.substring(1)):(e.parent.navigable||y).url.concat(t);if(i.isMatcher(t)||null==t)return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},params:function(e){if(!e.params)return e.url?e.url.parameters():e.parent.params;if(!M(e.params))throw new Error("Invalid params in state '"+e+"'");if(e.url)throw new Error("Both params and url specicified in state '"+e+"'");return e.params},views:function(e){var t={};return _(k(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},ownParams:function(e){if(!e.parent)return e.params;var t={};_(e.params,function(e){t[e]=!0}),_(e.parent.params,function(n){if(!t[n])throw new Error("Missing required parameter '"+n+"' in state '"+e.name+"'");t[n]=!1});var n=[];return _(t,function(e,t){e&&n.push(t)}),n},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?D({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};y=p({name:"",url:"^",views:null,"abstract":!0}),y.navigable=null,this.decorator=d,this.state=v,this.$get=m,m.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter"]}function g(){function e(e,t){return{load:function(n,r){var i,s={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=D(s,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function y(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function b(e,n,r,i,s,o){function u(){return i.has?function(e){return i.has(e)?i.get(e):null}:function(e){try{return i.get(e)}catch(t){return null}}}function a(e,t,n){var r=function(){return{leave:function(e){e.remove()},enter:function(e,t,n){n.after(e)}}};if(h)return function(e){return e?{enter:function(e,t,n){h.enter(e,null,n)},leave:function(e){h.leave(e,function(){e.remove()})}}:r()};if(c){var i=c&&c(n,t);return function(e){return e?{enter:function(e,t){i.enter(e,t)},leave:function(e){i.leave(e.contents(),e)}}:r()}}return r}var f=!1,l=u(),c=l("$animator"),h=l("$animate"),p={restrict:"ECA",compile:function(i,u){var l=i.html(),c=!0,h=t.element(o[0].createComment(" ui-view-anchor ")),d=i.parent();return i.prepend(h),function(o){function v(){y&&(T(!0).leave(y),y=null),g&&(g.$destroy(),g=null)}function m(u){var a=e.$current&&e.$current.locals[E];if(c&&(c=!1,i.replaceWith(h)),!a)return v(),y=i.clone(),y.html(l),T(u).enter(y,d,h),g=o.$new(),n(y.contents())(g),void 0;if(a!==b){v(),y=i.clone(),y.html(a.$template?a.$template:l),T(!0).enter(y,d,h),y.data("$uiView",N),b=a,N.state=a.$$state;var f=n(y.contents());if(g=o.$new(),a.$$controller){a.$scope=g;var p=r(a.$$controller,a);y.children().data("$ngControllerController",p)}f(g),g.$emit("$viewContentLoaded"),S&&g.$eval(S),t.isDefined(x)&&x&&!o.$eval(x)||s(y)}}var g,y,b,w=d.inheritedData("$uiView"),E=u[p.name]||u.name||"",S=u.onload||"",x=u.autoscroll,T=a(i,u,o);E.indexOf("@")<0&&(E=E+"@"+(w?w.state.name:""));var N={name:E,state:null},C=function(){if(!f){f=!0;try{m(!0)}catch(e){throw f=!1,e}f=!1}};o.$on("$stateChangeSuccess",C),o.$on("$viewContentLoading",C),m(!1)}}};return p}function w(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function E(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function S(e,t){return{restrict:"A",require:"?^uiSrefActive",link:function(n,r,i,s){var o=w(i.uiSref),u=null,a=E(r)||e.$current,f="FORM"===r[0].nodeName,l=f?"action":"href",c=!0,h=function(t){if(t&&(u=t),c){var n=e.href(o.state,u,{relative:a});return s&&s.$$setStateInfo(o.state,u),n?(r[0][l]=n,void 0):(c=!1,!1)}};o.paramExpr&&(n.$watch(o.paramExpr,function(e){e!==u&&h(e)},!0),u=n.$eval(o.paramExpr)),h(),f||r.bind("click",function(n){var i=n.which||n.button;0!==i&&1!=i||n.ctrlKey||n.metaKey||n.shiftKey||r.attr("target")||(t(function(){e.go(o.state,u,{relative:a})}),n.preventDefault())})}}}function x(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(r,i,s){function o(){e.$current.self===a&&u()?i.addClass(c):i.removeClass(c)}function u(){return!l||f(l,t)}var a,l,c;c=n(s.uiSrefActive||"",!1)(r),this.$$setStateInfo=function(t,n){a=e.get(t,E(i)),l=n,o()},r.$on("$stateChangeSuccess",o)}]}}function T(e){return function(t){return e.is(t)}}function N(e){return function(t){return e.includes(t)}}function C(e,t){function i(e){this.locals=e.locals.globals,this.params=this.locals.$stateParams}function s(){this.locals=null,this.params=null}function o(n,o){if(null!=o.redirectTo){var u,f=o.redirectTo;if(A(f))u=f;else{if(!L(f))throw new Error("Invalid 'redirectTo' in when()");u=function(e,t){return f(e,t.path(),t.search())}}t.when(n,u)}else e.state(r(o,{parent:null,name:"route:"+encodeURIComponent(n),url:n,onEnter:i,onExit:s}));return a.push(o),this}function u(e,t,r){function i(e){return""!==e.name?e:n}var s={routes:a,params:r,current:n};return t.$on("$stateChangeStart",function(e,n,r,s){t.$broadcast("$routeChangeStart",i(n),i(s))}),t.$on("$stateChangeSuccess",function(e,n,r,o){s.current=i(n),t.$broadcast("$routeChangeSuccess",i(n),i(o)),P(r,s.params)}),t.$on("$stateChangeError",function(e,n,r,s,o,u){t.$broadcast("$routeChangeError",i(n),i(s),u)}),s}var a=[];i.$inject=["$$state"],this.when=o,this.$get=u,u.$inject=["$state","$rootScope","$routeParams"]}var k=t.isDefined,L=t.isFunction,A=t.isString,O=t.isObject,M=t.isArray,_=t.forEach,D=t.extend,P=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),c.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",c),h.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",h),p.prototype.concat=function(e){return new p(this.sourcePath+e+this.sourceSearch)},p.prototype.toString=function(){return this.source},p.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;var r,i=this.params,s=i.length,o=this.segments.length-1,u={};if(o!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;o>r;r++)u[i[r]]=n[r+1];for(;s>r;r++)u[i[r]]=t[i[r]];return u},p.prototype.parameters=function(){return this.params},p.prototype.format=function(e){var t=this.segments,n=this.params;if(!e)return t.join("");var r,i,s,o=t.length-1,u=n.length,a=t[0];for(r=0;o>r;r++)s=e[n[r]],null!=s&&(a+=encodeURIComponent(s)),a+=t[r+1];for(;u>r;r++)s=e[n[r]],null!=s&&(a+=(i?"&":"?")+n[r]+"="+encodeURIComponent(s),i=!0);return a},t.module("ui.router.util").provider("$urlMatcherFactory",d),v.$inject=["$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",v),m.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",m),g.$inject=[],t.module("ui.router.state").provider("$view",g),t.module("ui.router.state").provider("$uiViewScroll",y),b.$inject=["$state","$compile","$controller","$injector","$uiViewScroll","$document"],t.module("ui.router.state").directive("uiView",b),S.$inject=["$state","$timeout"],x.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",S).directive("uiSrefActive",x),T.$inject=["$state"],N.$inject=["$state"],t.module("ui.router.state").filter("isState",T).filter("includedByState",N),C.$inject=["$stateProvider","$urlRouterProvider"],t.module("ui.router.compat").provider("$route",C).directive("ngView",b)}(window,window.angular),define("angular-ui-router",["angular"],function(){}),angular.module("ngSwitchToggle",[]).directive("ngSwitchToggleGroup",["$compile",function(e){return{restrict:"E",replace:!0,require:"?ngModel",template:'<div class="ngst-switch  {{theme}} {{color}}" ></div>',scope:{groupname:"@groupName",ngModel:"=",choices:"=",theme:"@theme",color:"@theme"},link:function(t,n,r){t.$watch("choices",function(r){var i=1,s=Math.round(1e4/r.length)/100;n.html(""),angular.forEach(r,function(r){var o=angular.element(e('<input id="name'+i+'" name="'+t.groupname+'" type="radio" value="'+r.value+'" ng-model="ngModel" ></input>')(t)),u=angular.element('<label for="name'+i+'" onclick="">'+r.label+"</label>");u.css("width",s+"%"),n.append(o),n.append(u),i++});var o=angular.element('<span class="slide-button"></span>');o.css("width",s+"%"),n.append(o)}),t.$watch("ngModel",function(e){n.find("label").removeClass("selected");var r=Math.round(1e4/t.choices.length)/100,i=$("input:radio[name='"+t.groupname+"']"),s=i.filter(function(t){return $(this).val()==e}),o=i.index(s);if(o==-1)o=0,n.find("label").first().addClass("selected");else{var u=s.attr("id");n.find("label[for='"+u+"']").addClass("selected")}n.find(".slide-button").css("left",r*o+"%")})}}}]),define("angular-switch-toggle",["angular","jquery"],function(){}),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){return function(t,n,r){var i=t.$eval(r.uiEvent);angular.forEach(i,function(r,i){var s=e(r);n.bind(i,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),s(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),define("angular-ui-event",["angular"],function(){}),define("async",[],function(){function n(e){var t,n;t=document.createElement("script"),t.type="text/javascript",t.async=!0,t.src=e,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(t,n)}function r(t,n){var r=/!(.+)/,i=t.replace(r,""),s=r.test(t)?t.replace(/.+!/,""):e;return i+=i.indexOf("?")<0?"?":"&",i+s+"="+n}function i(){return t+=1,"__async_req_"+t+"__"}var e="callback",t=0;return{load:function(e,t,s,o){if(o.isBuild)s(null);else{var u=i();window[u]=s,n(r(e,u))}}}}),function(){function t(e,t,n,r){angular.forEach(t.split(" "),function(t){google.maps.event.addListener(n,t,function(n){r.triggerHandler("map-"+t,n),e.$$phase||e.$apply()})})}function n(n,r){e.directive(n,[function(){return{restrict:"A",link:function(e,i,s){e.$watch(s[n],function(n){n&&t(e,r,n,i)})}}}])}var e=angular.module("ui.map",["ui.event"]);e.value("uiMapConfig",{}).directive("uiMap",["uiMapConfig","$parse",function(e,n){var r="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",i=e||{};return{restrict:"A",link:function(e,s,o){var u=angular.extend({},i,e.$eval(o.uiOptions)),a=new google.maps.Map(s[0],u),f=n(o.uiMap);f.assign(e,a),t(e,r,a,s)}}}]),e.value("uiMapInfoWindowConfig",{}).directive("uiMapInfoWindow",["uiMapInfoWindowConfig","$parse","$compile",function(e,n,r){var i="closeclick content_change domready position_changed zindex_changed",s=e||{};return{link:function(e,o,u){var a=angular.extend({},s,e.$eval(u.uiOptions));a.content=o[0];var f=n(u.uiMapInfoWindow),l=f(e);l||(l=new google.maps.InfoWindow(a),f.assign(e,l)),t(e,i,l,o),o.replaceWith("<div></div>");var c=l.open;l.open=function(n,i,s,u,a,f){r(o.contents())(e),c.call(l,n,i,s,u,a,f)}}}}]),n("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),n("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),n("uiMapGroundOverlay","click dblclick")}(),define("angular-ui-map",["angular","angular-ui-event","async!http://maps.google.com/maps/api/js?sensor=false"],function(){}),function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return typeof n=="number"?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(){n=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";return e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),this.options.helper==="original"&&!e.contains(this.element[0].ownerDocument,this.element[0])?!1:(this.options.revert==="invalid"&&!r||this.options.revert==="valid"&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1)},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(n.appendTo==="parent"?this.element[0].parentNode:n.appendTo),r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;if(!i.containment){this.containment=null;return}if(i.containment==="window"){this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment==="document"){this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment.constructor===Array){this.containment=i.containment;return}i.containment==="parent"&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0];if(!r)return;t=n.css("overflow")!=="hidden",this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}),{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(t){var n,r,i,s,o=this.options,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=t.pageX,f=t.pageY;return this.offset.scroll||(this.offset.scroll={top:u.scrollTop(),left:u.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(r=this.relative_container.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(f=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(f=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,f=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),t==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("ui-draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("ui-draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("ui-draggable"),i=this;e.each(r.sortables,function(){var s=!1,o=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&t.scrollParent[0].tagName!=="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),r=n.options,i=!1;if(n.scrollParent[0]!==document&&n.scrollParent[0].tagName!=="HTML"){if(!r.axis||r.axis!=="x")n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed);if(!r.axis||r.axis!=="y")n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed)}else{if(!r.axis||r.axis!=="x")t.pageY-e(document).scrollTop()<r.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed));if(!r.axis||r.axis!=="y")t.pageX-e(document).scrollLeft()<r.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))}i!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),r=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})})},drag:function(t,n){var r,i,s,o,u,a,f,l,c,h,p=e(this).data("ui-draggable"),d=p.options,v=d.snapTolerance,m=n.offset.left,g=m+p.helperProportions.width,y=n.offset.top,b=y+p.helperProportions.height;for(c=p.snapElements.length-1;c>=0;c--){u=p.snapElements[c].left,a=u+p.snapElements[c].width,f=p.snapElements[c].top,l=f+p.snapElements[c].height;if(g<u-v||m>a+v||b<f-v||y>l+v||!e.contains(p.snapElements[c].item.ownerDocument,p.snapElements[c].item)){p.snapElements[c].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=!1;continue}d.snapMode!=="inner"&&(r=Math.abs(f-b)<=v,i=Math.abs(l-y)<=v,s=Math.abs(u-g)<=v,o=Math.abs(a-m)<=v,r&&(n.position.top=p._convertPositionTo("relative",{top:f-p.helperProportions.height,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u-p.helperProportions.width}).left-p.margins.left),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left)),h=r||i||s||o,d.snapMode!=="outer"&&(r=Math.abs(f-y)<=v,i=Math.abs(l-b)<=v,s=Math.abs(u-m)<=v,o=Math.abs(a-g)<=v,r&&(n.position.top=p._convertPositionTo("relative",{top:f,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u}).left-p.margins.left),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[c].snapping&&(r||i||s||o||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=r||i||s||o||h}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,r=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!r.length)return;t=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+r.length)}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),function(e,t){function n(e,t,n){return e>t&&e<t+n}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=0,n=e.ui.ddmanager.droppables[this.options.scope];for(;t<n.length;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){t==="accept"&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return!r||(r.currentItem||r.element)[0]===this.element[0]?!1:(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return i=!0,!1}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1)},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,t,r){if(!t.offset)return!1;var i,s,o=(e.positionAbs||e.position.absolute).left,u=o+e.helperProportions.width,a=(e.positionAbs||e.position.absolute).top,f=a+e.helperProportions.height,l=t.offset.left,c=l+t.proportions.width,h=t.offset.top,p=h+t.proportions.height;switch(r){case"fit":return l<=o&&u<=c&&h<=a&&f<=p;case"intersect":return l<o+e.helperProportions.width/2&&u-e.helperProportions.width/2<c&&h<a+e.helperProportions.height/2&&f-e.helperProportions.height/2<p;case"pointer":return i=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,n(s,h,t.proportions.height)&&n(i,l,t.proportions.width);case"touch":return(a>=h&&a<=p||f>=h&&f<=p||a<h&&f>p)&&(o>=l&&o<=c||u>=l&&u<=c||o<l&&u>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,u=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<s.length;r++){if(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))continue;for(i=0;i<u.length;i++)if(u[i]===s[r].element[0]){s[r].proportions.height=0;continue e}s[r].visible=s[r].element.css("display")!=="none";if(!s[r].visible)continue;o==="mousedown"&&s[r]._activate.call(s[r],n),s[r].offset=s[r].element.offset(),s[r].proportions={width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight}}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){if(!this.options)return;!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var r,i,s,o=e.ui.intersect(t,this,this.options.tolerance),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;if(!u)return;this.options.greedy&&(i=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===i}),s.length&&(r=e.data(s[0],"ui-droppable"),r.greedyChild=u==="isover")),r&&u==="isover"&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[u]=!0,this[u==="isout"?"isover":"isout"]=!1,this[u==="isover"?"_over":"_out"].call(this,n),r&&u==="isout"&&(r.isout=!1,r.isover=!0,r._over.call(r,n))})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e,t){function n(e){return parseInt(e,10)||0}function r(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,r,i,s,o=this,u=this.options;this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!u.aspectRatio,aspectRatio:u.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:u.helper||u.ghost||u.animate?u.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=u.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor===String){this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={};for(n=0;n<t.length;n++)r=e.trim(t[n]),s="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+s+"'></div>"),i.css({zIndex:u.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i)}this._renderAxis=function(t){var n,r,i,s;t=t||this.element;for(n in this.handles){this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize());if(!e(this.handles[n]).length)continue}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),u.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(u.disabled)return;e(this).removeClass("ui-resizable-autohide"),o._handles.show()}).mouseleave(function(){if(u.disabled)return;o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles){r=e(this.handles[n])[0];if(r===t.target||e.contains(r,t.target))i=!0}return!this.options.disabled&&i},_mouseStart:function(t){var r,i,s,o=this.options,u=this.element.position(),a=this.element;return this.resizing=!0,/absolute/.test(a.css("position"))?a.css({position:"absolute",top:a.css("top"),left:a.css("left")}):a.is(".ui-draggable")&&a.css({position:"absolute",top:u.top,left:u.left}),this._renderProxy(),r=n(this.helper.css("left")),i=n(this.helper.css("top")),o.containment&&(r+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:i},this.size=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:r,top:i},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof o.aspectRatio=="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor",s==="auto"?this.axis+"-resize":s),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r=this.helper,i={},s=this.originalMousePosition,o=this.axis,u=this.position.top,a=this.position.left,f=this.size.width,l=this.size.height,c=t.pageX-s.left||0,h=t.pageY-s.top||0,p=this._change[o];if(!p)return!1;n=p.apply(this,[t,c,h]),this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey)n=this._updateRatio(n,t);return n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==u&&(i.top=this.position.top+"px"),this.position.left!==a&&(i.left=this.position.left+"px"),this.size.width!==f&&(i.width=this.size.width+"px"),this.size.height!==l&&(i.height=this.size.height+"px"),r.css(i),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n,r,i,s,o,u,a,f=this.options,l=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&e.ui.hasScroll(n[0],"left")?0:l.sizeDiff.height,s=r?0:l.sizeDiff.width,o={width:l.helper.width()-s,height:l.helper.height()-i},u=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null,a=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null,f.animate||this.element.css(e.extend(o,{top:a,left:u})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!f.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,i,s,o,u=this.options;o={minWidth:r(u.minWidth)?u.minWidth:0,maxWidth:r(u.maxWidth)?u.maxWidth:Infinity,minHeight:r(u.minHeight)?u.minHeight:0,maxHeight:r(u.maxHeight)?u.maxHeight:Infinity};if(this._aspectRatio||e)t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,s=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),s<o.maxHeight&&(o.maxHeight=s);this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),i==="sw"&&(e.left=t.left+(n.width-e.width),e.top=null),i==="nw"&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=r(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=r(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=r(e.width)&&t.minWidth&&t.minWidth>e.width,u=r(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,f=this.position.top+this.size.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),u&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),o&&l&&(e.left=a-t.minWidth),i&&l&&(e.left=a-t.maxWidth),u&&c&&(e.top=f-t.minHeight),s&&c&&(e.top=f-t.maxHeight),!e.width&&!e.height&&!e.left&&e.top?e.top=null:!e.width&&!e.height&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length)return;var e,t,n,r,i,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){i=this._proportionallyResizeElements[e];if(!this.borderDif){this.borderDif=[],n=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],r=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];for(t=0;t<n.length;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(r[t],10)||0)}i.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),t!=="resize"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),r=n.options,i=n._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,u=s?0:n.sizeDiff.width,a={width:n.size.width-u,height:n.size.height-o},f=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(a,l&&f?{top:l,left:f}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,r,i,s,o,u,a,f=e(this).data("ui-resizable"),l=f.options,c=f.element,h=l.containment,p=h instanceof e?h.get(0):/parent/.test(h)?c.parent().get(0):h;if(!p)return;f.containerElement=e(p),/document/.test(h)||h===document?(f.containerOffset={left:0,top:0},f.containerPosition={left:0,top:0},f.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),r=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){r[e]=n(t.css("padding"+i))}),f.containerOffset=t.offset(),f.containerPosition=t.position(),f.containerSize={height:t.innerHeight()-r[3],width:t.innerWidth()-r[1]},i=f.containerOffset,s=f.containerSize.height,o=f.containerSize.width,u=e.ui.hasScroll(p,"left")?p.scrollWidth:o,a=e.ui.hasScroll(p)?p.scrollHeight:s,f.parentData={element:p,left:i.left,top:i.top,width:u,height:a})},resize:function(t){var n,r,i,s,o=e(this).data("ui-resizable"),u=o.options,a=o.containerOffset,f=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(c=a),f.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=u.helper?a.left:0),f.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?a.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,n=Math.abs((o._helper?o.offset.left-c.left:o.offset.left-c.left)+o.sizeDiff.width),r=Math.abs((o._helper?o.offset.top-c.top:o.offset.top-a.top)+o.sizeDiff.height),i=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),i&&s&&(n-=o.parentData.left),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,l&&(o.size.height=o.size.width/o.aspectRatio)),r+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-r,l&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.containerOffset,i=t.containerPosition,s=t.containerElement,o=e(t.helper),u=o.offset(),a=o.outerWidth()-t.sizeDiff.width,f=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof n.alsoResize=="object"&&!n.alsoResize.parentNode?n.alsoResize.length?(n.alsoResize=n.alsoResize[0],r(n.alsoResize)):e.each(n.alsoResize,function(e){r(e)}):r(n.alsoResize)},resize:function(t,n){var r=e(this).data("ui-resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};typeof i.alsoResize=="object"&&!i.alsoResize.nodeType?e.each(i.alsoResize,function(e,t){a(e,t)}):a(i.alsoResize)},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof n.ghost=="string"?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size,i=t.originalSize,s=t.originalPosition,o=t.axis,u=typeof n.grid=="number"?[n.grid,n.grid]:n.grid,a=u[0]||1,f=u[1]||1,l=Math.round((r.width-i.width)/a)*a,c=Math.round((r.height-i.height)/f)*f,h=i.width+l,p=i.height+c,d=n.maxWidth&&n.maxWidth<h,v=n.maxHeight&&n.maxHeight<p,m=n.minWidth&&n.minWidth>h,g=n.minHeight&&n.minHeight>p;n.grid=u,m&&(h+=a),g&&(p+=f),d&&(h-=a),v&&(p-=f),/^(se|s|e)$/.test(o)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(o)?(t.size.width=h,t.size.height=p,t.position.top=s.top-c):/^(sw)$/.test(o)?(t.size.width=h,t.size.height=p,t.position.left=s.left-l):(t.size.width=h,t.size.height=p,t.position.top=s.top-c,t.position.left=s.left-l)}})}(jQuery),function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY];if(this.options.disabled)return;this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,!t.metaKey&&!t.ctrlKey&&(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().addBack().each(function(){var r,i=e.data(this,"selectable-item");if(i)return r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1})},_mouseDrag:function(t){this.dragged=!0;if(this.options.disabled)return;var n,r=this,i=this.options,s=this.opos[0],o=this.opos[1],u=t.pageX,a=t.pageY;return s>u&&(n=u,u=s,s=n),o>a&&(n=a,a=o,o=n),this.helper.css({left:s,top:o,width:u-s,height:a-o}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),f=!1;if(!n||n.element===r.element[0])return;i.tolerance==="touch"?f=!(n.left>u||n.right<s||n.top>a||n.bottom<o):i.tolerance==="fit"&&(f=n.left>s&&n.right<u&&n.top>o&&n.bottom<a),f?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&!t.metaKey&&!t.ctrlKey&&!n.startselected&&(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))}),!1},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e,t){function n(e,t,n){return e>t&&e<t+n}function r(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||r(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=null,i=!1,s=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type==="static")return!1;this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")===s)return r=e(this),!1}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target));if(!r)return!1;if(this.options.handle&&!n){e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)});if(!i)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i,s,o=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&o.cursor!=="auto"&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(u=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";for(n=this.items.length-1;n>=0;n--){r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r);if(!s)continue;if(r.instance!==this.currentContainer)continue;if(i!==this.currentItem[0]&&this.placeholder[s===1?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],i):!0)){this.direction=s===1?"down":"up";if(this.options.tolerance!=="pointer"&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};if(!s||s==="x")o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);if(!s||s==="y")o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=this.options.axis==="x"||r+f>u&&r+f<a,h=this.options.axis==="y"||t+l>s&&t+l<o,p=c&&h;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(e){var t=this.options.axis==="x"||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),r=this.options.axis==="y"||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o==="right"||s==="down"?2:1:s&&(s==="down"?2:1):!1},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s==="right"&&r||s==="left"&&!r:i&&(i==="down"&&t||i==="up"&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,s,o=[],u=[],a=this._connectWith();if(a&&t)for(n=a.length-1;n>=0;n--){i=e(a[n]);for(r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&u.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}u.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(n=u.length-1;n>=0;n--)u[n][0].each(function(){o.push(this)});return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--){i=e(h[n]);for(r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s))}for(n=c.length-1;n>=0;n--){o=c[n][1],u=c[n][0];for(r=0,f=u.length;r<f;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--){r=this.items[n];if(r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])continue;i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;if(!r.placeholder||r.placeholder.constructor===String)n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return r==="tr"?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)}):r==="img"&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){if(n&&!r.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}};t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,s,o,u,a,f,l,c,h,p,d=null,v=null;for(i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(d&&e.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],v=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0)}if(!d)return;if(this.containers.length===1)this.containers[v].containerCache.over||(this.containers[v]._trigger("over",t,this._uiHash(this)),this.containers[v].containerCache.over=1);else{o=1e4,u=null,p=d.floating||r(this.currentItem),a=p?"left":"top",f=p?"width":"height",l=this.positionAbs[a]+this.offset.click[a];for(s=this.items.length-1;s>=0;s--){if(!e.contains(this.containers[v].element[0],this.items[s].item[0]))continue;if(this.items[s].item[0]===this.currentItem[0])continue;if(p&&!n(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))continue;c=this.items[s].item.offset()[a],h=!1,Math.abs(c-l)>Math.abs(c+this.items[s][f]-l)&&(h=!0,c+=this.items[s][f]),Math.abs(c-l)<o&&(o=Math.abs(c-l),u=this.items[s],this.direction=h?"up":"down")}if(!u&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[v])return;u?this._rearrange(t,u,null,!0):this._rearrange(t,null,this.containers[v].element,!0),this._trigger("change",t,this._uiHash()),this.containers[v]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[v],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[v]._trigger("over",t,this._uiHash(this)),this.containers[v].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper==="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!=="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);if(i.containment==="document"||i.containment==="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r=e(t).css("overflow")!=="hidden",this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return this.cssPosition==="relative"&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){this.reverting=!1;var n,r=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)if(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static")this._storedCSS[n]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t&&r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(n=this.containers.length-1;n>=0;n--)t||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!t){this._trigger("beforeStop",e,this._uiHash());for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var n="ui-effects-";e.effects={effect:{}},function(e,t){function h(e,t,n){var r=u[t.type]||{};return e==null?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function p(t){var n=s(),r=n._rgba=[];return t=t.toLowerCase(),c(i,function(e,i){var s,u=i.re.exec(t),a=u&&i.parse(u),f=i.space||"rgba";if(a)return s=n[f](a),n[o[f].cache]=s[o[f].cache],r=n._rgba=s._rgba,!1}),r.length?(r.join()==="0,0,0,0"&&e.extend(r,l.transparent),n):l[t]}function d(e,t,n){return n=(n+1)%1,n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}var n="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],s=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},o={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=s.support={},f=e("<p>")[0],l,c=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=f.style.backgroundColor.indexOf("rgba")>-1,c(o,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),s.fn=e.extend(s.prototype,{parse:function(n,r,i,u){if(n===t)return this._rgba=[null,null,null,null],this;if(n.jquery||n.nodeType)n=e(n).css(r),r=t;var a=this,f=e.type(n),d=this._rgba=[];r!==t&&(n=[n,r,i,u],f="array");if(f==="string")return this.parse(p(n)||l._default);if(f==="array")return c(o.rgba.props,function(e,t){d[t.idx]=h(n[t.idx],t)}),this;if(f==="object")return n instanceof s?c(o,function(e,t){n[t.cache]&&(a[t.cache]=n[t.cache].slice())}):c(o,function(t,r){var i=r.cache;c(r.props,function(e,t){if(!a[i]&&r.to){if(e==="alpha"||n[e]==null)return;a[i]=r.to(a._rgba)}a[i][t.idx]=h(n[e],t,!0)}),a[i]&&e.inArray(null,a[i].slice(0,3))<0&&(a[i][3]=1,r.from&&(a._rgba=r.from(a[i])))}),this},is:function(e){var t=s(e),n=!0,r=this;return c(o,function(e,i){var s,o=t[i.cache];return o&&(s=r[i.cache]||i.to&&i.to(r._rgba)||[],c(i.props,function(e,t){if(o[t.idx]!=null)return n=o[t.idx]===s[t.idx],n})),n}),n},_space:function(){var e=[],t=this;return c(o,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=s(e),r=n._space(),i=o[r],a=this.alpha()===0?s("transparent"):this,f=a[i.cache]||i.to(a._rgba),l=f.slice();return n=n[i.cache],c(i.props,function(e,r){var i=r.idx,s=f[i],o=n[i],a=u[r.type]||{};if(o===null)return;s===null?l[i]=o:(a.mod&&(o-s>a.mod/2?s+=a.mod:s-o>a.mod/2&&(s-=a.mod)),l[i]=h((o-s)*t+s,r))}),this[r](l)},blend:function(t){if(this._rgba[3]===1)return this;var n=this._rgba.slice(),r=n.pop(),i=s(t)._rgba;return s(e.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return e==null?t>2?1:0:e});return n[3]===1&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return e==null&&(e=t>2?1:0),t&&t<3&&(e=Math.round(e*100)+"%"),e});return n[3]===1&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(r*255)),"#"+e.map(n,function(e){return e=(e||0).toString(16),e.length===1?"0"+e:e}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),s.fn.parse.prototype=s.fn,o.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=e[3],s=Math.max(t,n,r),o=Math.min(t,n,r),u=s-o,a=s+o,f=a*.5,l,c;return o===s?l=0:t===s?l=60*(n-r)/u+360:n===s?l=60*(r-t)/u+120:l=60*(t-n)/u+240,u===0?c=0:f<=.5?c=u/a:c=u/(2-a),[Math.round(l)%360,c,f,i==null?1:i]},o.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;return[Math.round(d(o,s,t+1/3)*255),Math.round(d(o,s,t)*255),Math.round(d(o,s,t-1/3)*255),i]},c(o,function(n,i){var o=i.props,u=i.cache,a=i.to,f=i.from;s.fn[n]=function(n){a&&!this[u]&&(this[u]=a(this._rgba));if(n===t)return this[u].slice();var r,i=e.type(n),l=i==="array"||i==="object"?n:arguments,p=this[u].slice();return c(o,function(e,t){var n=l[i==="object"?e:t.idx];n==null&&(n=p[t.idx]),p[t.idx]=h(n,t)}),f?(r=s(f(p)),r[u]=p,r):s(p)},c(o,function(t,i){if(s.fn[t])return;s.fn[t]=function(s){var o=e.type(s),u=t==="alpha"?this._hsla?"hsla":"rgba":n,a=this[u](),f=a[i.idx],l;return o==="undefined"?f:(o==="function"&&(s=s.call(this,f),o=e.type(s)),s==null&&i.empty?this:(o==="string"&&(l=r.exec(s),l&&(s=f+parseFloat(l[2])*(l[1]==="+"?1:-1))),a[i.idx]=s,this[u](a)))}})}),s.hook=function(t){var n=t.split(" ");c(n,function(t,n){e.cssHooks[n]={set:function(t,r){var i,o,u="";if(r!=="transparent"&&(e.type(r)!=="string"||(i=p(r)))){r=s(i||r);if(!a.rgba&&r._rgba[3]!==1){o=n==="backgroundColor"?t.parentNode:t;while((u===""||u==="transparent")&&o&&o.style)try{u=e.css(o,"backgroundColor"),o=o.parentNode}catch(f){}r=r.blend(u&&u!=="transparent"?u:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(f){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=s(t.elem,n),t.end=s(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},s.hook(n),e.cssHooks.borderColor={expand:function(e){var t={};return c(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},l=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var n,r,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(i&&i.length&&i[0]&&i[i[0]]){r=i.length;while(r--)n=i[r],typeof i[n]=="string"&&(s[e.camelCase(n)]=i[n])}else for(n in i)typeof i[n]=="string"&&(s[n]=i[n]);return s}function s(t,n){var i={},s,o;for(s in n)o=n[s],t[s]!==o&&!r[s]&&(e.fx.step[s]||!isNaN(parseFloat(o)))&&(i[s]=o);return i}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){if(e.end!=="none"&&!e.setAttr||e.pos===1&&!e.setAttr)jQuery.style(e.elem,n,e.end),e.setAttr=!0}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,r,o,u){var a=e.speed(r,o,u);return this.queue(function(){var r=e(this),o=r.attr("class")||"",u,f=a.children?r.find("*").addBack():r;f=f.map(function(){var t=e(this);return{el:t,start:i(this)}}),u=function(){e.each(n,function(e,n){t[n]&&r[n+"Class"](t[n])})},u(),f=f.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),r.attr("class",o),f=f.map(function(){var t=this,n=e.Deferred(),r=e.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,f.get()).done(function(){u(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(n,r,i,s){return r?e.effects.animateClass.call(this,{add:n},r,i,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,r,i,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},r,i,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(n){return function(r,i,s,o,u){return typeof i=="boolean"||i===t?s?e.effects.animateClass.call(this,i?{add:r}:{remove:r},s,o,u):n.apply(this,arguments):e.effects.animateClass.call(this,{toggle:r},i,s,o)}}(e.fn.toggleClass),switchClass:function(t,n,r,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,s)}})}(),function(){function r(t,n,r,i){e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},n==null&&(n={}),e.isFunction(n)&&(i=n,r=null,n={});if(typeof n=="number"||e.fx.speeds[n])i=r,r=n,n={};return e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:typeof r=="number"?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function i(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.effects.effect[t]?!0:e.isFunction(t)?!0:typeof t=="object"&&!t.effect?!0:!1}e.extend(e.effects,{version:"1.10.3",save:function(e,t){for(var r=0;r<t.length;r++)t[r]!==null&&e.data(n+t[r],e[0].style[t[r]])},restore:function(e,r){var i,s;for(s=0;s<r.length;s++)r[s]!==null&&(i=e.data(n+r[s]),i===t&&(i=""),e.css(r[s],i))},setMode:function(e,t){return t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),t.css("position")==="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*r+s[1])}),i}}),e.fn.extend({effect:function(){function o(n){function u(){e.isFunction(i)&&i.call(r[0]),e.isFunction(n)&&n()}var r=e(this),i=t.complete,o=t.mode;(r.is(":hidden")?o==="hide":o==="show")?(r[o](),u()):s.call(r[0],t,u)}var t=r.apply(this,arguments),n=t.mode,i=t.queue,s=e.effects.effect[t.effect];return e.fx.off||!s?n?this[n](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):i===!1?this.each(o):this.queue(i||"fx",o)},show:function(e){return function(t){if(i(t))return e.apply(this,arguments);var n=r.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(t){if(i(t))return e.apply(this,arguments);var n=r.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(t){if(i(t)||typeof t=="boolean")return e.apply(this,arguments);var n=r.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,n=4;while(e<((t=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((t*3-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(e*2)/2:1-n(e*-2+2)/2}})}()}(jQuery),function(e,t){var n=0,r={},i={};r.height=r.paddingTop=r.paddingBottom=r.borderTopWidth=r.borderBottomWidth="hide",i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),!t.collapsible&&(t.active===!1||t.active==null)&&(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&e.css("height","")},_setOption:function(e,t){if(e==="active"){this._activate(t);return}e==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),e==="collapsible"&&!t&&this.options.active===!1&&this._activate(0),e==="icons"&&(this._destroyIcons(),t&&this._createIcons()),e==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)},_keydown:function(t){if(t.altKey||t.ctrlKey)return;var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:s=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[r-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,r=this.options,i=r.heightStyle,s=this.element.parent(),o=this.accordionId="ui-accordion-"+(this.element.attr("id")||++n);this.active=this._findActive(r.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var n=e(this),r=n.attr("id"),i=n.next(),s=i.attr("id");r||(r=o+"-header-"+t,n.attr("id",r)),s||(s=o+"-panel-"+t,i.attr("id",s)),n.attr("aria-controls",s),i.attr("aria-labelledby",r)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(r.event),i==="fill"?(t=s.height(),this.element.siblings(":visible").each(function(){var n=e(this),r=n.css("position");if(r==="absolute"||r==="fixed")return;t-=n.outerHeight(!0)}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):i==="auto"&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];if(n===this.active[0])return;n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return typeof t=="number"?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i[0]===r[0],o=s&&n.collapsible,u=o?e():i.next(),a=r.next(),f={oldHeader:r,oldPanel:a,newHeader:o?e():i,newPanel:u};t.preventDefault();if(s&&!n.collapsible||this._trigger("beforeActivate",t,f)===!1)return;n.active=o?!1:this.headers.index(i),this.active=s?e():i,this._toggle(f),r.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),s||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),i.next().addClass("ui-accordion-content-active"))},_toggle:function(t){var n=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=r,this.options.animate?this._animate(n,r,t):(r.hide(),n.show(),this._toggleComplete(t)),r.attr({"aria-expanded":"false","aria-hidden":"true"}),r.prev().attr("aria-selected","false"),n.length&&r.length?r.prev().attr("tabIndex",-1):n.length&&this.headers.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),n.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,n){var s,o,u,a=this,f=0,l=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},h=l&&c.down||c,p=function(){a._toggleComplete(n)};typeof h=="number"&&(u=h),typeof h=="string"&&(o=h),o=o||h.easing||c.easing,u=u||h.duration||c.duration;if(!t.length)return e.animate(i,u,o,p);if(!e.length)return t.animate(r,u,o,p);s=e.show().outerHeight(),t.animate(r,{duration:u,easing:o,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(i,{duration:u,easing:o,complete:p,step:function(e,n){n.now=Math.round(e),n.prop!=="height"?f+=n.now:a.options.heightStyle!=="content"&&(n.now=Math.round(s-t.outerHeight()-f),f=0)}})},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(e,t){var n=0;e.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),s=i==="textarea",o=i==="input";this.isMultiLine=s?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){t=!0,r=!0,n=!0;return}t=!1,r=!1,n=!1;var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",i);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case s.UP:t=!0,this._keyEvent("previous",i);break;case s.DOWN:t=!0,this._keyEvent("next",i);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case s.TAB:this.menu.active&&this.menu.select(i);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t){t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault();return}if(n)return;var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}},input:function(e){if(r){r=!1,e.preventDefault();return}this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target!==t.element[0]&&r.target!==n&&!e.contains(n,r.target)&&t.close()})})},menufocus:function(t,n){if(this.isNewMenu){this.isNewMenu=!1;if(t.originalEvent&&/^mouse/.test(t.originalEvent.type)){this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});return}}var r=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):typeof this.options.source=="string"?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){e=e!=null?e:this._value(),this.term=this._value();if(e.length<this.options.minLength)return this.close(t);if(this._trigger("search",t)===!1)return;return this._search(e)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++n;return function(r){t===n&&e.__response(r),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return typeof t=="string"?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this._value(this.term),this.menu.blur();return}this.menu[e](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(e,t),t.preventDefault()}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments);if(this.options.disabled||this.cancelSearch)return;e&&e.length?t=this.options.messages.results(e.length):t=this.options.messages.noResults,this.liveRegion.text(t)}})}(jQuery),function(e,t){var n,r,i,s,o="ui-button ui-widget ui-state-default ui-corner-all",u="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},l=function(t){var n=t.name,r=t.form,i=e([]);return n&&(n=n.replace(/'/g,"\\'"),r?i=e(r).find("[name='"+n+"']"):i=e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),i};e.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,u=this.options,a=this.type==="checkbox"||this.type==="radio",c=a?"":"ui-state-active",h="ui-state-focus";u.label===null&&(u.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(u.disabled)return;this===n&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(u.disabled)return;e(this).removeClass(c)}).bind("click"+this.eventNamespace,function(e){u.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(h)}),a&&(this.element.bind("change"+this.eventNamespace,function(){if(s)return;t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){if(u.disabled)return;s=!1,r=e.pageX,i=e.pageY}).bind("mouseup"+this.eventNamespace,function(e){if(u.disabled)return;if(r!==e.pageX||i!==e.pageY)s=!0})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||s)return!1}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||s)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];l(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(u.disabled)return!1;e(this).addClass("ui-state-active"),n=this,t.document.one("mouseup",function(){n=null})}).bind("mouseup"+this.eventNamespace,function(){if(u.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(u.disabled)return!1;(t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",u.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+u+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t);if(e==="disabled"){t?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),this.type==="radio"?l(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var t=this.buttonElement.removeClass(a),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,s=[];r.primary||r.secondary?(this.options.text&&s.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(s.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){e==="disabled"&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){e.datepicker._isDisabledDatepicker(r.inline?t.parent()[0]:r.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))})}function o(t,n){e.extend(t,n);for(var r in n)n[r]==null&&(t[r]=n[r]);return t}e.extend(e.ui,{datepicker:{version:"1.10.3"}});var n="datepicker",r;e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,s;r=t.nodeName.toLowerCase(),i=r==="div"||r==="span",t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),i),s.settings=e.extend({},n||{}),r==="input"?this._connectDatepicker(t,s):i&&this._inlineDatepicker(t,s)},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,r){var i=e(t);r.append=e([]),r.trigger=e([]);if(i.hasClass(this.markerClassName))return;this._attachments(i,r),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(r),e.data(t,n,r),r.settings.disabled&&this._disableDatepicker(t)},_attachments:function(t,n){var r,i,s,o=this._get(n,"appendText"),u=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[u?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),r=this._get(n,"showOn"),(r==="focus"||r==="both")&&t.focus(this._showDatepicker);if(r==="button"||r==="both")i=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:i,title:i}):i)),t[u?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){n=0,r=0;for(i=0;i<e.length;i++)e[i].length>n&&(n=e[i].length,r=i);return r},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,r){var i=e(t);if(i.hasClass(this.markerClassName))return;i.addClass(this.markerClassName).append(r.dpDiv),e.data(t,n,r),this._setDate(r,this._getDefaultDate(r),!0),this._updateDatepicker(r),this._updateAlternate(r),r.settings.disabled&&this._disableDatepicker(t),r.dpDiv.css("display","block")},_dialogDatepicker:function(t,r,i,s,u){var a,f,l,c,h,p=this._dialogInst;return p||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],n,p)),o(p.settings,s||{}),r=r&&r.constructor===Date?this._formatDate(p,r):r,this._dialogInput.val(r),this._pos=u?u.length?u:[u.pageX,u.pageY]:null,this._pos||(f=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[f/2-100+c,l/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],n,p),this},_destroyDatepicker:function(t){var r,i=e(t),s=e.data(t,n);if(!i.hasClass(this.markerClassName))return;r=t.nodeName.toLowerCase(),e.removeData(t,n),r==="input"?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r==="div"||r==="span")&&i.removeClass(this.markerClassName).empty()},_enableDatepicker:function(t){var r,i,s=e(t),o=e.data(t,n);if(!s.hasClass(this.markerClassName))return;r=t.nodeName.toLowerCase();if(r==="input")t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(r==="div"||r==="span")i=s.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1);this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e})},_disableDatepicker:function(t){var r,i,s=e(t),o=e.data(t,n);if(!s.hasClass(this.markerClassName))return;r=t.nodeName.toLowerCase();if(r==="input")t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(r==="div"||r==="span")i=s.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0);this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,n)}catch(r){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,r,i){var s,u,a,f,l=this._getInst(n);if(arguments.length===2&&typeof r=="string")return r==="defaults"?e.extend({},e.datepicker._defaults):l?r==="all"?e.extend({},l.settings):this._get(l,r):null;s=r||{},typeof r=="string"&&(s={},s[r]=i),l&&(this._curInst===l&&this._hideDatepicker(),u=this._getDateDatepicker(n,!0),a=this._getMinMaxDate(l,"min"),f=this._getMinMaxDate(l,"max"),o(l.settings,s),a!==null&&s.dateFormat!==t&&s.minDate===t&&(l.settings.minDate=this._formatDate(l,a)),f!==null&&s.dateFormat!==t&&s.maxDate===t&&(l.settings.maxDate=this._formatDate(l,f)),"disabled"in s&&(s.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(e(n),l),this._autoSize(l),this._setDate(l,u),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,s=e.datepicker._getInst(t.target),o=!0,u=s.dpDiv.is(".ui-datepicker-rtl");s._keyEvent=!0;if(e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),i[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),n=e.datepicker._get(s,"onSelect"),n?(r=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[r,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else t.keyCode===36&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);if(e.datepicker._get(i,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!n||n.indexOf(r)>-1},_doKeyUp:function(t){var n,r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r)),n&&(e.datepicker._setDateFromField(r),e.datepicker._updateAlternate(r),e.datepicker._updateDatepicker(r))}catch(i){}return!0},_showDatepicker:function(t){t=t.target||t,t.nodeName.toLowerCase()!=="input"&&(t=e("input",t.parentNode)[0]);if(e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)return;var n,r,i,s,u,a,f;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(n,"beforeShow"),i=r?r.apply(t,[t,n]):{};if(i===!1)return;o(n.settings,i),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each(function(){return s|=e(this).css("position")==="fixed",!s}),u={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),u=e.datepicker._checkOffset(n,u,s),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),n.inline||(a=e.datepicker._get(n,"showAnim"),f=e.datepicker._get(n,"duration"),n.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[a]?n.dpDiv.show(a,e.datepicker._get(n,"showOptions"),f):n.dpDiv[a||"show"](a?f:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n)},_updateDatepicker:function(t){this.maxRows=4,r=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,i=this._getNumberOfMonths(t),s=i[1],o=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",o*s+"em"),t.dpDiv[(i[0]!==1||i[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,u=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),f=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-o:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+u?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>a&&a>i?Math.abs(n.left+i-a):0),n.top-=Math.min(n.top,n.top+s>f&&f>s?Math.abs(s+u):0),n},_findPos:function(t){var n,r=this._getInst(t),i=this._get(r,"isRTL");while(t&&(t.type==="hidden"||t.nodeType!==1||e.expr.filters.hidden(t)))t=t[i?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var r,i,s,o,u=this._curInst;if(!u||t&&u!==e.data(t,n))return;this._datepickerShowing&&(r=this._get(u,"showAnim"),i=this._get(u,"duration"),s=function(){e.datepicker._tidyDialog(u)},e.effects&&(e.effects.effect[r]||e.effects[r])?u.dpDiv.hide(r,e.datepicker._get(u,"showOptions"),i,s):u.dpDiv[r==="slideDown"?"slideUp":r==="fadeIn"?"fadeOut":"hide"](r?i:null,s),r||s(),this._datepickerShowing=!1,o=this._get(u,"onClose"),o&&o.apply(u.input?u.input[0]:null,[u.input?u.input.val():"",u]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(!e.datepicker._curInst)return;var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&n.parents("#"+e.datepicker._mainDivId).length===0&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==r)&&e.datepicker._hideDatepicker()},_adjustDate:function(t,n,r){var i=e(t),s=this._getInst(i[0]);if(this._isDisabledDatepicker(i[0]))return;this._adjustInstDate(s,n+(r==="M"?this._get(s,"showCurrentAtPos"):0),r),this._updateDatepicker(s)},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),s=this._getInst(i[0]);s["selected"+(r==="M"?"Month":"Year")]=s["draw"+(r==="M"?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(i)},_selectDay:function(t,n,r,i){var s,o=e(t);if(e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0]))return;s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",i).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=r,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),s=this._getInst(i[0]);n=n!=null?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),r=this._get(s,"onSelect"),r?r.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],typeof s.input[0]!="object"&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(s).each(function(){e(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(t==null||n==null)throw"Invalid arguments";n=typeof n=="object"?n.toString():n+"";if(n==="")return null;var i,s,o,u=0,a=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,f=typeof a!="string"?a:(new Date).getFullYear()%100+parseInt(a,10),l=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,c=(r?r.dayNames:null)||this._defaults.dayNames,h=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,p=(r?r.monthNames:null)||this._defaults.monthNames,d=-1,v=-1,m=-1,g=-1,y=!1,b,w=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},E=function(e){var t=w(e),r=e==="@"?14:e==="!"?20:e==="y"&&t?4:e==="o"?3:2,i=new RegExp("^\\d{1,"+r+"}"),s=n.substring(u).match(i);if(!s)throw"Missing number at position "+u;return u+=s[0].length,parseInt(s[0],10)},S=function(t,r,i){var s=-1,o=e.map(w(t)?i:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});e.each(o,function(e,t){var r=t[1];if(n.substr(u,r.length).toLowerCase()===r.toLowerCase())return s=t[0],u+=r.length,!1});if(s!==-1)return s+1;throw"Unknown name at position "+u},x=function(){if(n.charAt(u)!==t.charAt(i))throw"Unexpected literal at position "+u;u++};for(i=0;i<t.length;i++)if(y)t.charAt(i)==="'"&&!w("'")?y=!1:x();else switch(t.charAt(i)){case"d":m=E("d");break;case"D":S("D",l,c);break;case"o":g=E("o");break;case"m":v=E("m");break;case"M":v=S("M",h,p);break;case"y":d=E("y");break;case"@":b=new Date(E("@")),d=b.getFullYear(),v=b.getMonth()+1,m=b.getDate();break;case"!":b=new Date((E("!")-this._ticksTo1970)/1e4),d=b.getFullYear(),v=b.getMonth()+1,m=b.getDate();break;case"'":w("'")?x():y=!0;break;default:x()}if(u<n.length){o=n.substr(u);if(!/^\s+/.test(o))throw"Extra/unparsed characters found in date: "+o}d===-1?d=(new Date).getFullYear():d<100&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=f?0:-100));if(g>-1){v=1,m=g;do{s=this._getDaysInMonth(d,v-1);if(m<=s)break;v++,m-=s}while(!0)}b=this._daylightSavingAdjust(new Date(d,v-1,m));if(b.getFullYear()!==d||b.getMonth()+1!==v||b.getDate()!==m)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},f=function(e,t,n){var r=""+t;if(a(e))while(r.length<n)r="0"+r;return r},l=function(e,t,n,r){return a(e)?r[t]:n[t]},c="",h=!1;if(t)for(r=0;r<e.length;r++)if(h)e.charAt(r)==="'"&&!a("'")?h=!1:c+=e.charAt(r);else switch(e.charAt(r)){case"d":c+=f("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),i,s);break;case"o":c+=f("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":c+=f("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),o,u);break;case"y":c+=a("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=t.getTime()*1e4+this._ticksTo1970;break;case"'":a("'")?c+="'":h=!0;break;default:c+=e.charAt(r)}return c},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=t+1<e.length&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;t<e.length;t++)if(r)e.charAt(t)==="'"&&!i("'")?r=!1:n+=e.charAt(t);else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,n){return e.settings[n]!==t?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,t){if(e.input.val()===e.lastVal)return;var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),s=i,o=this._getFormatConfig(e);try{s=this.parseDate(n,r,o)||i}catch(u){r=t?"":r}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=r?s.getDate():0,e.currentMonth=r?s.getMonth():0,e.currentYear=r?s.getFullYear():0,this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(r){}var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),o=i.getMonth(),u=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=a.exec(n);while(f){switch(f[2]||"d"){case"d":case"D":u+=parseInt(f[1],10);break;case"w":case"W":u+=parseInt(f[1],10)*7;break;case"m":case"M":o+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o))}f=a.exec(n)}return new Date(s,o,u)},o=n==null||n===""?r:typeof n=="string"?s(n):typeof n=="number"?isNaN(n)?r:i(n):new Date(n.getTime());return o=o&&o.toString()==="Invalid Date"?r:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(i!==e.selectedMonth||s!==e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=new Date,R=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),U=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),X=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),K=V[0]!==1||V[1]!==1,Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),Y=this._getMinMaxDate(e,"max"),Z=e.drawMonth-$,et=e.drawYear;Z<0&&(Z+=12,et--);if(Y){t=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-V[0]*V[1]+1,Y.getDate())),t=G&&t<G?G:t;while(this._daylightSavingAdjust(new Date(et,Z,1))>t)Z--,Z<0&&(Z=11,et--)}e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=X?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=X?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>",o=this._get(e,"currentText"),u=this._get(e,"gotoCurrent")&&e.currentDay?Q:R,o=X?this.formatDate(o,u,this._getFormatConfig(e)):o,a=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",f=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?a:"")+(this._isInRange(e,u)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(U?"":a)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),d=this._get(e,"monthNames"),v=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",E;for(S=0;S<V[0];S++){x="",this.maxRows=4;for(T=0;T<V[1];T++){N=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),C=" ui-corner-all",k="";if(K){k+="<div class='ui-datepicker-group";if(V[1]>1)switch(T){case 0:k+=" ui-datepicker-group-first",C=" ui-corner-"+(U?"right":"left");break;case V[1]-1:k+=" ui-datepicker-group-last",C=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle",C=""}k+="'>"}k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&S===0?U?s:r:"")+(/all|right/.test(C)&&S===0?U?r:s:"")+this._generateMonthYearHeader(e,Z,et,G,Y,S>0||T>0,d,v)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",L=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"";for(E=0;E<7;E++)A=(E+l)%7,L+="<th"+((E+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>";k+=L+"</tr></thead><tbody>",O=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),M=(this._getFirstDayOfMonth(et,Z)-l+7)%7,_=Math.ceil((M+O)/7),D=K?this.maxRows>_?this.maxRows:_:_,this.maxRows=D,P=this._daylightSavingAdjust(new Date(et,Z,1-M));for(H=0;H<D;H++){k+="<tr>",B=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"";for(E=0;E<7;E++)j=m?m.apply(e.input?e.input[0]:null,[P]):[!0,""],F=P.getMonth()!==Z,I=F&&!y||!j[0]||G&&P<G||Y&&P>Y,B+="<td class='"+((E+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===N.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===N.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+j[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+((!F||g)&&j[2]?" title='"+j[2].replace(/'/g,"&#39;")+"'":"")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":I?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);k+=B+"</tr>"}Z++,Z>11&&(Z=0,et++),k+="</tbody></table>"+(K?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=k}w+=x}return w+=f,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{a=r&&r.getFullYear()===n,f=i&&i.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(l=0;l<12;l++)(!a||l>=r.getMonth())&&(!f||l<=i.getMonth())&&(w+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+u[l]+"</option>");w+="</select>"}y||(b+=w+(s||!m||!g?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(s||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},d=p(c[0]),v=Math.max(d,p(c[1]||"")),d=r?Math.max(d,r.getFullYear()):d,v=i?Math.min(v,i.getFullYear()):v,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;d<=v;d++)e.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}}return b+=this._get(e,"yearSuffix"),y&&(b+=(s||!m||!g?"&#xa0;":"")+w),b+="</div>",b},_adjustInstDate:function(e,t,n){var r=e.drawYear+(n==="Y"?t:0),i=e.drawMonth+(n==="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n==="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(n==="M"||n==="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,u=null,a=this._get(e,"yearRange");return a&&(n=a.split(":"),r=(new Date).getFullYear(),o=parseInt(n[0],10),u=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=r),n[1].match(/[+\-].*/)&&(u+=r)),(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!u||t.getFullYear()<=u)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),e("#"+e.datepicker._mainDivId).length===0&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return typeof t!="string"||t!=="isDisabled"&&t!=="getDate"&&t!=="widget"?t==="option"&&arguments.length===2&&typeof arguments[1]=="string"?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){typeof t=="string"?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.3"}(jQuery),function(e,t){var n={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;if(!this._isOpen||this._trigger("beforeClose",t)===!1)return;this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return n&&!t&&this._trigger("focus",e),n},open:function(){var t=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open")},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE){t.preventDefault(),this.close(t);return}if(t.keyCode!==e.ui.keyCode.TAB)return;var n=this.uiDialog.find(":tabbable"),r=n.filter(":first"),i=n.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||!!t.shiftKey?(t.target===r[0]||t.target===this.uiDialog[0])&&t.shiftKey&&(i.focus(1),t.preventDefault()):(r.focus(1),t.preventDefault())},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty();if(e.isEmptyObject(n)||e.isArray(n)&&!n.length){this.uiDialog.removeClass("ui-dialog-buttons");return}e.each(n,function(n,r){var i,s;r=e.isFunction(r)?{click:r,text:n}:r,r=e.extend({type:"button"},r),i=r.click,r.click=function(){i.apply(t.element[0],arguments)},s={icons:r.icons,text:r.showText},delete r.icons,delete r.showText,e("<button></button>",r).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function r(e){return{position:e.position,offset:e.offset}}var t=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,i){e(this).addClass("ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",n,r(i))},drag:function(e,n){t._trigger("drag",e,r(n))},stop:function(i,s){n.position=[s.position.left-t.document.scrollLeft(),s.position.top-t.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",i,r(s))}})},_makeResizable:function(){function o(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var t=this,n=this.options,r=n.resizable,i=this.uiDialog.css("position"),s=typeof r=="string"?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,r){e(this).addClass("ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",n,o(r))},resize:function(e,n){t._trigger("resize",e,o(n))},stop:function(r,i){n.height=e(this).height(),n.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",r,o(i))}}).css("position",i)},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,o={};e.each(t,function(e,t){i._setOption(e,t),e in n&&(s=!0),e in r&&(o[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,t){var n,r,i=this.uiDialog;e==="dialogClass"&&i.removeClass(this.options.dialogClass).addClass(t);if(e==="disabled")return;this._super(e,t),e==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),e==="buttons"&&this._createButtons(),e==="closeText"&&this.uiDialogTitlebarClose.button({label:""+t}),e==="draggable"&&(n=i.is(":data(ui-draggable)"),n&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),e==="position"&&this._position(),e==="resizable"&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&typeof t=="string"&&i.resizable("option","handles",t),!r&&t!==!1&&this._makeResizable()),e==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),n=typeof r.maxHeight=="number"?Math.max(0,r.maxHeight-e):"none",r.height==="auto"?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal)return;var t=this,n=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(r){t._allowInteraction(r)||(r.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(n)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++},_destroyOverlay:function(){if(!this.options.modal)return;this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t=this.options.position,n=[],r=[0,0],i;if(t){if(typeof t=="string"||typeof t=="object"&&"0"in t)n=t.split?t.split(" "):[t[0],t[1]],n.length===1&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(r[e]=n[e],n[e]=t)}),t={my:n[0]+(r[0]<0?r[0]:"+"+r[0])+" "+n[1]+(r[1]<0?r[1]:"+"+r[1]),at:n.join(" ")};t=e.extend({},e.ui.dialog.prototype.options.position,t)}else t=e.ui.dialog.prototype.options.position;i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.position(t),i||this.uiDialog.hide()}})}(jQuery),function(e,t){var n=/up|down|vertical/,r=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,i){var s=e(this),o=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(s,t.mode||"hide"),a=t.direction||"up",f=n.test(a),l=f?"height":"width",c=f?"top":"left",h=r.test(a),p={},d=u==="show",v,m,g;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),o):e.effects.save(s,o),s.show(),v=e.effects.createWrapper(s).css({overflow:"hidden"}),m=v[l](),g=parseFloat(v.css(c))||0,p[l]=d?m:0,h||(s.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),p[c]=d?g:m+g),d&&(v.css(l,0),h||v.css(c,g+m)),v.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){u==="hide"&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e,t){e.effects.effect.bounce=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=s==="hide",u=s==="show",a=t.direction||"up",f=t.distance,l=t.times||5,c=l*2+(u||o?1:0),h=t.duration/c,p=t.easing,d=a==="up"||a==="down"?"top":"left",v=a==="up"||a==="left",m,g,y,b=r.queue(),w=b.length;(u||o)&&i.push("opacity"),e.effects.save(r,i),r.show(),e.effects.createWrapper(r),f||(f=r[d==="top"?"outerHeight":"outerWidth"]()/3),u&&(y={opacity:1},y[d]=0,r.css("opacity",0).css(d,v?-f*2:f*2).animate(y,h,p)),o&&(f/=Math.pow(2,l-1)),y={},y[d]=0;for(m=0;m<l;m++)g={},g[d]=(v?"-=":"+=")+f,r.animate(g,h,p).animate(y,h,p),f=o?f*2:f/2;o&&(g={opacity:0},g[d]=(v?"-=":"+=")+f,r.animate(g,h,p)),r.queue(function(){o&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,c+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.clip=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=t.direction||"vertical",a=u==="vertical",f=a?"height":"width",l=a?"top":"left",c={},h,p,d;e.effects.save(r,i),r.show(),h=e.effects.createWrapper(r).css({overflow:"hidden"}),p=r[0].tagName==="IMG"?h:r,d=p[f](),o&&(p.css(f,0),p.css(l,d/2)),c[f]=o?d:0,c[l]=o?0:d/2,p.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o||r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e,t){e.effects.effect.drop=function(t,n){var r=e(this),i=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left"?"pos":"neg",l={opacity:o?1:0},c;e.effects.save(r,i),r.show(),e.effects.createWrapper(r),c=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0)/2,o&&r.css("opacity",0).css(a,f==="pos"?-c:c),l[a]=(o?f==="pos"?"+=":"-=":f==="pos"?"-=":"+=")+c,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e,t){e.effects.effect.explode=function(t,n){function y(){c.push(this),c.length===r*i&&b()}function b(){s.css({visibility:"visible"}),e(c).remove(),u||s.hide(),n()}var r=t.pieces?Math.round(Math.sqrt(t.pieces)):3,i=r,s=e(this),o=e.effects.setMode(s,t.mode||"hide"),u=o==="show",a=s.show().css("visibility","hidden").offset(),f=Math.ceil(s.outerWidth()/i),l=Math.ceil(s.outerHeight()/r),c=[],h,p,d,v,m,g;for(h=0;h<r;h++){v=a.top+h*l,g=h-(r-1)/2;for(p=0;p<i;p++)d=a.left+p*f,m=p-(i-1)/2,s.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-p*f,top:-h*l}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:l,left:d+(u?m*f:0),top:v+(u?g*l:0),opacity:u?0:1}).animate({left:d+(u?0:m*f),top:v+(u?0:g*l),opacity:u?1:0},t.duration||500,t.easing,y)}}}(jQuery),function(e,t){e.effects.effect.fade=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}}(jQuery),function(e,t){e.effects.effect.fold=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=s==="hide",a=t.size||15,f=/([0-9]+)%/.exec(a),l=!!t.horizFirst,c=o!==l,h=c?["width","height"]:["height","width"],p=t.duration/2,d,v,m={},g={};e.effects.save(r,i),r.show(),d=e.effects.createWrapper(r).css({overflow:"hidden"}),v=c?[d.width(),d.height()]:[d.height(),d.width()],f&&(a=parseInt(f[1],10)/100*v[u?0:1]),o&&d.css(l?{height:0,width:a}:{height:a,width:0}),m[h[0]]=o?v[0]:a,g[h[1]]=o?v[1]:0,d.animate(m,p,t.easing).animate(g,p,t.easing,function(){u&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()})}}(jQuery),function(e,t){e.effects.effect.highlight=function(t,n){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(r,t.mode||"show"),o={backgroundColor:r.css("backgroundColor")};s==="hide"&&(o.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),n()}})}}(jQuery),function(e,t){e.effects.effect.pulsate=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"show"),s=i==="show",o=i==="hide",u=s||i==="hide",a=(t.times||5)*2+(u?1:0),f=t.duration/a,l=0,c=r.queue(),h=c.length,p;if(s||!r.is(":visible"))r.css("opacity",0).show(),l=1;for(p=1;p<a;p++)r.animate({opacity:l},f,t.easing),l=1-l;r.animate({opacity:l},f,t.easing),r.queue(function(){o&&r.hide(),n()}),h>1&&c.splice.apply(c,[1,0].concat(c.splice(h,a+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.puff=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),s=i==="hide",o=parseInt(t.percent,10)||150,u=o/100,a={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:n,percent:s?o:100,from:s?a:{height:a.height*u,width:a.width*u,outerHeight:a.outerHeight*u,outerWidth:a.outerWidth*u}}),r.effect(t)},e.effects.effect.scale=function(t,n){var r=e(this),i=e.extend(!0,{},t),s=e.effects.setMode(r,t.mode||"effect"),o=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:s==="hide"?0:100),u=t.direction||"both",a=t.origin,f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},l={y:u!=="horizontal"?o/100:1,x:u!=="vertical"?o/100:1};i.effect="size",i.queue=!1,i.complete=n,s!=="effect"&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||(s==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:f),i.to={height:f.height*l.y,width:f.width*l.x,outerHeight:f.outerHeight*l.y,outerWidth:f.outerWidth*l.x},i.fade&&(s==="show"&&(i.from.opacity=0,i.to.opacity=1),s==="hide"&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.size=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),d=t.restore||p!=="effect",v=t.scale||"both",m=t.origin||["middle","center"],g=o.css("position"),y=d?u:a,b={height:0,width:0,outerHeight:0,outerWidth:0};p==="show"&&o.show(),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},t.mode==="toggle"&&p==="show"?(o.from=t.to||b,o.to=t.from||r):(o.from=t.from||(p==="show"?b:r),o.to=t.to||(p==="hide"?b:r)),s={from:{y:o.from.height/r.height,x:o.from.width/r.width},to:{y:o.to.height/r.height,x:o.to.width/r.width}};if(v==="box"||v==="both")s.from.y!==s.to.y&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,s.from.y,o.from),o.to=e.effects.setTransition(o,c,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to));(v==="content"||v==="both")&&s.from.y!==s.to.y&&(y=y.concat(l).concat(f),o.from=e.effects.setTransition(o,l,s.from.y,o.from),o.to=e.effects.setTransition(o,l,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(i=e.effects.getBaseline(m,r),o.from.top=(r.outerHeight-o.outerHeight())*i.y,o.from.left=(r.outerWidth-o.outerWidth())*i.x,o.to.top=(r.outerHeight-o.to.outerHeight)*i.y,o.to.left=(r.outerWidth-o.to.outerWidth)*i.x),o.css(o.from);if(v==="content"||v==="both")c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),f=u.concat(c).concat(h),o.find("*[width]").each(function(){var n=e(this),r={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};d&&e.effects.save(n,f),n.from={height:r.height*s.from.y,width:r.width*s.from.x,outerHeight:r.outerHeight*s.from.y,outerWidth:r.outerWidth*s.from.x},n.to={height:r.height*s.to.y,width:r.width*s.to.x,outerHeight:r.height*s.to.y,outerWidth:r.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,c,s.from.y,n.from),n.to=e.effects.setTransition(n,c,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){d&&e.effects.restore(n,f)})});o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o.to.opacity===0&&o.css("opacity",o.from.opacity),p==="hide"&&o.hide(),e.effects.restore(o,y),d||(g==="static"?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,n){var r=parseInt(n,10),i=e?o.to.left:o.to.top;return n==="auto"?i+"px":r+i+"px"})})),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e,t){e.effects.effect.shake=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=t.direction||"left",u=t.distance||20,a=t.times||3,f=a*2+1,l=Math.round(t.duration/f),c=o==="up"||o==="down"?"top":"left",h=o==="up"||o==="left",p={},d={},v={},m,g=r.queue(),y=g.length;e.effects.save(r,i),r.show(),e.effects.createWrapper(r),p[c]=(h?"-=":"+=")+u,d[c]=(h?"+=":"-=")+u*2,v[c]=(h?"-=":"+=")+u*2,r.animate(p,l,t.easing);for(m=1;m<a;m++)r.animate(d,l,t.easing).animate(v,l,t.easing);r.animate(d,l,t.easing).animate(p,l/2,t.easing).queue(function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}),y>1&&g.splice.apply(g,[1,0].concat(g.splice(y,f+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.slide=function(t,n){var r=e(this),i=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(r,t.mode||"show"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left",l,c={};e.effects.save(r,i),r.show(),l=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),o&&r.css(a,f?isNaN(l)?"-"+l:-l:l),c[a]=(o?f?"+=":"-=":f?"-=":"+=")+l,r.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e,t){e.effects.effect.transfer=function(t,n){var r=e(this),i=e(t.to),s=i.css("position")==="fixed",o=e("body"),u=s?o.scrollTop():0,a=s?o.scrollLeft():0,f=i.offset(),l={top:f.top-u,left:f.left-a,height:i.innerHeight(),width:i.innerWidth()},c=r.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:c.top-u,left:c.left-a,height:r.innerHeight(),width:r.innerWidth(),position:s?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),n()})}}(jQuery),function(e,t){e.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var n=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),n.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,i,s,o,u=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:u=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),i===r?s=!0:i=r+i,o=new RegExp("^"+a(i),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())}),n=s&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n,n.length||(i=String.fromCharCode(t.keyCode),o=new RegExp("^"+a(i),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}u&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,r=this.element.find(this.options.menus);r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),r=t.prev("a"),i=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);r.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",r.attr("id"))}),t=r.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){e==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&e.type==="focus"),this._scrollIntoView(t),this.active=t.first(),r=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&e.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,s,o,u;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),u=t.height(),i<0?this.activeMenu.scrollTop(s+i):i+u>o&&this.activeMenu.scrollTop(s+i-o+u))},blur:function(e,t){t||clearTimeout(this.timer);if(!this.active)return;this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active})},_startOpening:function(e){clearTimeout(this.timer);if(e.attr("aria-hidden")!=="true")return;this.timer=this._delay(function(){this._close(),this._open(e)},this.delay)},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(e==="first"||e==="last"?r=this.active[e==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):r=this.active[e+"All"](".ui-menu-item").eq(0));if(!r||!r.length||!this.active)r=this.activeMenu.children(".ui-menu-item")[t]();this.focus(n,r)},nextPage:function(t){var n,r,i;if(!this.active){this.next(t);return}if(this.isLastItem())return;this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-r-i<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(t){var n,r,i;if(!this.active){this.next(t);return}if(this.isFirstItem())return;this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-r+i>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(e,t){function h(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}function d(t){var n=t[0];return n.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,l=/%$/,c=e.fn.position;e.position={scrollbarWidth:function(){if(n!==t)return n;var r,i,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),r=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,r===i&&(i=s[0].clientWidth),s.remove(),n=r-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var n,l,v,m,g,y,b=e(t.of),w=e.position.getWithinInfo(t.within),E=e.position.getScrollInfo(w),S=(t.collision||"flip").split(" "),x={};return y=d(b),b[0].preventDefault&&(t.at="left top"),l=y.width,v=y.height,m=y.offset,g=e.extend({},m),e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;e.length===1&&(e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=o.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",n=a.exec(e[0]),r=a.exec(e[1]),x[this]=[n?n[0]:0,r?r[0]:0],t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]}),S.length===1&&(S[1]=S[0]),t.at[0]==="right"?g.left+=l:t.at[0]==="center"&&(g.left+=l/2),t.at[1]==="bottom"?g.top+=v:t.at[1]==="center"&&(g.top+=v/2),n=h(x.at,l,v),g.left+=n[0],g.top+=n[1],this.each(function(){var o,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),d=p(this,"marginLeft"),y=p(this,"marginTop"),T=f+d+p(this,"marginRight")+E.width,N=c+y+p(this,"marginBottom")+E.height,C=e.extend({},g),k=h(x.my,a.outerWidth(),a.outerHeight());t.my[0]==="right"?C.left-=f:t.my[0]==="center"&&(C.left-=f/2),t.my[1]==="bottom"?C.top-=c:t.my[1]==="center"&&(C.top-=c/2),C.left+=k[0],C.top+=k[1],e.support.offsetFractions||(C.left=s(C.left),C.top=s(C.top)),o={marginLeft:d,marginTop:y},e.each(["left","top"],function(r,i){e.ui.position[S[r]]&&e.ui.position[S[r]][i](C,{targetWidth:l,targetHeight:v,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:w,elem:a})}),t.using&&(u=function(e){var n=m.left-C.left,s=n+l-f,o=m.top-C.top,u=o+v-c,h={target:{element:b,left:m.left,top:m.top,width:l,height:v},element:{element:a,left:C.left,top:C.top,width:f,height:c},horizontal:s<0?"left":n>0?"right":"center",vertical:u<0?"top":o>0?"bottom":"middle"};l<f&&i(n+s)<l&&(h.horizontal="center"),v<c&&i(o+u)<v&&(h.vertical="middle"),r(i(n),i(s))>r(i(o),i(u))?h.important="horizontal":h.important="vertical",t.using.call(this,e,h)}),a.offset(e.extend(C,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;t.collisionWidth>s?u>0&&a<=0?(f=e.left+u+t.collisionWidth-s-i,e.left+=u-f):a>0&&u<=0?e.left=i:u>a?e.left=i+s-t.collisionWidth:e.left=i:u>0?e.left+=u:a>0?e.left-=a:e.left=r(e.left-o,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;t.collisionHeight>s?u>0&&a<=0?(f=e.top+u+t.collisionHeight-s-i,e.top+=u-f):a>0&&u<=0?e.top=i:u>a?e.top=i+s-t.collisionHeight:e.top=i:u>0?e.top+=u:a>0?e.top-=a:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-r;if(p<0||p<i(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||i(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;a<0?(v=e.top+c+h+p+t.collisionHeight-s-r,e.top+c+h+p>a&&(v<0||v<i(a))&&(e.top+=c+h+p)):f>0&&(d=e.top-t.collisionPosition.marginTop+c+h+p-o,e.top+c+h+p>f&&(d>0||i(d)<f)&&(e.top+=c+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u),n=o||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",i=e(u).offset().left,e.support.offsetFractions=i>10&&i<11,t.innerHTML="",n.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===t)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,typeof e!="number"&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){e==="max"&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(e,t){var n=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n));for(t=i.length;t<n;t++)o.push(s);this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&t.values.length!==2?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"):this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}),this.range.addClass(n+(t.range==="min"||t.range==="max"?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,s,o,u,a,f,l=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-l.values(t));if(i>n||i===n&&(t===l._lastChangedValue||l.values(t)===c.min))i=n,s=e(this),o=t}),u=this._start(t,o),u===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),a=s.offset(),f=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;return this.orientation==="horizontal"?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),r<0&&(r=0),this.orientation==="vertical"&&(r=1-r),i=this._valueMax()-this._valueMin(),s=this._valueMin()+r*i,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,s;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&n>r||t===1&&n<r)&&(n=r),n!==this.values(t)&&(i=this.values(),i[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),s!==!1&&this.values(t,n,!0))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(t,n){var r,i,s;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t);return}if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();r=this.options.values,i=arguments[0];for(s=0;s<r.length;s+=1)r[s]=this._trimAlignValue(i[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var r,i=0;t==="range"&&this.options.range===!0&&(n==="min"?(this.options.value=this._values(0),this.options.values=null):n==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments);switch(t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(r=0;r<i;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e),e},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t),t;if(this.options.values&&this.options.values.length){n=this.options.values.slice();for(r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return Math.abs(n)*2>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,r,i,s,o=this.options.range,u=this.options,a=this,f=this._animateOff?!1:u.animate,l={};this.options.values&&this.options.values.length?this.handles.each(function(r){n=(a.values(r)-a._valueMin())/(a._valueMax()-a._valueMin())*100,l[a.orientation==="horizontal"?"left":"bottom"]=n+"%",e(this).stop(1,1)[f?"animate":"css"](l,u.animate),a.options.range===!0&&(a.orientation==="horizontal"?(r===0&&a.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},u.animate),r===1&&a.range[f?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:u.animate})):(r===0&&a.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},u.animate),r===1&&a.range[f?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:u.animate}))),t=n}):(r=this.value(),i=this._valueMin(),s=this._valueMax(),n=s!==i?(r-i)/(s-i)*100:0,l[this.orientation==="horizontal"?"left":"bottom"]=n+"%",this.handle.stop(1,1)[f?"animate":"css"](l,u.animate),o==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},u.animate),o==="max"&&this.orientation==="horizontal"&&this.range[f?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:u.animate}),o==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},u.animate),o==="max"&&this.orientation==="vertical"&&this.range[f?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:u.animate}))},_handleEvents:{keydown:function(t){var r,i,s,o,u=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:t.preventDefault();if(!this._keySliding){this._keySliding=!0,e(t.target).addClass("ui-state-active"),r=this._start(t,u);if(r===!1)return}}o=this.options.step,this.options.values&&this.options.values.length?i=s=this.values(u):i=s=this.value();switch(t.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/n);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/n);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;s=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;s=this._trimAlignValue(i-o)}this._slide(t,u,s)},click:function(e){e.preventDefault()},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,r){var i=n.attr(r);i!==undefined&&i.length&&(t[r]=i)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,t){if(!t)return;if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()},"mousedown .ui-spinner-button":function(t){function r(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,r.call(this)});if(this._start(t)===!1)return;this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(!e(t.currentTarget).hasClass("ui-state-active"))return;if(this._start(t)===!1)return!1;this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(e.height()*.5)&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return!this.spinning&&this._trigger("start",e)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter));if(!this.spinning||this._trigger("spin",t,{value:n})!==!1)this._value(n),this.counter++},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return n===-1?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return t=r.min!==null?r.min:0,n=e-t,n=Math.round(n/r.step)*r.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),r.max!==null&&e>r.max?r.max:r.min!==null&&e<r.min?r.min:e},_stop:function(e){if(!this.spinning)return;clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e)},_setOption:function(e,t){if(e==="culture"||e==="numberFormat"){var n=this._parse(this.element.val());this.options[e]=t,this.element.val(this._format(n));return}(e==="max"||e==="min"||e==="step")&&typeof t=="string"&&(t=this._parse(t)),e==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),e==="disabled"&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return typeof e=="string"&&e!==""&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),e===""||isNaN(e)?null:e},_format:function(e){return e===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var n;e!==""&&(n=this._parse(e),n!==null&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function i(){return++n}function s(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(r,""))===decodeURIComponent(location.href.replace(r,""))}var n=0,r=/#.*$/;e.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(n.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);if(t===null){r&&this.tabs.each(function(n,i){if(e(i).attr("aria-controls")===r)return t=n,!1}),t===null&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active")));if(t===null||t===-1)t=this.tabs.length?0:!1}return t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=n?!1:0)),!n&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(this._handlePageNav(t))return;switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:t.preventDefault(),clearTimeout(this.activating),this._activate(r);return;case e.ui.keyCode.ENTER:t.preventDefault(),clearTimeout(this.activating),this._activate(r===this.options.active?!1:r);return;default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))},_panelKeydown:function(t){if(this._handlePageNav(t))return;t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(t,n){function i(){return t>r&&(t=0),t<0&&(t=r),t}var r=this.tabs.length-1;while(e.inArray(i(),this.options.disabled)!==-1)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){if(e==="active"){this._activate(t);return}if(e==="disabled"){this._setupDisabled(t);return}this._super(e,t),e==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",t),!t&&this.options.active===!1&&this._activate(0)),e==="event"&&this._setupEvents(t),e==="heightStyle"&&this._setupHeightStyle(t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active===!1||!this.anchors.length?(t.active=!1,this.active=e()):this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,r){var i,o,u,a=e(r).uniqueId().attr("id"),f=e(r).closest("li"),l=f.attr("aria-controls");s(r)?(i=r.hash,o=t.element.find(t._sanitizeSelector(i))):(u=t._tabId(f),i="#"+u,o=t.element.find(i),o.length||(o=t._createPanel(u),o.insertAfter(t.panels[n-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),l&&f.data("ui-tabs-aria-controls",l),f.attr({"aria-controls":i.substring(1),"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n=0,r;r=this.tabs[n];n++)t===!0||e.inArray(n,t)!==-1?e(r).addClass("ui-state-disabled").attr("aria-disabled","true"):e(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();t==="fill"?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");if(r==="absolute"||r==="fixed")return;n-=t.outerHeight(!0)}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):t==="auto"&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i.closest("li"),o=s[0]===r[0],u=o&&n.collapsible,a=u?e():this._getPanelForTab(s),f=r.length?this._getPanelForTab(r):e(),l={oldTab:r,oldPanel:f,newTab:u?e():s,newPanel:a};t.preventDefault();if(s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||this._trigger("beforeActivate",t,l)===!1)return;n.active=u?!1:this.tabs.index(s),this.active=o?e():s,this.xhr&&this.xhr.abort(),!f.length&&!a.length&&e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,l)},_toggle:function(t,n){function o(){r.running=!1,r._trigger("activate",t,n)}function u(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&r.options.show?r._show(i,r.options.show,o):(i.show(),o())}var r=this,i=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),u()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),u()),s.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),i.length&&s.length?n.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);if(r[0]===this.active[0])return;r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return typeof e=="string"&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(n){var r=this.options.disabled;if(r===!1)return;n===t?r=!1:(n=this._getIndex(n),e.isArray(r)?r=e.map(r,function(e){return e!==n?e:null}):r=e.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(r)},disable:function(n){var r=this.options.disabled;if(r===!0)return;if(n===t)r=!0;else{n=this._getIndex(n);if(e.inArray(n,r)!==-1)return;e.isArray(r)?r=e.merge([n],r).sort():r=[n]}this._setupDisabled(r)},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),o=i.find(".ui-tabs-anchor"),u=this._getPanelForTab(i),a={tab:i,panel:u};if(s(o[0]))return;this.xhr=e.ajax(this._ajaxSettings(o,n,a)),this.xhr&&this.xhr.statusText!=="canceled"&&(i.addClass("ui-tabs-loading"),u.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){u.html(e),r._trigger("load",n,a)},1)}).complete(function(e,t){setTimeout(function(){t==="abort"&&r.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),u.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)}))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,s){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:s},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}})}(jQuery),function(e){function n(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))}function r(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(n,r);i!==-1&&r.splice(i,1),t.removeData("ui-tooltip-id"),r=e.trim(r.join(" ")),r?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")}var t=0;e.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,n){var r=this;if(t==="disabled"){this[n?"_disable":"_enable"](),this.options[t]=n;return}this._super(t,n),t==="content"&&e.each(this.tooltips,function(e,t){r._updateContent(t)})},_disable:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r[0],t.close(i,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);if(!r.length||r.data("ui-tooltip-id"))return;r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&t.type==="mouseover"&&r.parents().each(function(){var t=e(this),r;t.data("ui-tooltip-open")&&(r=e.Event("blur"),r.target=r.currentTarget=this,n.close(r,!0)),t.attr("title")&&(t.uniqueId(),n.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._updateContent(r,t)},_updateContent:function(e,t){var n,r=this.options.content,i=this,s=t?t.type:null;if(typeof r=="string")return this._open(t,e,r);n=r.call(e[0],function(n){if(!e.data("ui-tooltip-open"))return;i._delay(function(){t&&(t.type=s),this._open(t,e,n)})}),n&&this._open(t,e,n)},_open:function(t,r,i){function f(e){a.of=e;if(s.is(":hidden"))return;s.position(a)}var s,o,u,a=e.extend({},this.options.position);if(!i)return;s=this._find(r);if(s.length){s.find(".ui-tooltip-content").html(i);return}r.is("[title]")&&(t&&t.type==="mouseover"?r.attr("title",""):r.removeAttr("title")),s=this._tooltip(r),n(r,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:f}),f(t)):s.position(e.extend({of:r},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(u=this.delayedShow=setInterval(function(){s.is(":visible")&&(f(a.of),clearInterval(u))},e.fx.interval)),this._trigger("open",t,{tooltip:s}),o={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=r[0],this.close(n,!0)}},remove:function(){this._removeTooltip(s)}};if(!t||t.type==="mouseover")o.mouseleave="close";if(!t||t.type==="focusin")o.focusout="close";this._on(!0,r,o)},close:function(t){var n=this,i=e(t?t.currentTarget:this.element),s=this._find(i);if(this.closing)return;clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&i.attr("title",i.data("ui-tooltip-title")),r(i),s.stop(!0),this._hide(s,this.options.hide,function(){n._removeTooltip(e(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&t.type==="mouseleave"&&e.each(this.parents,function(t,r){e(r.element).attr("title",r.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:s}),this.closing=!1},_tooltip:function(n){var r="ui-tooltip-"+t++,i=e("<div>").attr({id:r,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[r]=n,i},_find:function(t){var n=t.data("ui-tooltip-id");return n?e("#"+n):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r[0],t.close(i,!0),e("#"+n).remove(),r.data("ui-tooltip-title")&&(r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))})}})}(jQuery),define("jquery-ui",["jquery"],function(){}),function(e,t){function n(t){e.extend(!0,St,t)}function r(n,r,f){function l(e){it?m()&&(N(),x(e)):c()}function c(){st=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),it=e("<div class='fc-content' style='position:relative'/>").prependTo(n),nt=new i(tt,r),rt=nt.render(),rt&&n.prepend(rt),y(r.defaultView),r.handleWindowResize&&e(window).resize(k),g()||p()}function p(){setTimeout(function(){!ot.start&&g()&&S()},0)}function d(){ot&&(et("viewDestroy",ot,ot,ot.element),ot.triggerEventDestroy()),e(window).unbind("resize",k),nt.destroy(),it.remove(),n.removeClass("fc fc-rtl ui-widget")}function m(){return n.is(":visible")}function g(){return e("body").is(":visible")}function y(e){ot&&e==ot.name||E(e)}function E(t){dt++,ot&&(et("viewDestroy",ot,ot,ot.element),R(),ot.triggerEventDestroy(),Q(),ot.element.remove(),nt.deactivateButton(ot.name)),nt.activateButton(t),ot=new Nt[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(it),tt),S(),G(),dt--}function S(e){(!ot.start||e||ot.start>vt||vt>=ot.end)&&m()&&x(e)}function x(e){dt++,ot.start&&(et("viewDestroy",ot,ot,ot.element),R(),_()),Q(),ot.render(vt,e||0),C(),G(),(ot.afterRender||H)(),F(),I(),et("viewRender",ot,ot,ot.element),ot.trigger("viewDisplay",ht),dt--,D()}function T(){m()&&(R(),_(),N(),C(),O())}function N(){at=r.contentHeight?r.contentHeight:r.height?r.height-(rt?rt.height():0)-M(it):Math.round(it.width()/Math.max(r.aspectRatio,.5))}function C(){at===t&&N(),dt++,ot.setHeight(at),ot.setWidth(it.width()),dt--,ut=n.outerWidth()}function k(){if(!dt)if(ot.start){var e=++pt;setTimeout(function(){e==pt&&!dt&&m()&&ut!=(ut=n.outerWidth())&&(dt++,T(),ot.trigger("windowResize",ht),dt--)},200)}else p()}function L(){_(),P()}function A(e){_(),O(e)}function O(e){m()&&(ot.setEventData(mt),ot.renderEvents(mt,e),ot.trigger("eventAfterAllRender"))}function _(){ot.triggerEventDestroy(),ot.clearEvents(),ot.clearEventData()}function D(){!r.lazyFetching||lt(ot.visStart,ot.visEnd)?P():O()}function P(){ct(ot.visStart,ot.visEnd)}function B(e){mt=e,O()}function j(e){A(e)}function F(){nt.updateTitle(ot.title)}function I(){var e=new Date;e>=ot.start&&ot.end>e?nt.disableButton("today"):nt.enableButton("today")}function q(e,n,r){ot.select(e,n,r===t?!0:r)}function R(){ot&&ot.unselect()}function U(){S(-1)}function z(){S(1)}function W(){o(vt,-1),S()}function X(){o(vt,1),S()}function V(){vt=new Date,S()}function $(e,t,n){e instanceof Date?vt=h(e):v(vt,e,t,n),S()}function J(e,n,r){e!==t&&o(vt,e),n!==t&&u(vt,n),r!==t&&a(vt,r),S()}function K(){return h(vt)}function Q(){it.css({width:"100%",height:it.height(),overflow:"hidden"})}function G(){it.css({width:"",height:"",overflow:""})}function Y(){return ot}function Z(e,n){return n===t?r[e]:(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(r[e]=n,T()),t)}function et(e,n){return r[e]?r[e].apply(n||ht,Array.prototype.slice.call(arguments,2)):t}var tt=this;tt.options=r,tt.render=l,tt.destroy=d,tt.refetchEvents=L,tt.reportEvents=B,tt.reportEventChange=j,tt.rerenderEvents=A,tt.changeView=y,tt.select=q,tt.unselect=R,tt.prev=U,tt.next=z,tt.prevYear=W,tt.nextYear=X,tt.today=V,tt.gotoDate=$,tt.incrementDate=J,tt.formatDate=function(e,t){return b(e,t,r)},tt.formatDates=function(e,t,n){return w(e,t,n,r)},tt.getDate=K,tt.getView=Y,tt.option=Z,tt.trigger=et,s.call(tt,r,f);var nt,rt,it,st,ot,ut,at,ft,lt=tt.isFetchNeeded,ct=tt.fetchEvents,ht=n[0],pt=0,dt=0,vt=new Date,mt=[];v(vt,r.year,r.month,r.date),r.droppable&&e(document).bind("dragstart",function(t,n){var i=t.target,s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;(e.isFunction(o)?o.call(i,s):s.is(o))&&(ft=i,ot.dragStart(ft,t,n))}}).bind("dragstop",function(e,t){ft&&(ot.dragStop(ft,e,t),ft=null)})}function i(n,r){function i(){p=r.theme?"ui":"fc";var n=r.header;return n?d=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(o("left")).append(o("center")).append(o("right"))):t}function s(){d.remove()}function o(t){var i=e("<td class='fc-header-"+t+"'/>"),s=r.header[t];return s&&e.each(s.split(" "),function(t){t>0&&i.append("<span class='fc-header-space'/>");var s;e.each(this.split(","),function(t,o){if("title"==o)i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),s&&s.addClass(p+"-corner-right"),s=null;else{var u;if(n[o]?u=n[o]:Nt[o]&&(u=function(){l.removeClass(p+"-state-hover"),n.changeView(o)}),u){var a=r.theme?I(r.buttonIcons,o):null,f=I(r.buttonText,o),l=e("<span class='fc-button fc-button-"+o+" "+p+"-state-default'>"+(a?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a+"'/>"+"</span>":f)+"</span>").click(function(){l.hasClass(p+"-state-disabled")||u()}).mousedown(function(){l.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){l.removeClass(p+"-state-down")}).hover(function(){l.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){l.removeClass(p+"-state-hover").removeClass(p+"-state-down")}).appendTo(i);R(l),s||l.addClass(p+"-corner-left"),s=l}}}),s&&s.addClass(p+"-corner-right")}),i}function u(e){d.find("h2").html(e)}function a(e){d.find("span.fc-button-"+e).addClass(p+"-state-active")}function f(e){d.find("span.fc-button-"+e).removeClass(p+"-state-active")}function l(e){d.find("span.fc-button-"+e).addClass(p+"-state-disabled")}function c(e){d.find("span.fc-button-"+e).removeClass(p+"-state-disabled")}var h=this;h.render=i,h.destroy=s,h.updateTitle=u,h.activateButton=a,h.deactivateButton=f,h.disableButton=l,h.enableButton=c;var p,d=e([])}function s(n,r){function i(e,t){return!T||T>e||t>N}function s(e,t){T=e,N=t,P=[];var n=++M,r=O.length;_=r;for(var i=0;r>i;i++)o(O[i],n)}function o(t,r){u(t,function(i){if(r==M){if(i){n.eventDataTransform&&(i=e.map(i,n.eventDataTransform)),t.eventDataTransform&&(i=e.map(i,t.eventDataTransform));for(var s=0;i.length>s;s++)i[s].source=t,b(i[s]);P=P.concat(i)}_--,_||L(P)}})}function u(r,i){var s,o,a=Tt.sourceFetchers;for(s=0;a.length>s;s++){if(o=a[s](r,T,N,i),o===!0)return;if("object"==typeof o)return u(o,i),t}var f=r.events;if(f)e.isFunction(f)?(g(),f(h(T),h(N),function(e){i(e),y()})):e.isArray(f)?i(f):i();else{var l=r.url;if(l){var c,p=r.success,d=r.error,v=r.complete;c=e.isFunction(r.data)?r.data():r.data;var m=e.extend({},c||{}),b=X(r.startParam,n.startParam),w=X(r.endParam,n.endParam);b&&(m[b]=Math.round(+T/1e3)),w&&(m[w]=Math.round(+N/1e3)),g(),e.ajax(e.extend({},Ct,r,{data:m,success:function(t){t=t||[];var n=W(p,this,arguments);e.isArray(n)&&(t=n),i(t)},error:function(){W(d,this,arguments),i()},complete:function(){W(v,this,arguments),y()}}))}else i()}}function a(e){e=f(e),e&&(_++,o(e,M))}function f(n){return e.isFunction(n)||e.isArray(n)?n={events:n}:"string"==typeof n&&(n={url:n}),"object"==typeof n?(w(n),O.push(n),n):t}function l(t){O=e.grep(O,function(e){return!E(e,t)}),P=e.grep(P,function(e){return!E(e.source,t)}),L(P)}function c(e){var t,n,r=P.length,i=k().defaultEventEnd,s=e.start-e._start,o=e.end?e.end-(e._end||i(e)):0;for(t=0;r>t;t++)n=P[t],n._id==e._id&&n!=e&&(n.start=new Date(+n.start+s),n.end=e.end?n.end?new Date(+n.end+o):new Date(+i(n)+o):null,n.title=e.title,n.url=e.url,n.allDay=e.allDay,n.className=e.className,n.editable=e.editable,n.color=e.color,n.backgroundColor=e.backgroundColor,n.borderColor=e.borderColor,n.textColor=e.textColor,b(n));b(e),L(P)}function p(e,t){b(e),e.source||(t&&(A.events.push(e),e.source=A),P.push(e)),L(P)}function d(t){if(t){if(!e.isFunction(t)){var n=t+"";t=function(e){return e._id==n}}P=e.grep(P,t,!0);for(var r=0;O.length>r;r++)e.isArray(O[r].events)&&(O[r].events=e.grep(O[r].events,t,!0))}else{P=[];for(var r=0;O.length>r;r++)e.isArray(O[r].events)&&(O[r].events=[])}L(P)}function v(t){return e.isFunction(t)?e.grep(P,t):t?(t+="",e.grep(P,function(e){return e._id==t})):P}function g(){D++||C("loading",null,!0,k())}function y(){--D||C("loading",null,!1,k())}function b(e){var r=e.source||{},i=X(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+kt++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=h(e.start=m(e.start,i)),e.end=m(e.end,i),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?h(e.end):null,e.allDay===t&&(e.allDay=X(r.allDayDefault,n.allDayDefault)),e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[]}function w(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=Tt.sourceNormalizers,n=0;t.length>n;n++)t[n](e)}function E(e,t){return e&&t&&S(e)==S(t)}function S(e){return("object"==typeof e?e.events||e.url:"")||e}var x=this;x.isFetchNeeded=i,x.fetchEvents=s,x.addEventSource=a,x.removeEventSource=l,x.updateEvent=c,x.renderEvent=p,x.removeEvents=d,x.clientEvents=v,x.normalizeEvent=b;for(var T,N,C=x.trigger,k=x.getView,L=x.reportEvents,A={events:[]},O=[A],M=0,_=0,D=0,P=[],H=0;r.length>H;H++)f(r[H])}function o(e,t,n){return e.setFullYear(e.getFullYear()+t),n||c(e),e}function u(e,t,n){if(+e){var r=e.getMonth()+t,i=h(e);for(i.setDate(1),i.setMonth(r),e.setMonth(r),n||c(e);e.getMonth()!=i.getMonth();)e.setDate(e.getDate()+(i>e?1:-1))}return e}function a(e,t,n){if(+e){var r=e.getDate()+t,i=h(e);i.setHours(9),i.setDate(r),e.setDate(r),n||c(e),f(e,i)}return e}function f(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(t>e?1:-1)*Ot)}function l(e,t){return e.setMinutes(e.getMinutes()+t),e}function c(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function h(e,t){return t?c(new Date(+e)):new Date(+e)}function p(){var e,t=0;do e=new Date(1970,t++,1);while(e.getHours());return e}function d(e,t){return Math.round((h(e,!0)-h(t,!0))/At)}function v(e,n,r,i){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),r!==t&&r!=e.getMonth()&&(e.setDate(1),e.setMonth(r)),i!==t&&e.setDate(i)}function m(e,n){return"object"==typeof e?e:"number"==typeof e?new Date(1e3*e):"string"==typeof e?e.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(e)):(n===t&&(n=!0),g(e,n)||(e?new Date(e):null)):null}function g(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(t||!n[13]){var i=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),i.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),i.setDate(n[5])),f(r,i),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(1e3*Number("0."+n[12])),f(r,i)}else if(r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var s=60*Number(n[16])+(n[18]?Number(n[18]):0);s*="-"==n[15]?1:-1,r=new Date(+r+6e4*s)}return r}function y(e){if("number"==typeof e)return 60*e;if("object"==typeof e)return 60*e.getHours()+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);return t[3]&&(n%=12,"p"==t[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(t[2]?parseInt(t[2],10):0)}}function b(e,t,n){return w(e,null,t,n)}function w(e,t,n,r){r=r||St;var i,s,o,u,a=e,f=t,l=n.length,c="";for(i=0;l>i;i++)if(s=n.charAt(i),"'"==s){for(o=i+1;l>o;o++)if("'"==n.charAt(o)){a&&(c+=o==i+1?"'":n.substring(i+1,o),i=o);break}}else if("("==s){for(o=i+1;l>o;o++)if(")"==n.charAt(o)){var h=b(a,n.substring(i+1,o),r);parseInt(h.replace(/\D/,""),10)&&(c+=h),i=o;break}}else if("["==s){for(o=i+1;l>o;o++)if("]"==n.charAt(o)){var p=n.substring(i+1,o),h=b(a,p,r);h!=b(f,p,r)&&(c+=h),i=o;break}}else if("{"==s)a=t,f=e;else if("}"==s)a=e,f=t;else{for(o=l;o>i;o--)if(u=_t[n.substring(i,o)]){a&&(c+=u(a,r)),i=o-1;break}o==i&&a&&(c+=s)}return c}function E(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}function S(e){return e.end?x(e.end,e.allDay):a(h(e.start),1)}function x(e,t){return e=h(e),t||e.getHours()||e.getMinutes()?a(e,1):c(e)}function T(n,r,i){n.unbind("mouseover").mouseover(function(n){for(var s,o,u,a=n.target;a!=this;)s=a,a=a.parentNode;(o=s._fci)!==t&&(s._fci=t,u=r[o],i(u.event,u.element,u),e(n.target).trigger(n)),n.stopPropagation()})}function N(t,n,r){for(var i,s=0;t.length>s;s++)i=e(t[s]),i.width(Math.max(0,n-k(i,r)))}function C(t,n,r){for(var i,s=0;t.length>s;s++)i=e(t[s]),i.height(Math.max(0,n-M(i,r)))}function k(e,t){return L(e)+O(e)+(t?A(e):0)}function L(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function A(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function O(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function M(e,t){return _(e)+P(e)+(t?D(e):0)}function _(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function D(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function P(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function H(){}function B(e,t){return e-t}function j(e){return Math.max.apply(Math,e)}function F(e){return(10>e?"0":"")+e}function I(e,n){if(e[n]!==t)return e[n];for(var r,i=n.split(/(?=[A-Z])/),s=i.length-1;s>=0;s--)if(r=e[i[s].toLowerCase()],r!==t)return r;return e[""]}function q(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function R(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function U(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function z(e,t){var n=e.source||{},r=e.color,i=n.color,s=t("eventColor"),o=e.backgroundColor||r||n.backgroundColor||i||t("eventBackgroundColor")||s,u=e.borderColor||r||n.borderColor||i||t("eventBorderColor")||s,a=e.textColor||n.textColor||t("eventTextColor"),f=[];return o&&f.push("background-color:"+o),u&&f.push("border-color:"+u),a&&f.push("color:"+a),f.join(";")}function W(t,n,r){if(e.isFunction(t)&&(t=[t]),t){var i,s;for(i=0;t.length>i;i++)s=t[i].apply(n,r)||s;return s}}function X(){for(var e=0;arguments.length>e;e++)if(arguments[e]!==t)return arguments[e]}function V(e,t){function n(e,t){t&&(u(e,t),e.setDate(1));var n=i("firstDay"),c=h(e,!0);c.setDate(1);var p=u(h(c),1),v=h(c);a(v,-((v.getDay()-n+7)%7)),o(v);var m=h(p);a(m,(7-m.getDay()+n)%7),o(m,-1,!0);var g=f(),y=Math.round(d(m,v)/7);"fixed"==i("weekMode")&&(a(m,7*(6-y)),y=6),r.title=l(c,i("titleFormat")),r.start=c,r.end=p,r.visStart=v,r.visEnd=m,s(y,g,!0)}var r=this;r.render=n,K.call(r,e,t,"month");var i=r.opt,s=r.renderBasic,o=r.skipHiddenDays,f=r.getCellsPerWeek,l=t.formatDate}function $(e,t){function n(e,t){t&&a(e,7*t);var n=a(h(e),-((e.getDay()-i("firstDay")+7)%7)),l=a(h(n),7),c=h(n);o(c);var p=h(l);o(p,-1,!0);var d=u();r.start=n,r.end=l,r.visStart=c,r.visEnd=p,r.title=f(c,a(h(p),-1),i("titleFormat")),s(1,d,!1)}var r=this;r.render=n,K.call(r,e,t,"basicWeek");var i=r.opt,s=r.renderBasic,o=r.skipHiddenDays,u=r.getCellsPerWeek,f=t.formatDates}function J(e,t){function n(e,t){t&&a(e,t),o(e,0>t?-1:1);var n=h(e,!0),f=a(h(n),1);r.title=u(e,i("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=f,s(1,1,!1)}var r=this;r.render=n,K.call(r,e,t,"basicDay");var i=r.opt,s=r.renderBasic,o=r.skipHiddenDays,u=t.formatDate}function K(t,n,r){function i(e,t,n){tt=e,nt=t,rt=n,s(),z||o(),u()}function s(){at=dt("theme")?"ui":"fc",ft=dt("columnFormat"),lt=dt("weekNumbers"),ht=dt("weekNumberTitle"),pt="iso"!=dt("weekNumberCalculation")?"w":"W"}function o(){K=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function u(){var n=f();j&&j.remove(),j=e(n).appendTo(t),F=j.find("thead"),I=F.find(".fc-day-header"),z=j.find("tbody"),W=z.find("tr"),X=z.find(".fc-day"),V=W.find("td:first-child"),$=W.eq(0).find(".fc-day > div"),J=W.eq(0).find(".fc-day-content > div"),U(F.add(F.find("tr"))),U(W),W.eq(0).addClass("fc-first"),W.filter(":last").addClass("fc-last"),X.each(function(t,n){var r=Tt(Math.floor(t/nt),t%nt);vt("dayRender",B,r,e(n))}),y(X)}function f(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+l()+p()+"</table>";return e}function l(){var e,t,n=at+"-widget-header",r="";for(r+="<thead><tr>",lt&&(r+="<th class='fc-week-number "+n+"'>"+q(ht)+"</th>"),e=0;nt>e;e++)t=Tt(0,e),r+="<th class='fc-day-header fc-"+Lt[t.getDay()]+" "+n+"'>"+q(kt(t,ft))+"</th>";return r+="</tr></thead>"}function p(){var e,t,n,r=at+"-widget-content",i="";for(i+="<tbody>",e=0;tt>e;e++){for(i+="<tr class='fc-week'>",lt&&(n=Tt(e,0),i+="<td class='fc-week-number "+r+"'>"+"<div>"+q(kt(n,pt))+"</div>"+"</td>"),t=0;nt>t;t++)n=Tt(e,t),i+=d(n);i+="</tr>"}return i+="</tbody>"}function d(e){var t=at+"-widget-content",n=B.start.getMonth(),r=c(new Date),i="",s=["fc-day","fc-"+Lt[e.getDay()],t];return e.getMonth()!=n&&s.push("fc-other-month"),+e==+r?s.push("fc-today",at+"-state-highlight"):r>e?s.push("fc-past"):s.push("fc-future"),i+="<td class='"+s.join(" ")+"'"+" data-date='"+kt(e,"yyyy-MM-dd")+"'"+">"+"<div>",rt&&(i+="<div class='fc-day-number'>"+e.getDate()+"</div>"),i+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function v(t){Y=t;var n,r,i,s=Y-F.height();"variable"==dt("weekMode")?n=r=Math.floor(s/(1==tt?2:6)):(n=Math.floor(s/tt),r=s-n*(tt-1)),V.each(function(t,s){tt>t&&(i=e(s),i.find("> div").css("min-height",(t==tt-1?r:n)-M(i)))})}function m(e){G=e,ot.clear(),ut.clear(),et=0,lt&&(et=F.find("th.fc-week-number").outerWidth()),Z=Math.floor((G-et)/nt),N(I.slice(0,-1),Z)}function y(e){e.click(b).mousedown(xt)}function b(t){if(!dt("selectable")){var n=g(e(this).data("date"));vt("dayClick",this,n,!0,t)}}function w(e,t,n){n&&it.build();for(var r=Ct(e,t),i=0;r.length>i;i++){var s=r[i];y(E(s.row,s.leftCol,s.row,s.rightCol))}}function E(e,n,r,i){var s=it.rect(e,n,r,i,t);return wt(s,t)}function S(e){return h(e)}function x(e,t){w(e,a(h(t),1),!0)}function T(){St()}function C(e,t,n){var r=Nt(e),i=X[r.row*nt+r.col];vt("dayClick",i,e,t,n)}function k(e,t){st.start(function(e){St(),e&&E(e.row,e.col,e.row,e.col)},t)}function L(e,t,n){var r=st.stop();if(St(),r){var i=Tt(r);vt("drop",e,i,!0,t,n)}}function A(e){return h(e.start)}function O(e){return ot.left(e)}function _(e){return ot.right(e)}function D(e){return ut.left(e)}function P(e){return ut.right(e)}function H(e){return W.eq(e)}var B=this;B.renderBasic=i,B.setHeight=v,B.setWidth=m,B.renderDayOverlay=w,B.defaultSelectionEnd=S,B.renderSelection=x,B.clearSelection=T,B.reportDayClick=C,B.dragStart=k,B.dragStop=L,B.defaultEventEnd=A,B.getHoverListener=function(){return st},B.colLeft=O,B.colRight=_,B.colContentLeft=D,B.colContentRight=P,B.getIsCellAllDay=function(){return!0},B.allDayRow=H,B.getRowCnt=function(){return tt},B.getColCnt=function(){return nt},B.getColWidth=function(){return Z},B.getDaySegmentContainer=function(){return K},ct.call(B,t,n,r),gt.call(B),mt.call(B),Q.call(B);var j,F,I,z,W,X,V,$,J,K,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ht,pt,dt=B.opt,vt=B.trigger,wt=B.renderOverlay,St=B.clearOverlays,xt=B.daySelectionMousedown,Tt=B.cellToDate,Nt=B.dateToCell,Ct=B.rangeToSegments,kt=n.formatDate;R(t.addClass("fc-grid")),it=new yt(function(t,n){var r,i,s;I.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),W.each(function(n,o){tt>n&&(r=e(o),i=r.offset().top,n&&(s[1]=i),s=[i],t[n]=s)}),s[1]=i+r.outerHeight()}),st=new bt(it),ot=new Et(function(e){return $.eq(e)}),ut=new Et(function(e){return J.eq(e)})}function Q(){function e(e,t){n.renderDayEvents(e,t)}function t(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=e,n.clearEvents=t,ht.call(n)}function G(e,t){function n(e,t){t&&a(e,7*t);var n=a(h(e),-((e.getDay()-i("firstDay")+7)%7)),l=a(h(n),7),c=h(n);o(c);var p=h(l);o(p,-1,!0);var d=u();r.title=f(c,a(h(p),-1),i("titleFormat")),r.start=n,r.end=l,r.visStart=c,r.visEnd=p,s(d)}var r=this;r.render=n,Z.call(r,e,t,"agendaWeek");var i=r.opt,s=r.renderAgenda,o=r.skipHiddenDays,u=r.getCellsPerWeek,f=t.formatDates}function Y(e,t){function n(e,t){t&&a(e,t),o(e,0>t?-1:1);var n=h(e,!0),f=a(h(n),1);r.title=u(e,i("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=f,s(1)}var r=this;r.render=n,Z.call(r,e,t,"agendaDay");var i=r.opt,s=r.renderAgenda,o=r.skipHiddenDays,u=t.formatDate}function Z(n,r,i){function s(e){Pt=e,o(),Z?f():u()}function o(){qt=Jt("theme")?"ui":"fc",Rt=Jt("isRTL"),Ut=y(Jt("minTime")),zt=y(Jt("maxTime")),Wt=Jt("columnFormat"),Xt=Jt("weekNumbers"),Vt=Jt("weekNumberTitle"),$t="iso"!=Jt("weekNumberCalculation")?"w":"W",Mt=Jt("snapMinutes")||Jt("slotMinutes")}function u(){var t,r,i,s,o,u=qt+"-widget-header",a=qt+"-widget-content",c=0==Jt("slotMinutes")%15;for(f(),ft=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Jt("allDaySlot")?(lt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ft),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+u+" fc-agenda-axis'>"+Jt("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+u+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",ht=e(t).appendTo(ft),pt=ht.find("tr"),S(pt.find("td")),ft.append("<div class='fc-agenda-divider "+u+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):lt=e([]),dt=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ft),vt=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(dt),wt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(vt),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",r=p(),s=l(h(r),zt),l(r,Ut),Ht=0,i=0;s>r;i++)o=r.getMinutes(),t+="<tr class='fc-slot"+i+" "+(o?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+u+"'>"+(c&&o?"&nbsp;":on(r,Jt("axisFormat")))+"</th>"+"<td class='"+a+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",l(r,Jt("slotMinutes")),Ht++;t+="</tbody></table>",St=e(t).appendTo(vt),x(St.find("td"))}function f(){var t=d();Z&&Z.remove(),Z=e(t).appendTo(n),tt=Z.find("thead"),nt=tt.find("th").slice(1,-1),rt=Z.find("tbody"),it=rt.find("td").slice(0,-1),st=it.find("> div"),ot=it.find(".fc-day-content > div"),ut=it.eq(0),at=st.eq(0),U(tt.add(tt.find("tr"))),U(rt.add(rt.find("tr")))}function d(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+v()+m()+"</table>";return e}function v(){var e,t,n,r=qt+"-widget-header",i="";for(i+="<thead><tr>",Xt?(e=nn(0,0),t=on(e,$t),Rt?t+=Vt:t=Vt+t,i+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+q(t)+"</th>"):i+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;Pt>n;n++)e=nn(0,n),i+="<th class='fc-"+Lt[e.getDay()]+" fc-col"+n+" "+r+"'>"+q(on(e,Wt))+"</th>";return i+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th>"+"</tr>"+"</thead>"}function m(){var e,t,n,r,i,s=qt+"-widget-header",o=qt+"-widget-content",u=c(new Date),a="";for(a+="<tbody><tr><th class='fc-agenda-axis "+s+"'>&nbsp;</th>",n="",t=0;Pt>t;t++)e=nn(0,t),i=["fc-col"+t,"fc-"+Lt[e.getDay()],o],+e==+u?i.push(qt+"-state-highlight","fc-today"):u>e?i.push("fc-past"):i.push("fc-future"),r="<td class='"+i.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",n+=r;return a+=n,a+="<td class='fc-agenda-gutter "+o+"'>&nbsp;</td>"+"</tr>"+"</tbody>"}function g(e){e===t&&(e=Nt),Nt=e,un={};var n=rt.position().top,r=dt.position().top,i=Math.min(e-n,St.height()+r+1);at.height(i-M(ut)),ft.css("top",n),dt.height(i-r-1),Ot=St.find("tr:first").height()+1,_t=Jt("slotMinutes")/Mt,Dt=Ot/_t}function b(t){Tt=t,Ft.clear(),It.clear();var n=tt.find("th:first");ht&&(n=n.add(ht.find("th:first"))),n=n.add(St.find("th:first")),Ct=0,N(n.width("").each(function(t,n){Ct=Math.max(Ct,e(n).outerWidth())}),Ct);var r=Z.find(".fc-agenda-gutter");ht&&(r=r.add(ht.find("th.fc-agenda-gutter")));var i=dt[0].clientWidth;At=dt.width()-i,At?(N(r,At),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),kt=Math.floor((i-Ct)/Pt),N(nt.slice(0,-1),kt)}function w(){function e(){dt.scrollTop(r)}var t=p(),n=h(t);n.setHours(Jt("firstHour"));var r=F(t,n)+1;e(),setTimeout(e,0)}function E(){w()}function S(e){e.click(T).mousedown(en)}function x(e){e.click(T).mousedown(J)}function T(e){if(!Jt("selectable")){var t=Math.min(Pt-1,Math.floor((e.pageX-Z.offset().left-Ct)/kt)),n=nn(0,t),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var i=parseInt(r[1])*Jt("slotMinutes"),s=Math.floor(i/60);n.setHours(s),n.setMinutes(i%60+Ut),Kt("dayClick",it[t],n,!1,e)}else Kt("dayClick",it[t],n,!0,e)}}function k(e,t,n){n&&Bt.build();for(var r=sn(e,t),i=0;r.length>i;i++){var s=r[i];S(L(s.row,s.leftCol,s.row,s.rightCol))}}function L(e,t,n,r){var i=Bt.rect(e,t,n,r,ft);return Qt(i,ft)}function A(e,t){for(var n=0;Pt>n;n++){var r=nn(0,n),i=a(h(r),1),s=new Date(Math.max(r,e)),o=new Date(Math.min(i,t));if(o>s){var u=Bt.rect(0,n,0,n,vt),f=F(r,s),l=F(r,o);u.top=f,u.height=l-f,x(Qt(u,vt))}}}function O(e){return Ft.left(e)}function _(e){return It.left(e)}function D(e){return Ft.right(e)}function P(e){return It.right(e)}function H(e){return Jt("allDaySlot")&&!e.row}function j(e){var t=nn(0,e.col),n=e.row;return Jt("allDaySlot")&&n--,n>=0&&l(t,Ut+n*Mt),t}function F(e,n){if(e=h(e,!0),l(h(e),Ut)>n)return 0;if(n>=l(h(e),zt))return St.height();var r=Jt("slotMinutes"),i=60*n.getHours()+n.getMinutes()-Ut,s=Math.floor(i/r),o=un[s];return o===t&&(o=un[s]=St.find("tr").eq(s).find("td div")[0].offsetTop),Math.max(0,Math.round(o-1+Ot*(i%r/r)))}function I(){return pt}function z(e){var t=h(e.start);return e.allDay?t:l(t,Jt("defaultEventMinutes"))}function W(e,t){return t?h(e):l(h(e),Jt("slotMinutes"))}function X(e,t,n){n?Jt("allDaySlot")&&k(e,a(h(t),1),!0):V(e,t)}function V(t,n){var r=Jt("selectHelper");if(Bt.build(),r){var i=rn(t).col;if(i>=0&&Pt>i){var s=Bt.rect(0,i,0,i,vt),o=F(t,t),u=F(t,n);if(u>o){if(s.top=o,s.height=u-o,s.left+=2,s.width-=5,e.isFunction(r)){var a=r(t,n);a&&(s.position="absolute",xt=e(a).css(s).appendTo(vt))}else s.isStart=!0,s.isEnd=!0,xt=e(tn({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},s)),xt.css("opacity",Jt("dragOpacity"));xt&&(x(xt),vt.append(xt),N(xt,s.width,!0),C(xt,s.height,!0))}}}else A(t,n)}function $(){Gt(),xt&&(xt.remove(),xt=null)}function J(t){if(1==t.which&&Jt("selectable")){Zt(t);var n;jt.start(function(e,t){if($(),e&&e.col==t.col&&!H(e)){var r=j(t),i=j(e);n=[r,l(h(r),Mt),i,l(h(i),Mt)].sort(B),V(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){jt.stop(),n&&(+n[0]==+n[1]&&K(n[0],!1,e),Yt(n[0],n[3],!1,e))})}}function K(e,t,n){Kt("dayClick",it[rn(e).col],e,t,n)}function Q(e,t){jt.start(function(e){if(Gt(),e)if(H(e))L(e.row,e.col,e.row,e.col);else{var t=j(e),n=l(h(t),Jt("defaultEventMinutes"));A(t,n)}},t)}function G(e,t,n){var r=jt.stop();Gt(),r&&Kt("drop",e,j(r),H(r),t,n)}var Y=this;Y.renderAgenda=s,Y.setWidth=b,Y.setHeight=g,Y.afterRender=E,Y.defaultEventEnd=z,Y.timePosition=F,Y.getIsCellAllDay=H,Y.allDayRow=I,Y.getCoordinateGrid=function(){return Bt},Y.getHoverListener=function(){return jt},Y.colLeft=O,Y.colRight=D,Y.colContentLeft=_,Y.colContentRight=P,Y.getDaySegmentContainer=function(){return lt},Y.getSlotSegmentContainer=function(){return wt},Y.getMinMinute=function(){return Ut},Y.getMaxMinute=function(){return zt},Y.getSlotContainer=function(){return vt},Y.getRowCnt=function(){return 1},Y.getColCnt=function(){return Pt},Y.getColWidth=function(){return kt},Y.getSnapHeight=function(){return Dt},Y.getSnapMinutes=function(){return Mt},Y.defaultSelectionEnd=W,Y.renderDayOverlay=k,Y.renderSelection=X,Y.clearSelection=$,Y.reportDayClick=K,Y.dragStart=Q,Y.dragStop=G,ct.call(Y,n,r,i),gt.call(Y),mt.call(Y),et.call(Y);var Z,tt,nt,rt,it,st,ot,ut,at,ft,lt,ht,pt,dt,vt,wt,St,xt,Tt,Nt,Ct,kt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt=Y.opt,Kt=Y.trigger,Qt=Y.renderOverlay,Gt=Y.clearOverlays,Yt=Y.reportSelection,Zt=Y.unselect,en=Y.daySelectionMousedown,tn=Y.slotSegHtml,nn=Y.cellToDate,rn=Y.dateToCell,sn=Y.rangeToSegments,on=r.formatDate,un={};R(n.addClass("fc-agenda")),Bt=new yt(function(t,n){function r(e){return Math.max(a,Math.min(f,e))}var i,s,o;nt.each(function(t,r){i=e(r),s=i.offset().left,t&&(o[1]=s),o=[s],n[t]=o}),o[1]=s+i.outerWidth(),Jt("allDaySlot")&&(i=pt,s=i.offset().top,t[0]=[s,s+i.outerHeight()]);for(var u=vt.offset().top,a=dt.offset().top,f=a+dt.outerHeight(),l=0;Ht*_t>l;l++)t.push([r(u+Dt*l),r(u+Dt*(l+1))])}),jt=new bt(Bt),Ft=new Et(function(e){return st.eq(e)}),It=new Et(function(e){return ot.eq(e)})}function et(){function n(e,t){var n,r=e.length,s=[],o=[];for(n=0;r>n;n++)e[n].allDay?s.push(e[n]):o.push(e[n]);y("allDaySlot")&&(et(s,t),L()),u(i(o),t)}function r(){A().empty(),O().empty()}function i(t){var n,r,i,u,a,f=R(),c=P(),p=D(),d=e.map(t,o),v=[];for(r=0;f>r;r++)for(n=I(0,r),l(n,c),a=s(t,d,n,l(h(n),p-c)),a=tt(a),i=0;a.length>i;i++)u=a[i],u.col=r,v.push(u);return v}function s(e,t,n,r){var i,s,o,u,a,f,l,c,p=[],d=e.length;for(i=0;d>i;i++)s=e[i],o=s.start,u=t[i],u>n&&r>o&&(n>o?(a=h(n),l=!1):(a=o,l=!0),u>r?(f=h(r),c=!1):(f=u,c=!0),p.push({event:s,start:a,end:f,isStart:l,isEnd:c}));return p.sort(lt)}function o(e){return e.end?h(e.end):l(h(e.start),y("defaultEventMinutes"))}function u(n,r){var i,s,o,u,a,l,h,p,d,v,m,g,w,E,S,x,N=n.length,C="",L=O(),A=y("isRTL");for(i=0;N>i;i++)s=n[i],o=s.event,u=H(s.start,s.start),a=H(s.start,s.end),l=j(s.col),h=F(s.col),p=h-l,h-=.025*p,p=h-l,d=p*(s.forwardCoord-s.backwardCoord),y("slotEventOverlap")&&(d=Math.max(2*(d-10),d)),A?(m=h-s.backwardCoord*p,v=m-d):(v=l+s.backwardCoord*p,m=v+d),v=Math.max(v,l),m=Math.min(m,h),d=m-v,s.top=u,s.left=v,s.outerWidth=d,s.outerHeight=a-u,C+=f(o,s);for(L[0].innerHTML=C,g=L.children(),i=0;N>i;i++)s=n[i],o=s.event,w=e(g[i]),E=b("eventRender",o,o,w),E===!1?w.remove():(E&&E!==!0&&(w.remove(),w=e(E).css({position:"absolute",top:s.top,left:s.left}).appendTo(L)),s.element=w,o._id===r?c(o,w,s):w[0]._fci=i,$(o,w));for(T(L,n,c),i=0;N>i;i++)s=n[i],(w=s.element)&&(s.vsides=M(w,!0),s.hsides=k(w,!0),S=w.find(".fc-event-title"),S.length&&(s.contentTop=S[0].offsetTop));for(i=0;N>i;i++)s=n[i],(w=s.element)&&(w[0].style.width=Math.max(0,s.outerWidth-s.hsides)+"px",x=Math.max(0,s.outerHeight-s.vsides),w[0].style.height=x+"px",o=s.event,s.contentTop!==t&&10>x-s.contentTop&&(w.find("div.fc-event-time").text(rt(o.start,y("timeFormat"))+" - "+o.title),w.find("div.fc-event-title").remove()),b("eventAfterRender",o,o,w))}function f(e,t){var n="<",r=e.url,i=z(e,y),s=["fc-event","fc-event-vert"];return w(e)&&s.push("fc-event-draggable"),t.isStart&&s.push("fc-event-start"),t.isEnd&&s.push("fc-event-end"),s=s.concat(e.className),e.source&&(s=s.concat(e.source.className||[])),n+=r?"a href='"+q(e.url)+"'":"div",n+=" class='"+s.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+t.top+"px;"+"left:"+t.left+"px;"+i+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+q(it(e.start,e.end,y("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+q(e.title||"")+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",t.isEnd&&E(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function c(e,t,n){var r=t.find("div.fc-event-time");w(e)&&v(e,t,r),n.isEnd&&E(e)&&m(e,t,r),N(e,t)}function p(e,t,n){function r(){f||(t.width(i).height("").draggable("option","grid",null),f=!0)}var i,s,o,u=n.isStart,f=!0,l=_(),c=U(),p=W(),v=X(),m=P();t.draggable({opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(n,m){b("eventDragStart",t,e,n,m),K(e,t),i=t.width(),l.start(function(n,i){if(Z(),n){s=!1;var l=I(0,i.col),m=I(0,n.col);o=d(m,l),n.row?u?f&&(t.width(c-10),C(t,p*Math.round((e.end?(e.end-e.start)/Mt:y("defaultEventMinutes"))/v)),t.draggable("option","grid",[c,1]),f=!1):s=!0:(Y(a(h(e.start),o),a(S(e),o)),r()),s=s||f&&!o}else r(),s=!0;t.draggable("option","revert",s)},n,"drag")},stop:function(n,i){if(l.stop(),Z(),b("eventDragStop",t,e,n,i),s)r(),t.css("filter",""),J(e,t);else{var u=0;f||(u=Math.round((t.offset().top-V().offset().top)/p)*v+m-(60*e.start.getHours()+e.start.getMinutes())),Q(this,e,o,u,f,n,i)}}})}function v(e,t,n){function r(){Z(),u&&(c?(n.hide(),t.draggable("option","grid",null),Y(a(h(e.start),w),a(S(e),w))):(i(E),n.css("display",""),t.draggable("option","grid",[C,k])))}function i(t){var r,i=l(h(e.start),t);e.end&&(r=l(h(e.end),t)),n.text(it(i,r,y("timeFormat")))}var s,o,u,f,c,p,v,m,w,E,x,T=g.getCoordinateGrid(),N=R(),C=U(),k=W(),L=X();t.draggable({scroll:!1,grid:[C,k],axis:1==N?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(n,r){b("eventDragStart",t,e,n,r),K(e,t),T.build(),s=t.position(),o=T.cell(n.pageX,n.pageY),u=f=!0,c=p=B(o),v=m=0,w=0,E=x=0},drag:function(e,n){var i=T.cell(e.pageX,e.pageY);if(u=!!i){if(c=B(i),v=Math.round((n.position.left-s.left)/C),v!=m){var a=I(0,o.col),l=o.col+v;l=Math.max(0,l),l=Math.min(N-1,l);var h=I(0,l);w=d(h,a)}c||(E=Math.round((n.position.top-s.top)/k)*L)}(u!=f||c!=p||v!=m||E!=x)&&(r(),f=u,p=c,m=v,x=E),t.draggable("option","revert",!u)},stop:function(n,i){Z(),b("eventDragStop",t,e,n,i),u&&(c||w||E)?Q(this,e,w,c?0:E,c,n,i):(u=!0,c=!1,v=0,w=0,E=0,r(),t.css("filter",""),t.css(s),J(e,t))}})}function m(e,t,n){var r,i,s=W(),o=X();t.resizable({handles:{s:".ui-resizable-handle"},grid:s,start:function(n,s){r=i=0,K(e,t),b("eventResizeStart",this,e,n,s)},resize:function(u,a){r=Math.round((Math.max(s,t.height())-a.originalSize.height)/s),r!=i&&(n.text(it(e.start,r||e.end?l(x(e),o*r):null,y("timeFormat"))),i=r)},stop:function(n,i){b("eventResizeStop",this,e,n,i),r?G(this,e,0,o*r,n,i):J(e,t)}})}var g=this;g.renderEvents=n,g.clearEvents=r,g.slotSegHtml=f,ht.call(g);var y=g.opt,b=g.trigger,w=g.isEventDraggable,E=g.isEventResizable,x=g.eventEnd,N=g.eventElementHandlers,L=g.setHeight,A=g.getDaySegmentContainer,O=g.getSlotSegmentContainer,_=g.getHoverListener,D=g.getMaxMinute,P=g.getMinMinute,H=g.timePosition,B=g.getIsCellAllDay,j=g.colContentLeft,F=g.colContentRight,I=g.cellToDate,R=g.getColCnt,U=g.getColWidth,W=g.getSnapHeight,X=g.getSnapMinutes,V=g.getSlotContainer,$=g.reportEventElement,J=g.showEvents,K=g.hideEvents,Q=g.eventDrop,G=g.eventResize,Y=g.renderDayOverlay,Z=g.clearOverlays,et=g.renderDayEvents,nt=g.calendar,rt=nt.formatDate,it=nt.formatDates;g.draggableDayEvent=p}function tt(e){var t,n=nt(e),r=n[0];if(rt(n),r){for(t=0;r.length>t;t++)it(r[t]);for(t=0;r.length>t;t++)st(r[t],0,0)}return ot(n)}function nt(e){var t,n,r,i=[];for(t=0;e.length>t;t++){for(n=e[t],r=0;i.length>r&&ut(n,i[r]).length;r++);(i[r]||(i[r]=[])).push(n)}return i}function rt(e){var t,n,r,i,s;for(t=0;e.length>t;t++)for(n=e[t],r=0;n.length>r;r++)for(i=n[r],i.forwardSegs=[],s=t+1;e.length>s;s++)ut(i,e[s],i.forwardSegs)}function it(e){var n,r,i=e.forwardSegs,s=0;if(e.forwardPressure===t){for(n=0;i.length>n;n++)r=i[n],it(r),s=Math.max(s,1+r.forwardPressure);e.forwardPressure=s}}function st(e,n,r){var i,s=e.forwardSegs;if(e.forwardCoord===t)for(s.length?(s.sort(ft),st(s[0],n+1,r),e.forwardCoord=s[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-r)/(n+1),i=0;s.length>i;i++)st(s[i],0,e.forwardCoord)}function ot(e){var t,n,r,i=[];for(t=0;e.length>t;t++)for(n=e[t],r=0;n.length>r;r++)i.push(n[r]);return i}function ut(e,t,n){n=n||[];for(var r=0;t.length>r;r++)at(e,t[r])&&n.push(t[r]);return n}function at(e,t){return e.end>t.start&&e.start<t.end}function ft(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||lt(e,t)}function lt(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function ct(n,r,i){function s(t,n){var r=$[t];return e.isPlainObject(r)?I(r,n||i):r}function o(e,t){return r.trigger.apply(r,[e,t||F].concat(Array.prototype.slice.call(arguments,2),[F]))}function u(e){var t=e.source||{};return X(e.startEditable,t.startEditable,s("eventStartEditable"),e.editable,t.editable,s("editable"))&&!s("disableDragging")}function f(e){var t=e.source||{};return X(e.durationEditable,t.durationEditable,s("eventDurationEditable"),e.editable,t.editable,s("editable"))&&!s("disableResizing")}function c(e){z={};var t,n,r=e.length;for(t=0;r>t;t++)n=e[t],z[n._id]?z[n._id].push(n):z[n._id]=[n]}function p(){z={},W={},V=[]}function v(e){return e.end?h(e.end):q(e)}function m(e,t){V.push({event:e,element:t}),W[e._id]?W[e._id].push(t):W[e._id]=[t]}function g(){e.each(V,function(e,t){F.trigger("eventDestroy",t.event,t.event,t.element)})}function y(e,n){n.click(function(r){return n.hasClass("ui-draggable-dragging")||n.hasClass("ui-resizable-resizing")?t:o("eventClick",this,e,r)}).hover(function(t){o("eventMouseover",this,e,t)},function(t){o("eventMouseout",this,e,t)})}function b(e,t){E(e,t,"show")}function w(e,t){E(e,t,"hide")}function E(e,t,n){var r,i=W[e._id],s=i.length;for(r=0;s>r;r++)t&&i[r][0]==t[0]||i[r][n]()}function S(e,t,n,r,i,s,u){var a=t.allDay,f=t._id;T(z[f],n,r,i),o("eventDrop",e,t,n,r,i,function(){T(z[f],-n,-r,a),U(f)},s,u),U(f)}function x(e,t,n,r,i,s){var u=t._id;N(z[u],n,r),o("eventResize",e,t,n,r,function(){N(z[u],-n,-r),U(u)},i,s),U(u)}function T(e,n,r,i){r=r||0;for(var s,o=e.length,u=0;o>u;u++)s=e[u],i!==t&&(s.allDay=i),l(a(s.start,n,!0),r),s.end&&(s.end=l(a(s.end,n,!0),r)),R(s,$)}function N(e,t,n){n=n||0;for(var r,i=e.length,s=0;i>s;s++)r=e[s],r.end=l(a(v(r),t,!0),n),R(r,$)}function C(e){return"object"==typeof e&&(e=e.getDay()),Q[e]}function k(){return J}function L(e,t,n){for(t=t||1;Q[(e.getDay()+(n?t:0)+7)%7];)a(e,t)}function A(){var e=O.apply(null,arguments),t=M(e),n=_(t);return n}function O(e,t){var n=F.getColCnt(),r=Z?-1:1,i=Z?n-1:0;"object"==typeof e&&(t=e.col,e=e.row);var s=e*n+(t*r+i);return s}function M(e){var t=F.visStart.getDay();return e+=G[t],7*Math.floor(e/J)+Y[(e%J+J)%J]-t}function _(e){var t=h(F.visStart);return a(t,e),t}function D(e){var t=P(e),n=H(t),r=B(n);return r}function P(e){return d(e,F.visStart)}function H(e){var t=F.visStart.getDay();return e+=t,Math.floor(e/7)*J+G[(e%7+7)%7]-G[t]}function B(e){var t=F.getColCnt(),n=Z?-1:1,r=Z?t-1:0,i=Math.floor(e/t),s=(e%t+t)%t*n+r;return{row:i,col:s}}function j(e,t){for(var n=F.getRowCnt(),r=F.getColCnt(),i=[],s=P(e),o=P(t),u=H(s),a=H(o)-1,f=0;n>f;f++){var l=f*r,c=l+r-1,h=Math.max(u,l),p=Math.min(a,c);if(p>=h){var d=B(h),v=B(p),m=[d.col,v.col].sort(),g=M(h)==s,y=M(p)+1==o;i.push({row:f,leftCol:m[0],rightCol:m[1],isStart:g,isEnd:y})}}return i}var F=this;F.element=n,F.calendar=r,F.name=i,F.opt=s,F.trigger=o,F.isEventDraggable=u,F.isEventResizable=f,F.setEventData=c,F.clearEventData=p,F.eventEnd=v,F.reportEventElement=m,F.triggerEventDestroy=g,F.eventElementHandlers=y,F.showEvents=b,F.hideEvents=w,F.eventDrop=S,F.eventResize=x;var q=F.defaultEventEnd,R=r.normalizeEvent,U=r.reportEventChange,z={},W={},V=[],$=r.options;F.isHiddenDay=C,F.skipHiddenDays=L,F.getCellsPerWeek=k,F.dateToCell=D,F.dateToDayOffset=P,F.dayOffsetToCellOffset=H,F.cellOffsetToCell=B,F.cellToDate=A,F.cellToCellOffset=O,F.cellOffsetToDayOffset=M,F.dayOffsetToDate=_,F.rangeToSegments=j;var J,K=s("hiddenDays")||[],Q=[],G=[],Y=[],Z=s("isRTL");(function(){s("weekends")===!1&&K.push(0,6);for(var t=0,n=0;7>t;t++)G[t]=n,Q[t]=-1!=e.inArray(t,K),Q[t]||(Y[n]=t,n++);if(J=n,!J)throw"invalid hiddenDays"})()}function ht(){function t(e,t){var n=r(e,!1,!0);dt(n,function(e,t){_(e.event,t)}),b(n,t),dt(n,function(e,t){L("eventAfterRender",e.event,e.event,t)})}function n(e,t,n){var i=r([e],!0,!1),s=[];return dt(i,function(e,r){e.row===t&&r.css("top",n),s.push(r[0])}),s}function r(t,n,r){var s,a,f=K(),h=n?e("<div/>"):f,p=i(t);return o(p),s=u(p),h[0].innerHTML=s,a=h.children(),n&&f.append(a),l(p,a),dt(p,function(e,t){e.hsides=k(t,!0)}),dt(p,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),dt(p,function(e,t){e.outerHeight=t.outerHeight(!0)}),c(p,r),p}function i(e){for(var t=[],n=0;e.length>n;n++){var r=s(e[n]);t.push.apply(t,r)}return t}function s(e){for(var t=e.start,n=S(e),r=tt(t,n),i=0;r.length>i;i++)r[i].event=e;return r}function o(e){for(var t=C("isRTL"),n=0;e.length>n;n++){var r=e[n],i=(t?r.isEnd:r.isStart)?$:X,s=(t?r.isStart:r.isEnd)?J:V,o=i(r.leftCol),u=s(r.rightCol);r.left=o,r.outerWidth=u-o}}function u(e){for(var t="",n=0;e.length>n;n++)t+=f(e[n]);return t}function f(e){var t="",n=C("isRTL"),r=e.event,i=r.url,s=["fc-event","fc-event-hori"];A(r)&&s.push("fc-event-draggable"),e.isStart&&s.push("fc-event-start"),e.isEnd&&s.push("fc-event-end"),s=s.concat(r.className),r.source&&(s=s.concat(r.source.className||[]));var o=z(r,C);return t+=i?"<a href='"+q(i)+"'":"<div",t+=" class='"+s.join(" ")+"'"+" style="+"'"+"position:absolute;"+"left:"+e.left+"px;"+o+"'"+">"+"<div class='fc-event-inner'>",!r.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+q(Q(r.start,r.end,C("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+q(r.title||"")+"</span>"+"</div>",e.isEnd&&O(r)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),t+="</"+(i?"a":"div")+">"}function l(t,n){for(var r=0;t.length>r;r++){var i=t[r],s=i.event,o=n.eq(r),u=L("eventRender",s,s,o);u===!1?o.remove():(u&&u!==!0&&(u=e(u).css({position:"absolute",left:i.left}),o.replaceWith(u),o=u),i.element=o)}}function c(e,t){var n=p(e),r=y(),i=[];if(t)for(var s=0;r.length>s;s++)r[s].height(n[s]);for(var s=0;r.length>s;s++)i.push(r[s].position().top);dt(e,function(e,t){t.css("top",i[e.row]+e.top)})}function p(e){for(var t=I(),n=U(),r=[],i=v(e),s=0;t>s;s++){for(var o=i[s],u=[],a=0;n>a;a++)u.push(0);for(var f=0;o.length>f;f++){var l=o[f];l.top=j(u.slice(l.leftCol,l.rightCol+1));for(var a=l.leftCol;l.rightCol>=a;a++)u[a]=l.top+l.outerHeight}r.push(j(u))}return r}function v(e){var t,n,r,i=I(),s=[];for(t=0;e.length>t;t++)n=e[t],r=n.row,n.element&&(s[r]?s[r].push(n):s[r]=[n]);for(r=0;i>r;r++)s[r]=m(s[r]||[]);return s}function m(e){for(var t=[],n=g(e),r=0;n.length>r;r++)t.push.apply(t,n[r]);return t}function g(e){e.sort(vt);for(var t=[],n=0;e.length>n;n++){for(var r=e[n],i=0;t.length>i&&pt(r,t[i]);i++);t[i]?t[i].push(r):t[i]=[r]}return t}function y(){var e,t=I(),n=[];for(e=0;t>e;e++)n[e]=W(e).find("div.fc-day-content > div");return n}function b(e,t){var n=K();dt(e,function(e,n,r){var i=e.event;i._id===t?w(i,n,e):n[0]._fci=r}),T(n,e,w)}function w(e,t,n){A(e)&&N.draggableDayEvent(e,t,n),n.isEnd&&O(e)&&N.resizableDayEvent(e,t,n),D(e,t)}function E(e,t){var n,r=et();t.draggable({delay:50,opacity:C("dragOpacity"),revertDuration:C("dragRevertDuration"),start:function(i,s){L("eventDragStart",t,e,i,s),H(e,t),r.start(function(r,i,s,o){if(t.draggable("option","revert",!r||!s&&!o),Y(),r){var u=nt(i),f=nt(r);n=d(f,u),G(a(h(e.start),n),a(S(e),n))}else n=0},i,"drag")},stop:function(i,s){r.stop(),Y(),L("eventDragStop",t,e,i,s),n?B(this,e,n,0,e.allDay,i,s):(t.css("filter",""),P(e,t))}})}function x(t,r,i){var s=C("isRTL"),o=s?"w":"e",u=r.find(".ui-resizable-"+o),f=!1;R(r),r.mousedown(function(e){e.preventDefault()}).click(function(e){f&&(e.preventDefault(),e.stopImmediatePropagation())}),u.mousedown(function(s){function u(n){L("eventResizeStop",this,t,n),e("body").css("cursor",""),l.stop(),Y(),c&&F(this,t,c,0,n),setTimeout(function(){f=!1},0)}if(1==s.which){f=!0;var l=et();I(),U();var c,h,p=r.css("top"),d=e.extend({},t),v=ot(st(t.start));Z(),e("body").css("cursor",o+"-resize").one("mouseup",u),L("eventResizeStart",this,t,s),l.start(function(r,s){if(r){var u=rt(s),f=rt(r);if(f=Math.max(f,v),c=it(f)-it(u)){d.end=a(M(t),c,!0);var l=h;h=n(d,i.row,p),h=e(h),h.find("*").css("cursor",o+"-resize"),l&&l.remove(),H(t)}else h&&(P(t),h.remove(),h=null);Y(),G(t.start,a(S(t),c))}},s)}})}var N=this;N.renderDayEvents=t,N.draggableDayEvent=E,N.resizableDayEvent=x;var C=N.opt,L=N.trigger,A=N.isEventDraggable,O=N.isEventResizable,M=N.eventEnd,_=N.reportEventElement,D=N.eventElementHandlers,P=N.showEvents,H=N.hideEvents,B=N.eventDrop,F=N.eventResize,I=N.getRowCnt,U=N.getColCnt;N.getColWidth;var W=N.allDayRow,X=N.colLeft,V=N.colRight,$=N.colContentLeft,J=N.colContentRight;N.dateToCell;var K=N.getDaySegmentContainer,Q=N.calendar.formatDates,G=N.renderDayOverlay,Y=N.clearOverlays,Z=N.clearSelection,et=N.getHoverListener,tt=N.rangeToSegments,nt=N.cellToDate,rt=N.cellToCellOffset,it=N.cellOffsetToDayOffset,st=N.dateToDayOffset,ot=N.dayOffsetToCellOffset}function pt(e,t){for(var n=0;t.length>n;n++){var r=t[n];if(r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0}return!1}function dt(e,t){for(var n=0;e.length>n;n++){var r=e[n],i=r.element;i&&t(r,i,n)}}function vt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function mt(){function t(e,t,i){n(),t||(t=a(e,i)),f(e,t,i),r(e,t,i)}function n(e){c&&(c=!1,l(),u("unselect",null,e))}function r(e,t,n,r){c=!0,u("select",null,e,t,n,r)}function i(t){var i=s.cellToDate,u=s.getIsCellAllDay,a=s.getHoverListener(),c=s.reportDayClick;if(1==t.which&&o("selectable")){n(t);var h;a.start(function(e,t){l(),e&&u(e)?(h=[i(t),i(e)].sort(B),f(h[0],h[1],!0)):h=null},t),e(document).one("mouseup",function(e){a.stop(),h&&(+h[0]==+h[1]&&c(h[0],!0,e),r(h[0],h[1],!0,e))})}}var s=this;s.select=t,s.unselect=n,s.reportSelection=r,s.daySelectionMousedown=i;var o=s.opt,u=s.trigger,a=s.defaultSelectionEnd,f=s.renderSelection,l=s.clearSelection,c=!1;o("selectable")&&o("unselectAuto")&&e(document).mousedown(function(t){var r=o("unselectCancel");r&&e(t.target).parents(r).length||n(t)})}function gt(){function t(t,n){var r=s.shift();return r||(r=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),i.push(r.css(t).show()),r}function n(){for(var e;e=i.shift();)s.push(e.hide().unbind())}var r=this;r.renderOverlay=t,r.clearOverlays=n;var i=[],s=[]}function yt(e){var t,n,r=this;r.build=function(){t=[],n=[],e(t,n)},r.cell=function(e,r){var i,s=t.length,o=n.length,u=-1,a=-1;for(i=0;s>i;i++)if(r>=t[i][0]&&t[i][1]>r){u=i;break}for(i=0;o>i;i++)if(e>=n[i][0]&&n[i][1]>e){a=i;break}return u>=0&&a>=0?{row:u,col:a}:null},r.rect=function(e,r,i,s,o){var u=o.offset();return{top:t[e][0]-u.top,left:n[r][0]-u.left,width:n[s][1]-n[r][0],height:t[i][1]-t[e][0]}}}function bt(t){function n(e){wt(e);var n=t.cell(e.pageX,e.pageY);(!n!=!o||n&&(n.row!=o.row||n.col!=o.col))&&(n?(s||(s=n),i(n,s,n.row-s.row,n.col-s.col)):i(n,s),o=n)}var r,i,s,o,u=this;u.start=function(u,a,f){i=u,s=o=null,t.build(),n(a),r=f||"mousemove",e(document).bind(r,n)},u.stop=function(){return e(document).unbind(r,n),o}}function wt(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Et(e){function n(t){return i[t]=i[t]||e(t)}var r=this,i={},s={},o={};r.left=function(e){return s[e]=s[e]===t?n(e).position().left:s[e]},r.right=function(e){return o[e]=o[e]===t?r.left(e)+n(e).width():o[e]},r.clear=function(){i={},s={},o={}}}var St={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},xt={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Tt=e.fullCalendar={version:"1.6.4"},Nt=Tt.views={};e.fn.fullCalendar=function(n){if("string"==typeof n){var i,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=e.data(this,"fullCalendar");if(r&&e.isFunction(r[n])){var o=r[n].apply(r,s);i===t&&(i=o),"destroy"==n&&e.removeData(this,"fullCalendar")}}),i!==t?i:this}n=n||{};var o=n.eventSources||[];return delete n.eventSources,n.events&&(o.push(n.events),delete n.events),n=e.extend(!0,{},St,n.isRTL||n.isRTL===t&&St.isRTL?xt:{},n),this.each(function(t,i){var s=e(i),u=new r(s,n,o);s.data("fullCalendar",u),u.render()}),this},Tt.sourceNormalizers=[],Tt.sourceFetchers=[];var Ct={dataType:"json",cache:!1},kt=1;Tt.addDays=a,Tt.cloneDate=h,Tt.parseDate=m,Tt.parseISO8601=g,Tt.parseTime=y,Tt.formatDate=b,Tt.formatDates=w;var Lt=["sun","mon","tue","wed","thu","fri","sat"],At=864e5,Ot=36e5,Mt=6e4,_t={s:function(e){return e.getSeconds()},ss:function(e){return F(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return F(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return F(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return F(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return F(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return F(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return 12>e.getHours()?"a":"p"},tt:function(e){return 12>e.getHours()?"am":"pm"},T:function(e){return 12>e.getHours()?"A":"P"},TT:function(e){return 12>e.getHours()?"AM":"PM"},u:function(e){return b(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&20>t?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return E(e)}};Tt.dateFormatters=_t,Tt.applyAll=W,Nt.month=V,Nt.basicWeek=$,Nt.basicDay=J,n({weekMode:"fixed"}),Nt.agendaWeek=G,Nt.agendaDay=Y,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),define("fullCalendar",["jquery-ui"],function(){}),angular.module("ui.calendar",[]).constant("uiCalendarConfig",{}).directive("uiCalendar",["uiCalendarConfig","$locale",function(e,t){var n=function(e){var t,n;t=[];for(n in e)t[n]=e[n];return t},r=t.DATETIME_FORMATS;e=angular.extend({monthNames:n(r.MONTH),monthNamesShort:n(r.SHORTMONTH),dayNames:n(r.DAY),dayNamesShort:n(r.SHORTDAY)},e||{});var i=1,s=1;return{require:"ngModel",scope:{ngModel:"=",config:"="},restrict:"A",link:function(t,n,r){var o=t.ngModel;t.destroy=function(){r.calendar?t.calendar=t.$parent[r.calendar]=n.html(""):t.calendar=n.html("")},t.destroy(),t.init=function(){var n={eventSources:o};angular.extend(n,e,r.uiCalendar?t.$parent.$eval(r.uiCalendar):{}),t.calendar.fullCalendar(n)},t.init();var u=function(e,t){var n,r=function(){var n=angular.isFunction(e)?e():e;return n.map(function(e){var n=t(e);return s[n]=e,n})},i=function(e,t){var n=[],r={},i,s;for(i=0,s=t.length;i<s;i++)r[t[i]]=!0;for(i=0,s=e.length;i<s;i++)r[e[i]]||n.push(e[i]);return n},s={},o=function(e,r){var o,u,a,f,l={},c=i(r,e);for(o=0,u=c.length;o<u;o++){var h=c[o];a=s[h],delete s[h];var p=t(a);p===h?n.onRemoved(a):(l[p]=h,n.onChanged(a))}var d=i(e,r);for(o=0,u=d.length;o<u;o++)f=d[o],a=s[f],l[f]||n.onAdded(a)};return n={subscribe:function(e,t){e.$watch(r,function(e,n){(!t||t(e,n)!==!1)&&o(e,n)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}},a=!1,f=u(o,function(e){return e.__id||(e.__id=i++)});f.subscribe(t),f.onAdded=function(e){t.calendar.fullCalendar("addEventSource",e),a=!0},f.onRemoved=function(e){t.calendar.fullCalendar("removeEventSource",e),a=!0};var l=function(){var e=[];for(var t=0,n=o.length;t<n;t++){var r=o[t];angular.isArray(r)&&e.push(r)}return Array.prototype.concat.apply([],e)},c=u(l,function(e){return e.__uiCalId||(e.__uiCalId=s++),""+e.__uiCalId+(e.id||"")+(e.title||"")+(e.url||"")+(+e.start||"")+(+e.end||"")+(e.allDay||!1)+(e.className||"")});c.subscribe(t,function(e,n){if(a)return t.calendar.fullCalendar("rerenderEvents"),a=!1,!1}),c.onAdded=function(e){t.calendar.fullCalendar("renderEvent",e)},c.onRemoved=function(e){t.calendar.fullCalendar("removeEvents",function(t){return t===e})},c.onChanged=function(e){t.calendar.fullCalendar("updateEvent",e)}}}}]),define("angular-ui-calendar",["angular","fullCalendar"],function(){}),!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),r=-1,i=this.length;++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1;);return this}})}(jQuery),function(e,t){function n(e){var t,n,r,i;if(!e||e.length<1)return e;for(t="",n=0,r=e.length;r>n;n++)i=e.charAt(n),t+=I[i]||i;return t}function r(e,t){for(var n=0,r=t.length;r>n;n+=1)if(s(e,t[n]))return n;return-1}function i(){var t=e(F);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function s(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function o(t,n){var r,i,s;if(null===t||t.length<1)return[];for(r=t.split(n),i=0,s=r.length;s>i;i+=1)r[i]=e.trim(r[i]);return r}function u(e){return e.outerWidth(!1)-e.width()}function a(n){var r="keyup-change-value";n.on("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.on("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function f(n){n.on("mousemove",function(n){var r=j;(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function l(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function c(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function h(e,t){var n=l(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){r(e.target,t.get())>=0&&n(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],r=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(r,r):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function d(t){t=e(t)[0];var n=0,r=0;if("selectionStart"in t)n=t.selectionStart,r=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-r}return{offset:n,length:r}}function v(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function g(t){if(!P){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);P=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),P.attr("class","select2-sizer"),e("body").append(P)}return P.text(t.val()),P.width()}function y(t,n,r){var i,s,o=[];i=t.attr("class"),i&&(i=""+i,e(i.split(" ")).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),i=n.attr("class"),i&&(i=""+i,e(i.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(s=r(this),s&&o.push(this))})),t.attr("class",o.join(" "))}function b(e,t,r,i){var s=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),o=t.length;return 0>s?(r.push(i(e)),void 0):(r.push(i(e.substring(0,s))),r.push("<span class='select2-match'>"),r.push(i(e.substring(s,s+o))),r.push("</span>"),r.push(i(e.substring(s+o,e.length))),void 0)}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function E(n){var r,i=null,s=n.quietMillis||100,o=n.url,u=this;return function(a){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,s=o,f=n.transport||e.fn.select2.ajaxDefaults.transport,l={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},c=e.extend({},e.fn.select2.ajaxDefaults.params,l);r=r?r.call(u,a.term,a.page,a.context):null,s="function"==typeof s?s.call(u,a.term,a.page,a.context):s,i&&i.abort(),n.params&&(e.isFunction(n.params)?e.extend(c,n.params.call(u)):e.extend(c,n.params)),e.extend(c,{url:s,dataType:n.dataType,data:r,success:function(e){var t=n.results(e,a.page);a.callback(t)}}),i=f.call(u,c)},s)}}function S(t){var n,r,i=t,s=function(e){return""+e.text};e.isArray(i)&&(r=i,i={results:r}),e.isFunction(i)===!1&&(r=i,i=function(){return r});var o=i();return o.text&&(s=o.text,e.isFunction(s)||(n=o.text,s=function(e){return e[n]})),function(t){var n,r=t.term,o={results:[]};return""===r?(t.callback(i()),void 0):(n=function(i,o){var u,a;if(i=i[0],i.children){u={};for(a in i)i.hasOwnProperty(a)&&(u[a]=i[a]);u.children=[],e(i.children).each2(function(e,t){n(t,u.children)}),(u.children.length||t.matcher(r,s(u),i))&&o.push(u)}else t.matcher(r,s(i),i)&&o.push(i)},e(i().results).each2(function(e,t){n(t,o.results)}),t.callback(o),void 0)}}function x(n){var r=e.isFunction(n);return function(i){var s=i.term,o={results:[]};e(r?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===s||i.matcher(s,n))&&o.results.push(e?this:{id:this,text:this})}),i.callback(o)}}function T(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function N(t){return e.isFunction(t)?t():t}function C(t){var n=0;return e.each(t,function(e,t){t.children?n+=C(t.children):n++}),n}function k(e,n,r,i){var o,u,a,f,l,c=e,h=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){for(u=-1,a=0,f=i.tokenSeparators.length;f>a&&(l=i.tokenSeparators[a],u=e.indexOf(l),!(u>=0));a++);if(0>u)break;if(o=e.substring(0,u),e=e.substring(u+l.length),o.length>0&&(o=i.createSearchChoice.call(this,o,n),o!==t&&null!==o&&i.id(o)!==t&&null!==i.id(o))){for(h=!1,a=0,f=n.length;f>a;a++)if(s(i.id(o),i.id(n[a]))){h=!0;break}h||r(o)}}return c!==e?e:void 0}function L(t,n){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}if(window.Select2===t){var A,O,M,_,D,P,H,B,j={x:0,y:0},A={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case A.LEFT:case A.RIGHT:case A.UP:case A.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case A.SHIFT:case A.CTRL:case A.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},F="<div class='select2-measure-scrollbar'></div>",I={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};H=e(document),D=function(){var e=1;return function(){return e++}}(),H.on("mousemove",function(e){j.x=e.pageX,j.y=e.pageY}),O=L(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,s,o,u,l=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+D()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return n.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(N(n.containerCss)),this.container.addClass(N(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",v),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(N(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",v),this.results=r=this.container.find(l),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",v),f(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",l,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",l,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var s=r.scrollTop();i>0&&0>=s-i?(r.scrollTop(0),v(e)):0>i&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),v(e))}),a(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",l,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var o=n.element.prop("disabled");o===t&&(o=!1),this.enable(!o);var u=n.element.prop("readonly");u===t&&(u=!1),this.readonly(u),B=B||i(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:s(e.attr("locked"),"locked")||s(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var r,i,u,a,f=this;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(r,i,s){var o,u=this.opts.id;o=function(r,i,a){var l,c,h,p,d,v,m,g,y,b;for(r=n.sortResults(r,i,s),l=0,c=r.length;c>l;l+=1)h=r[l],d=h.disabled===!0,p=!d&&u(h)!==t,v=h.children&&h.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+a),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),d&&m.addClass("select2-disabled"),v&&m.addClass("select2-result-with-children"),m.addClass(f.opts.formatResultCssClass(h)),g=e(document.createElement("div")),g.addClass("select2-result-label"),b=n.formatResult(h,g,s,f.opts.escapeMarkup),b!==t&&g.html(b),m.append(g),v&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),o(h.children,y,a+1),m.append(y)),m.data("select2-data",h),i.append(m)},o(i,r,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(u=n.id,n.id=function(e){return e[u]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(i?(n.query=this.bind(function(e){var n,i,s,o={results:[],more:!1},u=e.term;s=function(t,n){var r;t.is("option")?e.matcher(u,t.text(),t)&&n.push(f.optionToData(t)):t.is("optgroup")&&(r=f.optionToData(t),t.children().each2(function(e,t){s(t,r.children)}),r.children.length>0&&n.push(r))},n=r.children(),this.getPlaceholder()!==t&&n.length>0&&(i=this.getPlaceholderOption(),i&&(n=n.not(i))),n.each2(function(e,t){s(t,o.results)}),e.callback(o)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(a=n.element.data("ajax-url"),a&&a.length>0&&(n.ajax.url=a),n.query=E.call(n.element,n.ajax)):"data"in n?n.query=S(n.data):"tags"in n&&(n.query=x(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,r){var i=[];e(o(t.val(),n.separator)).each(function(){var t={id:this,text:this},r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){return s(this.id,t.id)?(t=this,!1):void 0}),i.push(t)}),r(i)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,n=this.opts.element;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,r=n.prop("disabled");r===t&&(r=!1),this.enable(!r);var e=n.prop("readonly");e===t&&(e=!1),this.readonly(e),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(N(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(N(this.opts.dropdownCssClass))}),n.on("propertychange.select2 DOMAttrModified.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,r,i,s=this.dropdown,o=this.container.offset(),u=this.container.outerHeight(!1),a=this.container.outerWidth(!1),f=s.outerHeight(!1),l=e(window).scrollLeft()+e(window).width(),c=e(window).scrollTop()+e(window).height(),h=o.top+u,p=o.left,d=c>=h+f,v=o.top-f>=this.body().scrollTop(),m=s.outerWidth(!1),g=l>=p+m,y=s.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(i=e(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),m=s.outerWidth(!1)+(i.scrollHeight===i.clientHeight?0:B.width),m>a?a=m:m=a,g=l>=p+m):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),h-=t.top,p-=t.left),y?(n=!0,!v&&d&&(n=!1)):(n=!1,!d&&v&&(n=!0)),g||(p=o.left+a-m),n?(h=o.top-f,this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),r=e.extend({top:h,left:p,width:a},N(this.opts.dropdownCss)),s.css(r)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,n=this.containerId,r="scroll."+n,i="resize."+n,s="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var n,r=e("#select2-drop");r.length>0&&(n=r.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!1}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(i+" "+r+" "+s,function(){o.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return N(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,r,i,s,o,u,a=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return a.scrollTop(0),void 0;t=this.findHighlightableChoices().find(".select2-result-label"),r=e(t[n]),i=r.offset().top+r.outerHeight(!0),n===t.length-1&&(u=a.find("li.select2-more-results"),u.length>0&&(i=u.offset().top+u.outerHeight(!0))),s=a.offset().top+a.outerHeight(!0),i>s&&a.scrollTop(a.scrollTop()+(i-s)),o=r.offset().top-a.offset().top,0>o&&"none"!=r.css("display")&&a.scrollTop(a.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),r=this.highlight();r>-1&&r<n.length;){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n,i,s=this.findHighlightableChoices();return 0===arguments.length?r(s.filter(".select2-highlighted")[0],s.get()):(t>=s.length&&(t=s.length-1),0>t&&(t=0),this.removeHighlight(),n=e(s[t]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),i=n.data("select2-data"),i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),r=this.resultsPage+1,i=this,s=this.search.val(),o=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:r,context:o,matcher:this.opts.matcher,callback:this.bind(function(e){i.opened()&&(i.opts.populateResults.call(this,t,e.results,{term:s,page:r,context:o}),i.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(i.opts.formatLoadMore(r+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):n.remove(),i.positionDropdown(),i.resultsPage=r,i.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function r(){f.removeClass("select2-active"),h.positionDropdown()}function i(e){l.html(e),r()}var o,u,a,f=this.search,l=this.results,c=this.opts,h=this,p=f.val(),d=e.data(this.container,"select2-last-term");if((n===!0||!d||!s(p,d))&&(e.data(this.container,"select2-last-term",p),n===!0||this.showSearchInput!==!1&&this.opened())){a=++this.queryCount;var v=this.getMaximumSelectionSize();if(v>=1&&(o=this.data(),e.isArray(o)&&o.length>=v&&T(c.formatSelectionTooBig,"formatSelectionTooBig")))return i("<li class='select2-selection-limit'>"+c.formatSelectionTooBig(v)+"</li>"),void 0;if(f.val().length<c.minimumInputLength)return T(c.formatInputTooShort,"formatInputTooShort")?i("<li class='select2-no-results'>"+c.formatInputTooShort(f.val(),c.minimumInputLength)+"</li>"):i(""),n&&this.showSearch&&this.showSearch(!0),void 0;if(c.maximumInputLength&&f.val().length>c.maximumInputLength)return T(c.formatInputTooLong,"formatInputTooLong")?i("<li class='select2-no-results'>"+c.formatInputTooLong(f.val(),c.maximumInputLength)+"</li>"):i(""),void 0;c.formatSearching&&0===this.findHighlightableChoices().length&&i("<li class='select2-searching'>"+c.formatSearching()+"</li>"),f.addClass("select2-active"),this.removeHighlight(),u=this.tokenize(),u!=t&&null!=u&&f.val(u),this.resultsPage=1,c.query({element:c.element,term:f.val(),page:this.resultsPage,context:null,matcher:c.matcher,callback:this.bind(function(o){var u;if(a==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==f.val()&&(u=this.opts.createSearchChoice.call(h,f.val(),o.results),u!==t&&null!==u&&h.id(u)!==t&&null!==h.id(u)&&0===e(o.results).filter(function(){return s(h.id(this),h.id(u))}).length&&o.results.unshift(u)),0===o.results.length&&T(c.formatNoMatches,"formatNoMatches"))return i("<li class='select2-no-results'>"+c.formatNoMatches(f.val())+"</li>"),void 0;l.empty(),h.opts.populateResults.call(this,l,o.results,{term:f.val(),page:this.resultsPage,context:null}),o.more===!0&&T(c.formatLoadMore,"formatLoadMore")&&(l.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(c.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),r(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r?(this.highlight(t),this.onSelect(r,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children().first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function n(){var n,r,i,s,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(r=n.split(";"),s=0,o=r.length;o>s;s+=1)if(i=r[s].replace(/\s/g,"").match(/[^-]width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);null!==r&&this.container.css("width",r)}}),M=L(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,r,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(r=n.createTextRange(),r.collapse(!1),r.select()):n.setSelectionRange&&(i=this.search.val().length,n.setSelectionRange(i,i)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=this.container,r=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+D()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===A.PAGE_UP||e.which===A.PAGE_DOWN)return v(e),void 0;switch(e.which){case A.UP:case A.DOWN:return this.moveHighlight(e.which===A.UP?-1:1),v(e),void 0;case A.ENTER:return this.selectHighlighted(),v(e),void 0;case A.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case A.ESC:return this.cancel(e),v(e),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==A.TAB&&!A.isControl(e)&&!A.isFunctionKey(e)&&e.which!==A.ESC){if(this.opts.openOnEnter===!1&&e.which===A.ENTER)return v(e),void 0;if(e.which==A.DOWN||e.which==A.UP||e.which==A.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),v(e),void 0}return e.which==A.DELETE||e.which==A.BACKSPACE?(this.opts.allowClear&&this.clear(),v(e),void 0):void 0}})),a(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),v(t)})),r.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){v(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var r=e.Event("select2-clearing");if(this.opts.element.trigger(r),r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.is(":selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=e.find(":selected");t(n.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val(),o=null;t.query({matcher:function(e,n,r){var u=s(i,t.id(r));return u&&(o=r),u},callback:e.isFunction(r)?function(){r(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var r=0,i=this;if(this.findHighlightableChoices().each2(function(e,t){return s(i.id(t.data("select2-data")),i.opts.element.val())?(r=e,!1):void 0}),n!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0)),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(C(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.focusser.focus(),s(n,this.id(e))||this.triggerChange({added:e,removed:r})}},updateSelection:function(e){var n,r,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(n=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),n!==t&&i.append(n),r=this.opts.formatSelectionCssClass(e,i),r!==t&&i.addClass(r),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,r=null,i=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return r=i.optionToData(t),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:s});else{if(!e&&0!==e)return this.clear(n),void 0;if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),n&&i.triggerChange({added:e,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,r=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(r=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),r&&this.triggerChange({added:e,removed:n})):this.clear(r),void 0)}}),_=L(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=[];e.find(":selected").each2(function(e,t){r.push(n.optionToData(t))}),t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=o(n.val(),t.separator),u=[];t.query({matcher:function(n,r,o){var a=e.grep(i,function(e){return s(e,t.id(o))}).length;return a&&u.push(o),a},callback:e.isFunction(r)?function(){for(var e=[],n=0;n<i.length;n++)for(var o=i[n],a=0;a<u.length;a++){var f=u[a];if(s(o,t.id(f))){e.push(f),u.splice(a,1);break}}r(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var r=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){r.search[0].focus(),r.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+D()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),r=n.prev(".select2-search-choice:not(.select2-locked)"),i=n.next(".select2-search-choice:not(.select2-locked)"),s=d(this.search);if(!(!n.length||e.which!=A.LEFT&&e.which!=A.RIGHT&&e.which!=A.BACKSPACE&&e.which!=A.DELETE&&e.which!=A.ENTER)){var o=n;return e.which==A.LEFT&&r.length?o=r:e.which==A.RIGHT?o=i.length?i:null:e.which===A.BACKSPACE?(this.unselect(n.first()),this.search.width(10),o=r.length?r:i):e.which==A.DELETE?(this.unselect(n.first()),this.search.width(10),o=i.length?i:null):e.which==A.ENTER&&(o=null),this.selectChoice(o),v(e),o&&o.length||this.open(),void 0}if((e.which===A.BACKSPACE&&1==this.keydowns||e.which==A.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),v(e),void 0;if(this.selectChoice(null),this.opened())switch(e.which){case A.UP:case A.DOWN:return this.moveHighlight(e.which===A.UP?-1:1),v(e),void 0;case A.ENTER:return this.selectHighlighted(),v(e),void 0;case A.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case A.ESC:return this.cancel(e),v(e),void 0}if(e.which!==A.TAB&&!A.isControl(e)&&!A.isFunctionKey(e)&&e.which!==A.BACKSPACE&&e.which!==A.ESC){if(e.which===A.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===A.PAGE_UP||e.which===A.PAGE_DOWN)&&v(e),e.which===A.ENTER&&v(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],i=[],s=this;e(t).each(function(){r(s.id(this),n)<0&&(n.push(s.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r,i,s=!n.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),u=e("<li class='select2-search-choice select2-locked'><div></div></li>"),a=s?o:u,f=this.id(n),l=this.getVal();r=this.opts.formatSelection(n,a.find("div"),this.opts.escapeMarkup),r!=t&&a.find("div").replaceWith("<div>"+r+"</div>"),i=this.opts.formatSelectionCssClass(n,a.find("div")),i!=t&&a.addClass(i),s&&a.find(".select2-search-choice-close").on("mousedown",v).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),v(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",n),a.insertBefore(this.searchContainer),l.push(f),this.setVal(l)},unselect:function(e){var t,n,i=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(t=e.data("select2-data")){for(;(n=r(this.id(t),i))>=0;)i.splice(n,1),this.setVal(i),this.select&&this.postprocessResults();e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t})}},postprocessResults:function(e,t,n){var i=this.getVal(),s=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),u=this;s.each2(function(e,t){var n=u.id(t.data("select2-data"));r(n,i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&u.highlight(0),!this.opts.createSearchChoice&&!s.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&T(u.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+u.opts.formatNoMatches(u.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-u(this.search)},resizeSearch:function(){var e,t,n,r,i,s=u(this.search);e=g(this.search)+10,t=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(t-r)-s,e>i&&(i=n-s),40>i&&(i=n-s),0>=i&&(i=e),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){r(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var r=0;r<e.length;r++)s(this.opts.id(t[n]),this.opts.id(e[r]))&&(t.splice(n,1),n--,e.splice(r,1),r--);return{added:t,removed:e}},val:function(n,r){var i,s=this;if(0===arguments.length)return this.getVal();if(i=this.data(),i.length||(i=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),r&&this.triggerChange({added:this.data(),removed:i}),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,s.id);s.setVal(n),s.updateSelection(t),s.clearSearch(),r&&s.triggerChange(s.buildChangeDetails(i,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var r,i,s=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(i=this.data(),t||(t=[]),r=e.map(t,function(e){return s.opts.id(e)}),this.setVal(r),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data())),void 0)}}),e.fn.select2=function(){var n,i,s,o,u,a=Array.prototype.slice.call(arguments,0),f=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],l=["opened","isFocused","container","dropdown"],c=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===a.length||"object"==typeof a[0])n=0===a.length?{}:e.extend({},a[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?u=n.element.prop("multiple"):(u=n.multiple||!1,"tags"in n&&(n.multiple=u=!0)),i=u?new _:new M,i.init(n);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(r(a[0],f)<0)throw"Unknown method: "+a[0];if(o=t,i=e(this).data("select2"),i===t)return;if(s=a[0],"container"===s?o=i.container:"dropdown"===s?o=i.dropdown:(h[s]&&(s=h[s]),o=i[s].apply(i,a.slice(1))),r(a[0],l)>=0||r(a[0],c)&&1==a.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];return b(e.text,n.term,i,r),i.join("")},formatSelection:function(e,n,r){return e?r(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:E,local:S,tags:x},util:{debounce:l,markMatch:b,escapeMarkup:w,stripDiacritics:n},"class":{"abstract":O,single:M,multi:_}}}}(jQuery),define("select2",["jquery"],function(){}),angular.module("ui.select2",[]).value("uiSelect2Config",{}).directive("uiSelect2",["uiSelect2Config","$timeout",function(e,t){var n={};return e&&angular.extend(n,e),{require:"ngModel",compile:function(e,r){var i,s,o,u=e.is("select"),a=angular.isDefined(r.multiple);return e.is("select")&&(s=e.find("option[ng-repeat], option[data-ng-repeat]"),s.length&&(o=s.attr("ng-repeat")||s.attr("data-ng-repeat"),i=jQuery.trim(o.split("|")[0]).split(" ").pop())),function(e,s,o,f){var l=angular.extend({},n,e.$eval(o.uiSelect2)),c=function(e){var t;return l.simple_tags?(t=[],angular.forEach(e,function(e,n){t.push(e.id)})):t=e,t},h=function(e){var t=[];return e?(l.simple_tags?(t=[],angular.forEach(e,function(e,n){t.push({id:e,text:e})})):t=e,t):t};u?(delete l.multiple,delete l.initSelection):a&&(l.multiple=!0);if(f){e.$watch(r.ngModel,function(e,t){if(!e)return;if(e===t)return;f.$render()},!0),f.$render=function(){u?s.select2("val",f.$viewValue):l.multiple?s.select2("data",h(f.$viewValue)):angular.isObject(f.$viewValue)?s.select2("data",f.$viewValue):f.$viewValue?s.select2("val",f.$viewValue):s.select2("data",null)},i&&e.$watch(i,function(e,n,r){if(!e)return;t(function(){s.select2("val",f.$viewValue),s.trigger("change")})}),f.$parsers.push(function(e){var t=s.prev();return t.toggleClass("ng-invalid",!f.$valid).toggleClass("ng-valid",f.$valid).toggleClass("ng-invalid-required",!f.$valid).toggleClass("ng-valid-required",f.$valid).toggleClass("ng-dirty",f.$dirty).toggleClass("ng-pristine",f.$pristine),e});if(!u){s.bind("change",function(){if(e.$$phase)return;e.$apply(function(){f.$setViewValue(c(s.select2("data")))})});if(l.initSelection){var p=l.initSelection;l.initSelection=function(e,t){p(e,function(e){f.$setViewValue(c(e)),t(e)})}}}}s.bind("$destroy",function(){s.select2("destroy")}),o.$observe("disabled",function(e){s.select2("enable",!e)}),o.$observe("readonly",function(e){s.select2("readonly",!!e)}),o.ngMultiple&&e.$watch(o.ngMultiple,function(e){s.select2(l)}),t(function(){s.select2(l),s.val(f.$viewValue),f.$render(),!l.initSelection&&!u&&f.$setViewValue(c(s.select2("data")))})}}}}]),define("angular-ui-select2",["angular","select2"],function(){}),angular.module("ezfb",[]).provider("$FB",function(){function e(t,n){if(0!==n.length){var r=n.shift();t[r]||(t[r]={}),e(t,n)}}function t(e,t){return angular.isObject(t)?(angular.extend(e,t),void 0):angular.copy(e)}function n(e,t,n){return function(){return e.apply(t,n)}}var r=-1,i={api:[1,2,3],ui:1,getLoginStatus:0,login:0,logout:0,"Event.subscribe":1,"Event.unsubscribe":r,"XFBML.parse":r,"Canvas.Prefetcher.addStaticResource":r,"Canvas.Prefetcher.setCollectionMode":r,"Canvas.hideFlashElement":r,"Canvas.scrollTo":r,"Canvas.setAutoGrow":r,"Canvas.setDoneLoading":0,"Canvas.setSize":r,"Canvas.setUrlHandler":0,"Canvas.showFlashElement":r,"Canvas.startTimer":r,"Canvas.stopTimer":0},s={status:!0,cookie:!0,xfbml:!0};return{setInitParams:function(e){t(s,e)},getInitParams:function(){return t(s)},$get:["$window","$q","$document","$parse","$rootScope",function(t,o,u,l,h){var p,v;if(!s.appId)throw new Error("appId required.");return u[0].getElementById("fb-root")||u.find("body").append('<div id="fb-root"></div>'),p=o.defer(),function(e){var t,n="facebook-jssdk",r=e.getElementsByTagName("script")[0];e.getElementById(n)||(t=e.createElement("script"),t.id=n,t.async=!0,t.src="//connect.facebook.net/en_US/all.js",r.parentNode.insertBefore(t,r))}(u[0]),t.fbAsyncInit=function(){t.FB.init(s),v.$$ready=!0,h.$apply(function(){p.resolve()})},v={$$ready:!1},angular.forEach(i,function(i,s){e(v,s.split(/\./));var u=l(s),f=u.assign;f(v,function(){var e=Array.prototype.slice.call(arguments),a=n(function(e){var n=o.defer(),a=function(t){for(var r=angular.isFunction(e[t])?e[t]:angular.noop,i=function(){var e=Array.prototype.slice.call(arguments);h.$$phase?(r.apply(null,e),n.resolve.apply(n,e)):h.$apply(function(){r.apply(null,e),n.resolve.apply(n,e)})};e.length<=t;)e.push(null);e[t]=i};if(i!==r)if(angular.isNumber(i))a(i);else if(angular.isArray(i)){var f,l;for(f=0;f<i.length;f++)if(l=i[f],e.length==l||e.length==l+1&&angular.isFunction(e[l])){a(l);break}}var c=u(t.FB);if(!c)throw new Error("Facebook API `FB."+s+"` doesn't exist.");return c.apply(t.FB,e),n.promise},null,[e]);return i!==r?p.promise.then(a):(p.promise.then(a),void 0)})}),v}]}}).directive("ezfbXfbml",["$FB","$parse","$compile","$timeout",function(e,t,n,r){return{restrict:"EAC",compile:function(i){var s=i.html();return function(i,o,u){var l=!0,h=u.onrender||"",p=function(){l&&(i.$eval(h),l=!1)},v="xfbml.render";h&&(e.Event.subscribe(v,p),o.bind("$destroy",function(){e.Event.unsubscribe(v,p),o.unbind("$destroy")})),e.XFBML.parse(o[0]);var m=t(u.ezfbXfbml).assign;i.$watch(u.ezfbXfbml,function(t){t&&(l=!0,o.html(s),n(o.contents())(i),r(function(){e.XFBML.parse(o[0])}),(m||angular.noop)(i,!1))},!0)}}}}]),define("angular-easyfb",["angular"],function(){}),angular.module("imageupload",[]).directive("image",["$q",function(e){"use strict";var t=window.URL||window.webkitURL,n=function(){var e="fileupload-resize-area",t=document.getElementById(e);return t||(t=document.createElement("canvas"),t.id=e,t.style.visibility="hidden",document.body.appendChild(t)),t},r=function(e,t){var r=t.resizeMaxHeight||300,i=t.resizeMaxWidth||250,s=t.resizeQuality||.7,o=t.resizeType||"image/jpg",u=n(),a=e.height,f=e.width;f>a?f>i&&(a=Math.round(a*=i/f),f=i):a>r&&(f=Math.round(f*=r/a),a=r),u.width=f,u.height=a;var l=u.getContext("2d");return l.drawImage(e,0,0,f,a),u.toDataURL(o,s)},i=function(e,t){var n=new Image;n.onload=function(){t(n)},n.src=e},s=function(t){var n=e.defer(),r=new FileReader;return r.onload=function(e){n.resolve(e.target.result)},r.readAsDataURL(t),n.promise};return{restrict:"A",scope:{image:"=",resizeMaxHeight:"@?",resizeMaxWidth:"@?",resizeQuality:"@?",resizeType:"@?"},link:function(n,o,u,a){var f=function(e,t){i(e.url,function(i){var s=r(i,n);e.resized={dataURL:s,type:s.match(/:(.+\/.+);/)[1]},t(e)})},l=function(e){n.$apply(function(){u.multiple?n.image.push(e):n.image=e})};o.bind("change",function(e){u.multiple&&(n.image=[]);var r=e.target.files;for(var i=0;i<r.length;i++){var o={file:r[i],url:t.createObjectURL(r[i])};s(r[i]).then(function(e){o.dataURL=e}),n.resizeMaxHeight||n.resizeMaxWidth?f(o,function(e){l(e)}):l(o)}})}}}]),define("image-upload",["angular"],function(){}),define("services/index",["angular"],function(e){return e.module("app.services",[])}),define("controllers/index",["angular","../services/index"],function(e){return e.module("app.controllers",["app.services"])}),define("directives/index",["angular"],function(e){return e.module("app.directives",["app.services"])}),define("filters/index",["angular"],function(e){return e.module("app.filters",[])}),define("animations/index",["angular"],function(e){return e.module("app.animations",[])}),define("app",["angular","http-auth-interceptor","angular-local-storage","angular-sanitize","angular-animate","angular-ui-bootstrap","angular-ui-router","angular-switch-toggle","angular-ui-map","angular-ui-calendar","angular-ui-select2","angular-easyfb","image-upload","./controllers/index","./directives/index","./filters/index","./services/index","./animations/index"],function(e){return e.module("app",["http-auth-interceptor","app.services","app.controllers","app.filters","app.directives","app.animations","LocalStorageModule","ngSanitize","ngAnimate","ui.bootstrap","ui.router","ngSwitchToggle","ui.map","ui.calendar","ui.select2","ezfb","imageupload"])}),define("routes",["./app"],function(e){e.config(["$stateProvider","$locationProvider","$urlRouterProvider",function(e,t,n){t.html5Mode(!0),e.state("index",{url:"/",templateUrl:"partials/home.html",controller:"homeCtrl",title:"Home",access:"notLoggedIn"}).state("inner",{templateUrl:"partials/inner.html",controller:"innerCtrl"}).state("inner.login",{url:"/login",templateUrl:"partials/login.html",controller:"loginCtrl",title:"Login",access:"notLoggedIn"}).state("inner.register",{url:"/register",templateUrl:"partials/register.html",title:"Register",access:"notLoggedIn"}).state("inner.registerGroup",{url:"/register/group",templateUrl:"partials/register-group.html",controller:"registerGroupCtrl",title:"Register",access:"notLoggedIn"}).state("inner.registerStudent",{url:"/register/student",templateUrl:"partials/register-student.html",controller:"registerStudentCtrl",title:"Register",access:"notLoggedIn"}).state("inner.activate",{url:"/activate/:userId/:activateKey",templateUrl:"partials/activate.html",controller:"activateCtrl",title:"Activate Account",access:"notLoggedIn",resolve:{resolvedActivation:["$stateParams","$rootScope","$location","authService",function(e,t,n,r){return r.activateUser(e.userId,e.activateKey).then(function(e){return!0},function(){n.path("/")})}]}}).state("inner.resend",{url:"/resend/:username",templateUrl:"partials/resend.html",controller:"resendCtrl",title:"Activation Link Resent",access:"notLoggedIn",resolve:{resolvedEmailSent:["$stateParams","$rootScope","$location","authService",function(e,t,n,r){return r.resendActivation(e.username).then(function(e){return!0},function(){n.path("/")})}]}}).state("inner.forgot",{url:"/forgot",templateUrl:"partials/forgot.html",controller:"forgotCtrl",title:"Forgotten Password",access:"notLoggedIn"}).state("inner.reset",{url:"/reset/:userId/:resetKey",templateUrl:"partials/reset.html",controller:"resetCtrl",title:"Reset Password",access:"notLoggedIn",resolve:{checkResetKey:["$stateParams","authService","$location",function(e,t,n){if(e.resetKey)return t.checkResetKey(e.resetKey).then(function(e){e||n.path("/login")},function(){n.path("/login")});n.path("/login")}]}}).state("inner.feed",{url:"/feed",templateUrl:"partials/feed.html",controller:"feedCtrl",title:"My Feed",access:"loggedIn"}).state("inner.explore",{url:"/explore",templateUrl:"partials/explore.html",controller:"exploreCtrl",title:"Explore",access:"loggedIn"}).state("inner.calendar",{url:"/calendar",templateUrl:"partials/calendar.html",controller:"calendarCtrl",title:"Events Calendar",access:"loggedIn"}).state("inner.event",{url:"/event/:eventId",templateUrl:"partials/event.html",controller:"eventCtrl",resolve:{resolvedEvent:["$stateParams","$rootScope","eventService","$location",function(e,t,n,r){return n.getEvent(e.eventId).then(function(e){return t.pageTitle=e.title,e},function(){t.originalDestination=r.path(),r.path("/feed")})}]},access:"loggedIn"}).state("inner.post",{url:"/post",templateUrl:"partials/post.html",controller:"postCtrl",title:"Post An Event",access:"loggedIn"}).state("inner.settings",{url:"/settings",templateUrl:"partials/settings.html",controller:"settingsCtrl",title:"Account Settings",access:"loggedIn"}).state("inner.profile",{url:"/profile/:username",templateUrl:"partials/profile.html",controller:"profileCtrl",resolve:{resolvedUser:["$stateParams","$rootScope","userService","$location",function(e,t,n,r){return n.getUserByName(e.username).then(function(e){return t.pageTitle=e.displayName,e},function(){t.originalDestination=r.path(),r.path("/feed")})}]},access:"loggedIn"}).state("inner.contact",{url:"/contact",templateUrl:"partials/contact.html",controller:"contactCtrl",title:"Contact Us"}).state("inner.privacy",{url:"/privacy",templateUrl:"partials/privacy.html",title:"Privacy Policy"}).state("inner.about",{url:"/about",templateUrl:"partials/about.html",title:"About Us"}).state("inner.press",{url:"/press",templateUrl:"partials/press.html",title:"Press"}),n.otherwise("/")}])}),define("templates",["angular","app"],function(e,t){t.run(["$templateCache",function(e){e.put("partials/about.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">About Us</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<div class="line soft--bottom">\n		<div class="unit one-sixth soft-half--right">\n			<a href="/profile/jakemmarsh"><div class="user-img-about" style="background-image:url(\'http://assets.campuslively.com/img/jake.jpg\')"></div></a>\n		</div>\n		<div class="unit five-sixths last-unit">\n			<a href="/profile/jakemmarsh" class="blue"><h2 class="flush normal-lh">Jake Marsh</h2></a>\n			<h3 class="flush--sides nudge-half--ends weight--bold">Co-Founder, CEO</h3>\n			<p class="nudge-half--bottom">Jake Marsh is from Hampden, Maine and is now a Junior at the University of Maine double majoring in Computer Science and Economics. While attending UMaine he has helped to redesign and redevelop the university\'s online magazine, participated in the Student Portfolio Investment Fund, and has also completed many other outside projects. During the Summer of 2013 he worked as a Software Engineering Intern in Chicago, Illinois.</p>\n			<a href="https://twitter.com/jakemmarsh" class="icon-link" target="_blank"><i class="fa fa-twitter beta nudge-half--right" tooltip="Twitter"></i></a>\n			<a href="http://www.linkedin.com/in/jakemmarsh" class="icon-link" target="_blank"><i class="fa fa-linkedin beta nudge-half--right" tooltip="LinkedIn"></i></a>\n			<a href="mailto:jake@campuslively.com" class="icon-link"><i class="fa fa-envelope beta" tooltip="Email"></i></a>\n		</div>\n	</div>\n	<hr />\n	<div class="line soft--top">\n		<div class="unit one-sixth soft-half--right">\n			<a href="/profile/mslick32"><div class="user-img-about" style="background-image: url(\'http://assets.campuslively.com/img/matt.jpg\')"></div></a>\n		</div>\n		<div class="unit five-sixths last-unit">\n			<a href="/profile/slickm32" class="blue"><h2 class="flush normal-lh">Matt Sliwkowski</h2></a>\n			<h3 class="flush--sides nudge-half--ends weight--bold">Co-Founder, COO</h3>\n			<p class="nudge-half--bottom">Matt Sliwkowski is from Sudbury, Massachusetts and is currently a senior at Boston Universitys School of Management, concentrating in finance and entrepreneurship.Since attending BU, Matt has been heavily involved with startups.His sophomore year, he helped The Harvard Bartending Course expand operations to BU.This past Summer, he was accepted into BUs ITEC Accelerator Program for one of his ventures. He has also worked with MassChallenge finalist, TapWalk.</p>\n			<a href="http://www.linkedin.com/pub/matthew-sliwkowski/33/591/997" class="icon-link" target="_blank"><i class="fa fa-linkedin beta nudge-half--right" tooltip="LinkedIn"></i></a>\n			<a href="mailto:matt@campuslively.com" class="icon-link"><i class="fa fa-envelope beta" tooltip="Email"></i></a>\n		</div>\n	</div>\n</div>'),e.put("partials/activate.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Activate Your Account</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<h1 class="green flush">Account Activated!</h1>\n	<p class="gamma nudge--ends">Your account has been successfully activated, and you are now able to log in.</p>\n	<a href="/login" class="btn">Log In</a>\n</div>'),e.put("partials/calendar.html",'<div class="loading" ng-show="loading">\n	<h2 class="flush" ng-show="loading && !gettingPosition">Loading...</h2>\n	<h2 class="flush" ng-show="gettingPosition">Getting your location...</h2>\n</div>\n<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height full-width">\n			<div class="td vertical-align-middle one-half">\n				<h1 class="flush blue">Events Calendar</h1>\n			</div>\n			<div class="td vertical-align-middle one-half text-right">\n				<ng-switch-toggle-group theme="candy" ng-model="currentView" choices="viewOptions" class="float-right" style="display:none;"></ng-switch-toggle-group>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<div ui-calendar="calendarOptions" ng-model="events" calendar="eventCalendar" class="nudge-half--bottom"></div>\n	<div ng-show="loadingDayEvents" class="text-center soft--ends">\n		<div class="box island inline-block">\n			<h1 class="flush blue">Loading events...</h1>\n		</div>\n	</div>\n	<div ng-hide="currentView == \'school\' || dayEvents.length || loadingDayEvents || !showDay" class="text-center soft--ends">\n		<h1 class="blue nudge--ends">There are no upcoming events near you on {{ selectedDay | readableDate}} yet!</h1>\n		<a href="/post" class="btn nudge--top">Post One</a>\n	</div>\n	<div ng-hide="currentView == \'nearby\' || dayEvents.length || loadingDayEvents || !showDay" class="text-center soft--ends">\n		<h1 class="blue nudge--ends">There are no upcoming events for your school on {{ selectedDay | readableDate}} yet!</h1>\n		<a href="/post" class="btn nudge--top">Post One</a>\n	</div>\n	<div ng-show="showDay && dayEvents.length && !loadingDayEvents" id="dayEvents">\n		<div class="table full-width">\n			<div class="tr">\n				<div class="td one-half vertical-align-middle">\n					<h2 class="flush nudge-half--bottom">Events on {{ selectedDay | readableDate }}</h2>\n				</div>\n				<div class="td one-half vertical-align-middle text-right">\n					<div class="dropdown">\n						<a href class="dropdown-toggle">\n							{{ currentSort.label }} <i class="fa fa-chevron-down muted weight--normal"></i>\n						</a>\n						<ul class="dropdown-menu pull-right" style="left:none !important;right:0;">\n							<li ng-repeat="option in sortOptions">\n								<a href ng-bind="option.label" ng-click="changeSort(option)"></a>\n							</li>\n						</ul>\n					</div>\n				</div>\n			</div>\n		</div>\n		<hr />\n		<div class="line fade nudge--ends" ng-repeat="event in dayEvents | orderBy:currentSort.value">\n			<article ng-include="\'templates/event.html\'"></article>\n		</div><!-- event end -->\n	</div>\n</div>\n\n<script type="text/ng-template" id="attendingModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Attending</h3>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n    	<ul ng-show="items.length" class="modal-user-list table full-width">\n	        <li ng-repeat="attendingUser in items" class="tr full-width">\n	        	<div class="td one-tenth vertical-align-middle">\n	        		<div class="user-img-modal" ng-style="{\'background-image\': \'url(\' + attendingUser.pictureUrl + \')\'}">\n	        			<a ng-href="profile/{{attendingUser.username}}" ng-click="clickLink()"></a>\n	        		</div>\n	        	</div>\n	        	<div class="td nine-tenths vertical-align-middle soft--left">\n	        		<a ng-href="profile/{{attendingUser.username}}" ng-click="clickLink()" class="weight--bold" ng-bind="attendingUser.displayName"></a>\n	        	</div>\n			</li>\n		</ul>\n		<div ng-hide="items.length">\n			<h2 class="flush green text-center">No one has RSVPd to this event yet!</h2>\n		</div>\n    </div>\n</script>\n\n<script type="text/ng-template" id="shareModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Share Event</h2>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n    	<h3 class="caps flush--top nudge-half--bottom">Event URL:</h3>\n    	<input type="text" class="full-width" ng-model="eventUrl" input-select readonly="readonly" />\n    	<div class="line nudge--top">\n	    	<div class="unit one-third soft--right">\n	        	<a ng-click="openTweet()" class="btn twitter full-width text-center"><i class="fa fa-twitter"></i> Tweet</a>\n			</div>\n			<div class="unit one-third soft-half--sides">\n				<a href ng-click="shareEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Share</a>\n			</div>\n			<div class="unit one-third last-unit soft--left">\n				<a href ng-click="sendEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Send</a>\n			</div>\n		</div>\n    </div>\n</script>'),e.put("partials/contact.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Contact Us</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<form name="contactForm" ng-submit="sendMessage()" ng-hide="messageSent">\n		<div class="line nudge-half--bottom">\n			<div class="unit one-tenth label-container">\n				<label for="subject" class="caps weight--bold">Subject</label>\n			</div>\n			<div class="unit last-unit nine-tenths">\n				<input type="text" id="subject" ng-model="message.subject" class="full-width" placeholder="Message subject" />\n			</div>\n		</div>\n		<div class="line nudge-half--bottom" ng-show="!user">\n			<div class="unit one-tenth label-container">\n				<label for="email" class="caps weight--bold">Email <span class="red">*</span></label>\n			</div>\n			<div class="unit last-unit nine-tenths">\n				<input type="email" id="email" ng-model="message.replyAddress" class="full-width" placeholder="sample@email.com" ng-required="!user" />\n				<span class="epsilon muted">If you would like us to be able to respond to your message, please provide a valid email address to contact you at.</span>\n			</div>\n		</div>\n		<div class="line nudge-half--bottom">\n			<div class="unit one-tenth label-container">\n				<label for="message" class="caps weight--bold">Message <span class="red">*</span></label>\n			</div>\n			<div class="unit last-unit nine-tenths">\n				<textarea id="message" ng-model="message.body" class="full-width big" placeholder="Your message" required></textarea>\n			</div>\n		</div>\n		<div class="line">\n			<div class="unit nine-tenths">\n				<span class="red weight--bold" ng-show="sendError" ng-bind="sendError"></span>\n			</div>\n			<div class="unit last-unit one-tenth text-right">\n				<input type="submit" class="btn" value="Send Message" ng-disabled="contactForm.$invalid" />\n			</div>\n		</div>\n	</form>\n	<div ng-show="messageSent">\n		<h1 class="green flush">Message Sent!</h1>\n		<p class="gamma nudge--top">Thank you for contacting us. If your message requires a response, we will get back to you as soon as possible.</p>\n	</div>\n</div>'),e.put("partials/event.html",'<div class="white-top normal-lh">\n	<div class="container full-height">\n		<div class="table full-width full-height">\n			<div class="td three-fifths vertical-align-middle text-left">\n				<h2 class="flush--top nudge-half--bottom height--normal">\n					<span ng-bind="event.title"></span>\n					<i class="muted weight--normal zeta fa fa-circle-o" ng-show="event.privacy == \'inviteOnly\'" tooltip="Invite Only" tooltip-placement="right"></i>\n					<i class="muted weight--normal zeta fa fa-circle" ng-show="event.privacy == \'public\'" tooltip="Public" tooltip-placement="right"></i>\n				</h2>\n				<h4 class="flush muted weight--normal" ng-show="event.creator">\n					hosted by\n					<a ng-href="/profile/{{ event.creator.username }}">{{event.creator.displayName}}</a>\n				</h4>\n			</div>\n			<div class="td two-fifths vertical-align-middle text-right" ng-hide="eventPassed">\n				<a href class="btn nudge-half--right" ng-click="rsvpToEvent(event)" ng-hide="isAttending()"><i class="fa fa-thumbs-up"></i> RSVP</a>\n				<a href class="btn nudge-half--right" ng-click="unRsvpToEvent(event)" ng-show="isAttending()"><i class="fa fa-thumbs-o-up"></i> Un-RSVP</a>\n				<a href class="btn nudge-half--right" ng-click="open(\'invite\')"><i class="fa fa-plus-square"></i> Invite</a>\n				<a class="btn" ng-click="open(\'share\')"><i class="fa fa-share-square"></i> Share</a>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<div class="event-img nudge-half--bottom" ng-show="event.pictureUrl" ng-style="{\'background-image\': \'url(\' + event.pictureUrl + \')\'}"></div>\n	<div class="line text-left">\n		<div class="unit three-fourths">\n			<div class="box islet">\n				<div class="event-option-buttons">\n				<a href class="btn--muted epsilon nudge-quarter--right" ng-click="open(\'edit\')" ng-show="event.creator._id == user._id || user.admin == true">Edit</a>\n					<a href class="btn--muted epsilon" ng-click="open(\'delete\')" ng-show="event.creator._id == user._id || user.admin == true">Delete Event</a>\n				</div>\n				<div class="line" ng-show="event.startDate">\n					<div class="unit three-percent">\n						<h4 class="flush--top nudge-half--bottom"><i class="muted fa fa-calendar-o"></i></h4>\n					</div>\n					<div class="unit ninety-seven-percent last-unit">\n						<p class="nudge-half--bottom"><span ng-bind="event.startDate | readableDate"></span> <span class="red nudge-half--left" ng-show="eventPassed">(Event has passed)</span></p>\n					</div>\n				</div>\n				<div class="line" ng-show="event.startTime">\n					<div class="unit three-percent">\n						<h4 class="flush--top nudge-half--bottom"><i class="muted fa fa-clock-o"></i></h4>\n					</div>\n					<div class="unit ninety-seven-percent last-unit">\n						<p class="nudge-half--bottom"><span ng-bind="event.startTime"></span><span ng-show="event.endTime"> - <span ng-bind="event.endTime"></span></span></p>\n					</div>\n				</div>\n				<div class="line" ng-show="event.locationName">\n					<div class="unit three-percent">\n						<h4 class="flush--top nudge-half--bottom"><i class="muted fa fa-map-marker"></i></h4>\n					</div>\n					<div class="unit ninety-seven-percent last-unit">\n						<p class="nudge-half--bottom">{{event.locationName}}<span ng-show="event.roomNumber" ng-bind="\', Room: \' + event.roomNumber"></span></p>\n					</div>\n				</div>\n				<div ui-map="locationMap" ui-options="mapOptions" ui-event="{\'map-tilesloaded\': \'placeMarker()\'}" class="map nudge-half--bottom" ng-show="hasLocation"></div>\n				<div class="line" ng-show="event.description">\n					<div class="unit three-percent">\n						<h4 class="flush"><i class="muted fa fa-align-left"></i></h4>\n					</div>\n					<div class="unit ninety-seven-percent last-unit">\n						<p class="pre-wrap" ng-bind-html="event.description | urlAndFormat"></p>\n					</div>\n				</div>\n                <div class="line nudge--top" ng-show="event.tags">\n                    <div class="unit three-percent"></div>\n                    <div class="unit ninety-seven-percent last-unit">\n                        <ul class="tags">\n                            <li ng-repeat="tag in event.tags" ng-bind="tag"></li>\n                        </ul>\n                    </div>\n                </div>\n			</div>\n			<form name="commentForm" class="full-width nudge-half--top clearfix" ng-submit="postComment()" ng-hide="eventPassed">\n				<textarea placeholder="Write a comment..." class="full-width no-resize to-expand" ng-model="commentBody" expand-comment required></textarea>\n				<button type="submit" class="btn nudge-half--ends float-right hidden" ng-disabled="commentForm.$invalid">Post</button>\n			</form>\n			<div class="line nudge-half--bottom" ng-repeat="comment in event.comments | orderBy: \'-posted\'">\n				<div class="unit one-tenth">\n					<div class="user-img-comment" ng-style="{\'background-image\': \'url(\' + comment.creator.pictureUrl + \')\'}">\n						<a tooltip="{{comment.creator.displayName}}" tooltip-placement="left" ng-href="profile/{{comment.creator.username}}"></a>\n					</div>\n				</div>\n				<div class="unit nine-tenths last-unit">\n					<div class="box islet comment">\n						<a href class="delete-comment-button" ng-click="deleteComment(comment)" ng-show="comment.creator._id == user._id || user.admin == true">\n							<i class="fa fa-times"></i>\n						</a>\n						<h4 class="flush">\n							<a ng-href="/profile/{{comment.creator.username}}" ng-show="comment.creator">{{comment.creator.displayName}}</a>\n							<span class="muted" ng-hide="comment.creator">[deleted]</span>\n						</h4>\n						<p class="nudge-half--ends pre-wrap" ng-bind-html="comment.body | urlAndFormat"></p>\n						<div class="table full-width">\n								<div class="td one-half">\n									<div class="action-buttons comment nudge-half--top">\n										<a class="first cursor-normal" href><span class="gamma" ng-class="{green: likesComment(comment)}">{{ comment.likes.length }}</span></a>\n										<a href ng-click="likeComment(comment)" ng-hide="likesComment(comment)">\n											<i class="fa fa-heart"></i> Like\n										</a>\n										<a href ng-click="unlikeComment(comment)" ng-show="likesComment(comment)">\n											<i class="fa fa-heart-o"></i> Unlike\n										</a>\n									</div>\n								</div>\n								<div class="td one-half text-right">\n									<span class="muted epsilon" ng-bind="comment.timestamp | timePast"></span>\n								</div>\n						</div>\n						<hr class="nudge-half--ends" />\n						<div class="line nudge-half--bottom" ng-repeat="subComment in comment.subComments">\n							<div class="unit one-twelfth">\n								<div class="user-img-subcomment" ng-style="{\'background-image\': \'url(\' + subComment.creator.pictureUrl + \')\'}">\n									<a tooltip="{{subComment.creator.displayName}}" tooltip-placement="left" ng-href="profile/{{subComment.creator.username}}"></a>\n								</div>\n							</div>\n							<div class="unit eleven-twelfths last-unit subcomment-body islet">\n								<a href class="delete-subcomment-button" ng-click="deleteSubComment(comment._id, subComment)" ng-show="subComment.creator._id == user._id || user.admin == true">\n									<i class="fa fa-times"></i>\n								</a>\n								<p class="epsilon" ng-bind-html="subComment.body | urlAndFormat"></p>\n								<div class="text-right nudge-half--top">\n									<span class="muted epsilon" ng-bind="subComment.timestamp | timePast"></span>\n								</div>\n							</div>\n						</div>\n						<form name="subCommentForm" class="input-append full-width clearfix epsilon" ng-submit="postSubComment(comment)">\n							<input type="text" placeholder="Write a comment..." ng-model="comment.newSubComment" class="nine-tenths delta" required />\n							<button type="submit" class="btn one-tenth" ng-disabled="subCommentForm.$invalid">Post</button>\n						</form>\n					</div>\n				</div>\n			</div>\n		</div>\n		<div class="unit one-fourth last-unit soft-half--left">\n			<div class="box nudge-half--bottom">\n				<div class="grey-header soft-quarter--ends soft-half--sides">\n					<div class="table full-width full-height">\n						<div class="td one-half vertical-align-middle">\n							<h2 class="flush" ng-hide="eventPassed">Going</h2>\n							<h2 class="flush" ng-show="eventPassed">Went</h2>\n						</div>\n						<div class="td one-half vertical-align-middle text-right muted">\n							<span ng-bind="event.attending.length"></span>\n							<span ng-show="event.attending.length == 1">person</span>\n							<span ng-hide="event.attending.length == 1">people</span>\n						</div>\n					</div>\n				</div>\n				<div class="islet text-center" ng-show="event.attending.length > 0">\n					<div ng-repeat="attendingUser in event.attending" class="user-img-going nudge-half--right" ng-style="{\'background-image\': \'url(\' + attendingUser.pictureUrl + \')\'}">\n						<a href ng-href="profile/{{attendingUser.username}}" tooltip="{{attendingUser.displayName}}"></a>\n					</div>\n				</div>\n			</div>\n			<div class="box nudge-half--bottom">\n				<div class="grey-header soft-quarter--ends soft-half--sides">\n					<div class="table full-width full-height">\n						<div class="td one-half vertical-align-middle">\n							<h2 class="flush">Invited</h2>\n						</div>\n						<div class="td one-half vertical-align-middle text-right muted">\n							<span ng-bind="event.invited.length"></span>\n							<span ng-show="event.invited.length == 1">person</span>\n							<span ng-hide="event.invited.length == 1">people</span>\n						</div>\n					</div>\n				</div>\n				<div class="islet text-center" ng-show="event.invited.length > 0">\n					<div ng-repeat="attendingUser in event.invited" class="user-img-going nudge-half--right" ng-style="{\'background-image\': \'url(\' + attendingUser.pictureUrl + \')\'}">\n						<a ng-href="profile/{{attendingUser.username}}" tooltip="{{attendingUser.displayName}}"></a>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n\n<script type="text/ng-template" id="inviteModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush weight--bold">Invite Friends</h2>\n    </div>\n    <div class="modal-body">\n    	<h3 class="caps flush--top nudge-half--bottom" ng-show="items.length">Select people to invite:</h3>\n    	<input type="text" class="full-width nudge-half--bottom" placeholder="Search users..." ng-model="searchUsers" ng-show="items.length" />\n		<ul ng-show="items.length" class="modal-user-list invite table full-width">\n	        <li ng-repeat="user in filteredItems = (items | filter:{ displayName: searchUsers } | orderBy: \'displayName\')" class="tr full-width pointer" ng-click="toggleInvitee(user._id)">\n	        	<div class="td one-tenth vertical-align-middle">\n	        		<div class="user-img-modal" ng-style="{\'background-image\': \'url(\' + user.pictureUrl + \')\'}">\n	        			<a ng-href="profile/{{user.username}}" ng-click="clickLink()"></a>\n	        		</div>\n	        	</div>\n	        	<div class="td eight-tenths vertical-align-middle soft--left">\n	        		<span class="weight--bold" ng-bind="user.displayName"></span>\n	        	</div>\n	        	<div class="td one-tenth vertical-align-middle">\n	        		<a href class="toggle-invitee" ng-class="{invitee: isInvitee(user._id)}">\n	        			<i class="fa fa-check"></i>\n	        		</a>\n	        	</div>\n			</li>\n		</ul>\n		<h2 class="green text-center" ng-show="!items.length">No users left to invite!</h2>\n		<h2 class="blue text-center" ng-show="!filteredItems.length">No users match your search.</h2>\n    </div>\n    <div class="modal-footer table">\n    	<div class="td one-half vertical-align-middle text-left">\n    		<span class="weight--bold red" ng-bind="inviteError"></span>\n    	</div>\n    	<div class="td one-half vertical-align-middle">\n        	<button class="btn" ng-click="sendInvites()" ng-disabled="!invitees.length">Send Invites</button>\n        	<button class="btn--muted" ng-click="cancel()">Cancel</button>\n        </div>\n    </div>\n</script>\n\n<script type="text/ng-template" id="shareModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Share Event</h2>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n    	<h3 class="caps flush--top nudge-half--bottom">Event URL:</h3>\n    	<input type="text" class="full-width" ng-model="eventUrl" input-select readonly="readonly" />\n    	<div class="line nudge--top">\n	    	<div class="unit one-third soft--right">\n	        	<a ng-click="openTweet()" class="btn twitter full-width text-center"><i class="fa fa-twitter"></i> Tweet</a>\n			</div>\n			<div class="unit one-third soft-half--sides">\n				<a href ng-click="shareEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Share</a>\n			</div>\n			<div class="unit one-third last-unit soft--left">\n				<a href ng-click="sendEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Send</a>\n			</div>\n		</div>\n    </div>\n</script>\n\n<script type="text/ng-template" id="editModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush weight--bold">Edit Event</h2>\n    </div>\n    <div class="modal-body">\n    	<form name="editForm">\n	    	<label class="muted delta block" for="eventTitle">Event Title</label>\n	    	<input type="text" name="eventTitle" id="eventTitle" ng-model="newEvent.title" class="full-width nudge-quarter--top nudge-half--bottom" required />\n\n	    	<div class="line nudge-half--bottom">\n	    		<div class="unit one-third soft-half--right">\n	    			<label class="muted delta block" for="eventTitle">Start Date</label>\n	    			<input type="text" name="eventTitle" id="eventTitle" ng-model="newEvent.startDate" class="full-width nudge-quarter--top" datepicker-popup="MM/dd/yyyy" placeholder="9/30/2013" is-open="datepickerOpened" min="today" show-weeks="false" required />\n	    		</div>\n	    		<div class="unit one-third soft-quarter--sides">\n	    			<label class="muted delta block" for="eventStartTime">Start Time</label>\n	    			<input type="text" name="eventStartTime" id="eventStartTime" ng-model="newEvent.startTime" class="full-width nudge-quarter--top" placeholder="9:00pm" time-autocomplete ng-pattern="/(^([0-9]|[0][0-9]|[1][0-2]):([0-5][0-9])(\\s{0,1})([AM|PM|am|pm]{2,2})$)|(^([0-9]|[1][0-9]|[2][0-3])(\\s{0,1})([AM|PM|am|pm]{2,2})$)/" required />\n	    		</div>\n	    		<div class="unit one-third last-unit soft-half--left">\n	    			<label class="muted delta block" for="eventEndTime">End Time</label>\n	    			<input type="text" name="eventEndTime" id="eventEndTime" ng-model="newEvent.endTime" class="full-width nudge-quarter--top" placeholder="9:00pm" time-autocomplete="{{newEvent.startTime}}" ng-pattern="/(^([0-9]|[0][0-9]|[1][0-2]):([0-5][0-9])(\\s{0,1})([AM|PM|am|pm]{2,2})$)|(^([0-9]|[1][0-9]|[2][0-3])(\\s{0,1})([AM|PM|am|pm]{2,2})$)/" />\n	    		</div>\n	    	</div>\n\n	    	<label class="muted delta block" for="eventLocation">Location</label>\n	    	<input type="text" name="eventLocation" id="eventLocation" ng-model="newEvent.locationName" class="foursquare full-width nudge-quarter--top nudge-half--bottom" typeahead="venue.name for venue in venues | filter:$viewValue | limitTo:8" typeahead-min-length="0" ng-blur="checkLocation()" required />\n\n	    	<label class="muted delta block" for="roomNumber">Room Number</label>\n	    	<input type="text" name="roomNumber" id="roomNumber" ng-model="newEvent.roomNumber" class="full-width nudge-quarter--top nudge-half--bottom" />\n\n	    	<label class="muted delta block" for="eventDescription">Event Description</label>\n	    	<textarea name="eventDescription" id="eventDescription" ng-model="newEvent.description" class="full-width medium nudge-quarter--top nudge-half--bottom"></textarea>\n\n	    	<label class="muted delta block" for="eventTags">Tags</label>\n	    	<input type="text" id="eventTags" name="eventTags" class="full-width nudge-quarter--top" ui-select2="tagOptions" ng-model="newEvent.tags" placeholder="Enter up to 3 tags" />\n\n	    	<label class="muted delta block full-width clearfix nudge-half--top">Picture <a href ng-show="newEvent.pictureUrl" class="red epsilon float-right" ng-click="removePicture()">Remove Picture</a></label>\n	    	<div class="event-img nudge-half--bottom" ng-show="newEvent.pictureUrl" ng-style="{\'background-image\': \'url(\' + newEvent.pictureUrl + \')\'}"></div>\n	    	<input class="full-width nudge-quarter--top" ng-hide="newEvent.pictureUrl" id="newImage" name="newImage" type="file" accept="image/*" image="newImage.image" />\n	    	<div class="event-img nudge-quarter--top nudge-half--bottom" ng-show="newImage.image" ng-style="{\'background-image\': \'url(\' + newImage.image.url + \')\'}"></div>\n\n	    	<label class="muted delta block nudge-half--ends">Privacy</label>\n	    	<div class="dropdown nudge-half--bottom">\n				<a href class="dropdown-toggle">\n					{{ eventPrivacy.label }} <i class="fa fa-chevron-down muted weight--normal"></i>\n				</a>\n				<ul class="dropdown-menu">\n					<li ng-repeat="option in privacyOptions">\n						<a href ng-bind="option.label" ng-click="changePrivacy(option)"></a>\n					</li>\n				</ul>\n			</div>\n		</form>\n    </div>\n    <div class="modal-footer table">\n    	<div class="td one-half vertical-align-middle text-left">\n    		<span class="weight--bold red" ng-bind="editError"></span>\n    	</div>\n    	<div class="td one-half vertical-align-middle">\n        	<button class="btn" ng-click="saveChanges()" ng-disabled="editForm.$invalid">Save Changes</button>\n        	<button class="btn--muted" ng-click="cancel()">Cancel</button>\n        </div>\n    </div>\n</script>\n\n<script type="text/ng-template" id="deleteModal.html">\n    <div class="modal-header">\n        <h2 class="flush">Deleting This Event</h2>\n    </div>\n    <div class="modal-body">\n    	<h3 class="weight--bold flush--top nudge-half--bottom">Are you sure?</h3>\n    	<p>Once you click the button below, this event (and all associated activity) will be deleted fully and permanently. There will be no way to restore or retrieve the information.</p>\n    </div>\n    <div class="modal-footer">\n    	<button class="btn--red" ng-click="deleteEvent()">Delete Event</button>\n    	<button class="btn--muted" ng-click="cancel()">Cancel</button>\n    </div>\n</script>'),e.put("partials/explore.html",'<div class="loading" ng-show="loading">\n	<h2 class="flush" ng-show="loading && !gettingPosition">Loading...</h2>\n	<h2 class="flush" ng-show="gettingPosition">Getting your location...</h2>\n</div>\n<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height full-width">\n			<div class="td vertical-align-middle one-half">\n				<h1 class="flush blue">Explore</h1>\n			</div>\n			<div class="td vertical-align-middle one-half text-right">\n				<ng-switch-toggle-group theme="candy" ng-model="currentView" choices="viewOptions" class="float-right" style="display:none;"></ng-switch-toggle-group>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends" ng-show="currentView == \'school\'">\n	<div class="text-center" ng-show="!loading && !events.length">\n		<h1 class="flush blue">There are no upcoming events for your school yet!</h1>\n		<a href="/post" class="btn nudge--top">Post One</a>\n	</div>\n	<div class="table soft-half--ends full-width" ng-hide="!loading && !events.length">\n		<div class="td one-half vertical-align-middle">\n			<div class="input-prepend">\n				<div class="icon">\n					<i class="fa fa-search"></i>\n				</div>\n				<input type="text" class="search" ng-model="searchEvents" placeholder="Search events..." />\n			</div>\n		</div>\n		<div class="td one-half vertical-align-middle text-right">\n			<div class="dropdown">\n				<a href class="dropdown-toggle">\n					{{ currentSort.label }} <i class="fa fa-chevron-down muted weight--normal"></i>\n				</a>\n				<ul class="dropdown-menu pull-right" style="left:none !important;right:0;">\n					<li ng-repeat="option in sortOptions">\n						<a href ng-bind="option.label" ng-click="changeSort(option)"></a>\n					</li>\n				</ul>\n			</div>\n		</div>\n	</div>\n	<hr ng-hide="!loading && !events.length" />\n	<div class="text-center" ng-show="!loading && !filteredEvents.length && events.length">\n		<h2 class="flush blue" ng-show="events.length >= 20">No events match your search. Have you tried loading more?</h2>\n		<h2 class="flush blue" ng-show="events.length < 20">No events match your search.</h2>\n	</div>\n	<a href ng-click="addNew()" class="btn full-width text-center" ng-show="newEvents.length == 1 && !loading">Show 1 New Event</a>\n	<a href ng-click="addNew()" class="btn full-width text-center" ng-show="newEvents.length > 1 && !loading">Show {{ newEvents.length }} New Events</a>\n	<div class="line fade nudge--ends" ng-repeat="event in filteredEvents = (events | filter:searchEvents | orderBy:currentSort.value)">\n		<article ng-include="\'templates/event.html\'"></article><!-- event end -->\n	</div>\n	<hr ng-show="events.length >= 20 && filteredEvents.length" />\n	<a href ng-click="loadMore()" class="btn full-width text-center" ng-show="moreToLoadSchool && !loadingMore && !loading">Load More</a>\n	<a href class="btn full-width text-center" ng-show="loadingMore && !loading">Loading more...</a>\n</div>\n<div class="container soft-half--ends" ng-show="currentView == \'nearby\'">\n	<div class="text-center" ng-show="!loading && !events.length">\n		<h1 class="flush blue">There are no upcoming events near you yet!</h1>\n		<a href="/post" class="btn nudge--top">Post One</a>\n	</div>\n	<div class="text-center" ng-show="showLocationError">\n		<h1 class="flush blue">We were unable to determine your location</h1>\n	</div>\n	<div class="table soft-half--ends full-width" ng-hide="!loading && !events.length">\n		<div class="td one-half vertical-align-middle">\n			<div class="input-prepend">\n				<div class="icon">\n					<i class="fa fa-search"></i>\n				</div>\n				<input type="text" class="search" ng-model="searchEvents" placeholder="Search events..." />\n			</div>\n		</div>\n		<div class="td one-half vertical-align-middle text-right">\n			<div class="dropdown">\n				<a href class="dropdown-toggle">\n					{{ currentSort.label }} <i class="fa fa-chevron-down muted weight--normal"></i>\n				</a>\n				<ul class="dropdown-menu pull-right" style="left:none !important;right:0;">\n					<li ng-repeat="option in sortOptions">\n						<a href ng-bind="option.label" ng-click="changeSort(option)"></a>\n					</li>\n				</ul>\n			</div>\n		</div>\n	</div>\n	<hr ng-hide="!loading && !events.length" />\n	<div class="line fade nudge--ends" ng-repeat="event in filteredEvents = (events | filter:searchEvents | orderBy:currentSort.value)">\n		<div class="unit one-twelfth">\n			<div class="user-img-event" ng-style="{\'background-image\': \'url(\' + event.creator.pictureUrl + \')\'}" ng-show="event.creator">\n				<a href tooltip="{{event.creator.displayName}}" tooltip-placement="left" ng-href="/profile/{{event.creator.username}}"></a>\n			</div>\n		</div>\n		<div class="unit eleven-twelfths last-unit" ng-include="\'templates/event.html\'"></div>\n	</div><!-- event end -->\n	<hr ng-show="events.length >= 20 && filteredEvents.length" />\n	<a href ng-click="loadMore()" class="btn full-width text-center" ng-show="moreToLoadNearby && !loadingMore && !loading">Load More</a>\n	<a href class="btn full-width text-center" ng-show="loadingMore && !loading">Loading more...</a>\n</div>\n\n<script type="text/ng-template" id="attendingModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Attending</h3>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n    	<ul ng-show="items.length" class="modal-user-list table full-width">\n	        <li ng-repeat="attendingUser in items" class="tr full-width">\n	        	<div class="td one-tenth vertical-align-middle">\n	        		<div class="user-img-modal" ng-style="{\'background-image\': \'url(\' + attendingUser.pictureUrl + \')\'}">\n	        			<a ng-href="profile/{{attendingUser.username}}" ng-click="clickLink()"></a>\n	        		</div>\n	        	</div>\n	        	<div class="td nine-tenths vertical-align-middle soft--left">\n	        		<a ng-href="profile/{{attendingUser.username}}" ng-click="clickLink()" class="weight--bold" ng-bind="attendingUser.displayName"></a>\n	        	</div>\n			</li>\n		</ul>\n		<div ng-hide="items.length">\n			<h2 class="flush green text-center">No one has RSVPd to this event yet!</h2>\n		</div>\n    </div>\n</script>\n\n<script type="text/ng-template" id="shareModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Share Event</h2>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n    	<h3 class="caps flush--top nudge-half--bottom">Event URL:</h3>\n    	<input type="text" class="full-width" ng-model="eventUrl" input-select readonly="readonly" />\n    	<div class="line nudge--top">\n	    	<div class="unit one-third soft--right">\n	        	<a ng-click="openTweet()" class="btn twitter full-width text-center"><i class="fa fa-twitter"></i> Tweet</a>\n			</div>\n			<div class="unit one-third soft-half--sides">\n				<a href ng-click="shareEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Share</a>\n			</div>\n			<div class="unit one-third last-unit soft--left">\n				<a href ng-click="sendEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Send</a>\n			</div>\n		</div>\n    </div>\n</script>'),e.put("partials/feed.html",'<div class="loading" ng-show="loading">\n	<h2 class="flush">Loading...</h2>\n</div>\n<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height full-width">\n			<div class="td vertical-align-middle one-half">\n				<h1 class="flush blue">My Feed</h1>\n			</div>\n			<div class="td vertical-align-middle one-half text-right">\n				<ng-switch-toggle-group theme="candy" ng-model="currentView" choices="viewOptions" class="float-right"></ng-switch-toggle-group>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends" ng-show="!loading">\n	<div class="fade" ng-show="currentView == \'actions\'" ng-repeat="activity in actionActivities | orderBy:\'-timestamp\'">\n		<div ng-show="activity.activity == \'subscribed\'" class="soft-half--ends">\n			<div class="table full-width">\n				<div class="tr">\n					<div class="td one-twelfth">\n						<div class="user-img-event" ng-style="{\'background-image\': \'url(\' + activity.actor.pictureUrl + \')\'}">\n							<a tooltip="{{activity.actor.displayName}}" tooltip-placement="left" ng-href="/profile/{{activity.actor.username}}"></a>\n						</div>\n					</div>\n					<div class="td eleven-twelfths vertical-align-middle">\n						<div class="line">\n							<div class="unit three-fourths">\n								<a ng-href="/profile/{{activity.actor.username}}">{{activity.actor.displayName}}</a>\n								 subscribed to\n								  <span ng-show="activity.recipient._id == user._id" class="weight--bold">you</span>\n								  <a ng-href="/profile/{{activity.recipient.username}}" ng-hide="activity.recipient._id == user._id">{{activity.recipient.displayName}}</a>\n							</div>\n							<div class="unit one-fourth last-unit text-right">\n								<span class="muted">{{ activity.timestamp | timePast }}</span>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n		<div ng-show="activity.activity == \'invited\'" class="soft-half--ends">\n			<div class="line">\n				<div class="unit three-fourths">\n					<a ng-href="/profile/{{activity.actor.username}}">{{activity.actor.displayName}}</a>\n					 invited you to:\n				</div>\n				<div class="unit one-fourth last-unit text-right">\n					<span class="muted">{{ activity.timestamp | timePast }}</span>\n				</div>\n			</div>\n			<div class="line nudge-half--top">\n				<div class="unit one-twelfth">\n					<div class="user-img-event" ng-style="{\'background-image\': \'url(\' + activity.event.creator.pictureUrl + \')\'}">\n						<a tooltip="{{activity.event.creator.displayName}}" tooltip-placement="left" ng-href="/profile/{{activity.event.creator.username}}"></a>\n					</div>\n				</div>\n				<div class="unit eleven-twelfths last-unit">\n					<div class="box">\n						<div class="event-header soft-half--ends soft-quarter--sides">\n							<div class="table full-width full-height">\n								<div class="td three-fifths vertical-align-middle">\n									<i class="beta fa fa-circle nudge-half--right float-left" ng-show="activity.event.privacy == \'public\'" tooltip="Public" tooltip-placement="top"></i>\n									<i class="beta fa fa-circle-o nudge-half--right float-left" ng-show="activity.event.privacy == \'inviteOnly\'" tooltip="Invite Only" tooltip-placement="top"></i>\n									<h3 class="flush">\n										<a ng-href="/event/{{activity.event._id}}">\n											{{ activity.event.title }}\n										</a>\n									</h3>\n								</div>\n								<div class="td two-fifths vertical-align-middle text-right">\n									Posted by\n									 <a ng-href="/profile/{{activity.event.creator.username}}">{{activity.event.creator.displayName}}</a>\n									 {{ activity.event.timestamp | timePast }}\n								</div>\n							</div>\n						</div>\n						<div class="islet">\n							<div class="line">\n								<div class="unit full-width last-unit text-center">\n									<span class="epsilon">\n										<span ng-show="activity.event.locationName" class="nudge--right">\n											<i class="fa fa-map-marker muted"></i> <span ng-bind="activity.event.locationName"></span>\n										</span>\n										<span ng-show="activity.event.startDate" class="nudge--right">\n											<i class="fa fa-calendar-o muted"></i> <span>{{ activity.event.startDate | readableDate }}</span>\n										</span>\n										<span ng-show="activity.event.startTime">\n											<i class="fa fa-clock-o muted"></i> <span ng-bind="activity.event.startTime"></span> <span ng-show="activity.event.endTime">- <span ng-bind="activity.event.endTime"></span></span>\n										</span>\n									</span>\n								</div>\n							</div>\n							<div class="line soft-half--ends" ng-show="activity.event.description">\n								<div class="unit three-percent">\n									<i class="muted epsilon fa fa-align-left"></i>\n								</div>\n								<div class="unit last-unit ninety-seven-percent">\n									<p class="pre-wrap" ng-show="activity.event.description" ng-bind-html="activity.event.description | urlAndFormat | words:100:activity.event._id"></p>\n								</div>\n							</div>\n						</div>\n						<div class="event-footer table full-width soft-quarter--ends">\n							<div class="tr">\n								<div class="td three-fifths">\n									<ul class="tags">\n										<li ng-repeat="tag in activity.event.tags" ng-bind="tag"></li>\n									</ul>\n								</div>\n								<div class="td two-fifths text-right soft-half--right vertical-align-middle">\n									<div class="action-buttons nudge-quarter--right">\n										<a class="first" ng-class="{green: isAttending(activity.event)}" href tooltip="People Attending"><span class="gamma" ng-class="{green: isAttending(activity.event)}">{{ activity.event.attending.length }}</span></a>\n										<a href ng-click="rsvpToEvent(activity)" ng-hide="isAttending(activity.event)"><i class="fa fa-thumbs-up"></i> RSVP</a>\n										<a href ng-click="unRsvpToEvent(activity)" ng-show="isAttending(activity.event)"><i class="fa fa-thumbs-o-up"></i> Un-RSVP</a>\n									</div>\n									<div class="action-buttons nudge-quarter--right">\n										<a href ng-click="openShare(activity.event)" tooltip="Share"><i class="fa fa-share-square"></i></a>\n									</div>\n									<div class="action-buttons green">\n										<a href ng-href="/event/{{activity.event._id}}">Details <i class="fa fa-chevron-right epsilon"></i></a>\n									</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div><!-- event end -->\n		</div>\n		<div ng-show="activity.activity == \'rsvpd\'" class="soft-half--ends">\n			<div class="line">\n				<div class="unit three-fourths">\n					<a ng-href="/profile/{{activity.actor.username}}">{{activity.actor.displayName}}</a>\n					 RSVP\'d to an event:\n				</div>\n				<div class="unit one-fourth last-unit text-right">\n					<span class="muted">{{ activity.timestamp | timePast }}</span>\n				</div>\n			</div>\n			<div class="line nudge-half--top">\n				<div class="unit one-twelfth">\n					<div class="user-img-event" ng-style="{\'background-image\': \'url(\' + activity.event.creator.pictureUrl + \')\'}">\n						<a tooltip="{{activity.event.creator.displayName}}" tooltip-placement="left" ng-href="/profile/{{activity.event.creator.username}}"></a>\n					</div>\n				</div>\n				<div class="unit eleven-twelfths last-unit">\n					<div class="box">\n						<div class="event-header soft-half--ends soft-quarter--sides">\n							<div class="table full-width full-height">\n								<div class="td three-fifths vertical-align-middle">\n									<i class="beta fa fa-circle nudge-half--right float-left" ng-show="activity.event.privacy == \'public\'" tooltip="Public" tooltip-placement="top"></i>\n									<i class="beta fa fa-circle-o nudge-half--right float-left" ng-show="activity.event.privacy == \'inviteOnly\'" tooltip="Invite Only" tooltip-placement="top"></i>\n									<h3 class="flush">\n										<a ng-href="/event/{{activity.event._id}}">\n											{{ activity.event.title }}\n										</a>\n									</h3>\n								</div>\n								<div class="td two-fifths vertical-align-middle text-right epsilon muted">\n									Posted by\n									 <a class="muted" ng-href="/profile/{{activity.event.creator.username}}">{{activity.event.creator.displayName}}</a>\n									 {{ activity.event.timestamp | timePast }}\n								</div>\n							</div>\n						</div>\n						<div class="islet">\n							<div class="line">\n								<div class="unit full-width last-unit text-center">\n									<span class="epsilon">\n										<span ng-show="activity.event.locationName" class="nudge--right">\n											<i class="fa fa-map-marker muted"></i> <span ng-bind="activity.event.locationName"></span>\n										</span>\n										<span ng-show="activity.event.startDate" class="nudge--right">\n											<i class="fa fa-calendar-o muted"></i> <span>{{ activity.event.startDate | readableDate }}</span>\n										</span>\n										<span ng-show="activity.event.startTime">\n											<i class="fa fa-clock-o muted"></i> <span ng-bind="activity.event.startTime"></span> <span ng-show="activity.event.endTime">- <span ng-bind="activity.event.endTime"></span></span>\n										</span>\n									</span>\n								</div>\n							</div>\n							<div class="line soft-half--ends" ng-show="activity.event.description">\n								<div class="unit three-percent">\n									<i class="muted epsilon fa fa-align-left"></i>\n								</div>\n								<div class="unit last-unit ninety-seven-percent">\n									<p class="pre-wrap" ng-show="activity.event.description" ng-bind-html="activity.event.description | urlAndFormat | words:100:activity.event._id"></p>\n								</div>\n							</div>\n						</div>\n						<div class="event-footer table full-width soft-quarter--ends">\n							<div class="tr">\n								<div class="td three-fifths">\n									<ul class="tags">\n										<li ng-repeat="tag in activity.event.tags" ng-bind="tag"></li>\n									</ul>\n								</div>\n								<div class="td two-fifths text-right soft-half--right vertical-align-middle">\n									<div class="action-buttons nudge-quarter--right">\n										<a class="first" ng-class="{green: isAttending(activity.event)}" href tooltip="People Attending"><span class="gamma" ng-class="{green: isAttending(activity.event)}">{{ activity.event.attending.length }}</span></a>\n										<a href ng-click="rsvpToEvent(activity)" ng-hide="isAttending(activity.event)"><i class="fa fa-thumbs-up"></i> RSVP</a>\n										<a href ng-click="unRsvpToEvent(activity)" ng-show="isAttending(activity.event)"><i class="fa fa-thumbs-o-up"></i> Un-RSVP</a>\n									</div>\n									<div class="action-buttons nudge-quarter--right">\n										<a href ng-click="openShare(activity.event)" tooltip="Share"><i class="fa fa-share-square"></i></a>\n									</div>\n									<div class="action-buttons green">\n										<a href ng-href="/event/{{activity.event._id}}">Details <i class="fa fa-chevron-right epsilon"></i></a>\n									</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div><!-- event end -->\n		</div>\n		<div ng-show="activity.activity == \'commented\'" class="soft-half--ends">\n			<div class="line">\n				<div class="unit three-fourths">\n					<a ng-href="/profile/{{activity.actor.username}}">{{activity.actor.displayName}}</a>\n					 commented on the event <a ng-href="/event/{{activity.event._id}}">{{activity.event.title}}</a>:\n				</div>\n				<div class="unit one-fourth last-unit text-right">\n					<span class="muted">{{ activity.timestamp | timePast }}</span>\n				</div>\n			</div>\n			<div class="line nudge-half--top">\n				<div class="unit one-twelfth">\n					<div class="user-img-event" ng-style="{\'background-image\': \'url(\' + activity.comment.creator.pictureUrl + \')\'}">\n						<a tooltip="{{activity.comment.creator.displayName}}" tooltip-placement="left" ng-href="profile/{{activity.comment.creator.username}}"></a>\n					</div>\n				</div>\n				<div class="unit eleven-twelfths last-unit">\n					<div class="box islet comment">\n						<p class="nudge-half--bottom pre-wrap" ng-bind-html="activity.comment.body | urlAndFormat"></p>\n					</div>\n				</div>\n			</div>\n		</div>\n		<hr />\n	</div>\n	<div class="fade" ng-show="currentView == \'events\'" ng-repeat="activity in eventActivities | orderBy:\'-timestamp\'">\n		<div class="soft-half--ends">\n			<div class="line">\n				<div class="unit three-fourths">\n					<a ng-href="/profile/{{activity.actor.username}}">{{activity.actor.displayName}}</a>\n					 posted an event:\n				</div>\n				<div class="unit one-fourth last-unit text-right">\n					<span class="muted">{{ activity.timestamp | timePast }}</span>\n				</div>\n			</div>\n			<div class="line nudge-half--top">\n				<div class="unit one-twelfth">\n					<div class="user-img-event" ng-style="{\'background-image\': \'url(\' + activity.event.creator.pictureUrl + \')\'}">\n						<a tooltip="{{activity.event.creator.displayName}}" tooltip-placement="left" ng-href="/profile/{{activity.event.creator.username}}"></a>\n					</div>\n				</div>\n				<div class="unit eleven-twelfths last-unit">\n					<div class="box">\n						<div class="event-header soft-half--ends soft-quarter--sides">\n							<div class="table full-width full-height">\n								<div class="td full-width vertical-align-middle">\n									<i class="beta fa fa-circle nudge-half--right float-left" ng-show="activity.event.privacy == \'public\'" tooltip="Public" tooltip-placement="top"></i>\n									<i class="beta fa fa-circle-blank nudge-half--right float-left" ng-show="activity.event.privacy == \'inviteOnly\'" tooltip="Invite Only" tooltip-placement="top"></i>\n									<h3 class="flush">\n										<a ng-href="/event/{{activity.event._id}}">\n											{{ activity.event.title }}\n										</a>\n									</h3>\n								</div>\n							</div>\n						</div>\n						<div class="islet">\n							<div class="line">\n								<div class="unit full-width last-unit text-center">\n									<span class="epsilon">\n										<span ng-show="activity.event.locationName" class="nudge--right">\n											<i class="fa fa-map-marker muted"></i> <span ng-bind="activity.event.locationName"></span>\n										</span>\n										<span ng-show="activity.event.startDate" class="nudge--right">\n											<i class="fa fa-calendar-o muted"></i> <span>{{ activity.event.startDate | readableDate }}</span>\n										</span>\n										<span ng-show="activity.event.startTime">\n											<i class="fa fa-clock-o muted"></i> <span ng-bind="activity.event.startTime"></span> <span ng-show="activity.event.endTime">- <span ng-bind="activity.event.endTime"></span></span>\n										</span>\n									</span>\n								</div>\n							</div>\n							<div class="line soft-half--ends" ng-show="activity.event.description">\n								<div class="unit three-percent">\n									<i class="muted epsilon fa fa-align-left"></i>\n								</div>\n								<div class="unit last-unit ninety-seven-percent">\n									<p class="pre-wrap" ng-show="activity.event.description" ng-bind-html="activity.event.description | urlAndFormat | words:100:activity.event._id"></p>\n								</div>\n							</div>\n						</div>\n						<div class="event-footer table full-width soft-quarter--ends">\n							<div class="tr">\n								<div class="td three-fifths">\n									<ul class="tags">\n										<li ng-repeat="tag in activity.event.tags" ng-bind="tag"></li>\n									</ul>\n								</div>\n								<div class="td two-fifths text-right soft-half--right vertical-align-middle">\n									<div class="action-buttons nudge-quarter--right">\n										<a class="first" ng-class="{green: isAttending(activity.event)}" href tooltip="People Attending"><span class="gamma" ng-class="{green: isAttending(activity.event)}">{{ activity.event.attending.length }}</span></a>\n										<a href ng-click="rsvpToEvent(activity)" ng-hide="isAttending(activity.event)"><i class="fa fa-thumbs-up"></i> RSVP</a>\n										<a href ng-click="unRsvpToEvent(activity)" ng-show="isAttending(activity.event)"><i class="fa fa-thumbs-o-up"></i> Un-RSVP</a>\n									</div>\n									<div class="action-buttons nudge-quarter--right">\n										<a href ng-click="openShare(activity.event)" tooltip="Share"><i class="fa fa-share-square"></i></a>\n									</div>\n									<div class="action-buttons green">\n										<a href ng-href="/event/{{activity.event._id}}">Details <i class="fa fa-chevron-right epsilon"></i></a>\n									</div>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div><!-- event end -->\n		</div>\n		<hr />\n	</div>\n	<div ng-show="currentView == \'events\' && !eventActivities.length && !loading">\n		<h2 class="flush green text-center">None of your subscriptions have posted any events yet. Try subscribing to other users!</h2>\n	</div>\n	<div ng-show="currentView == \'actions\' && !actionActivities.length && !loading">\n		<h2 class="flush green text-center">None of your subscriptions have performed any actions yet. Try subscribing to other users!</h2>\n	</div>\n	<a href ng-click="loadMore()" class="btn full-width text-center" ng-show="moreToLoad && !loadingMore && !loading">Load More</a>\n	<a href class="btn full-width text-center" ng-show="loadingMore && !loading">Loading more...</a>\n</div>\n\n<script type="text/ng-template" id="attendingModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Attending</h3>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n    	<ul ng-show="items.length" class="modal-user-list table full-width">\n	        <li ng-repeat="attendingUser in items" class="tr full-width">\n	        	<div class="td one-tenth vertical-align-middle">\n	        		<div class="user-img-modal" ng-style="{\'background-image\': \'url(\' + attendingUser.pictureUrl + \')\'}">\n	        			<a ng-href="profile/{{attendingUser.username}}" ng-click="clickLink()"></a>\n	        		</div>\n	        	</div>\n	        	<div class="td nine-tenths vertical-align-middle soft--left">\n	        		<a ng-href="profile/{{attendingUser.username}}" ng-click="clickLink()" class="weight--bold" ng-bind="attendingUser.displayName"></a>\n	        	</div>\n			</li>\n		</ul>\n		<div ng-hide="items.length">\n			<h2 class="flush green text-center">No one has RSVPd to this event yet!</h2>\n		</div>\n    </div>\n</script>\n\n<script type="text/ng-template" id="shareModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Share Event</h2>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n    	<h3 class="caps flush--top nudge-half--bottom">Event URL:</h3>\n    	<input type="text" class="full-width" ng-model="eventUrl" input-select readonly="readonly" />\n    	<div class="line nudge--top">\n	    	<div class="unit one-third soft--right">\n	        	<a ng-click="openTweet()" class="btn twitter full-width text-center"><i class="fa fa-twitter"></i> Tweet</a>\n			</div>\n			<div class="unit one-third soft-half--sides">\n				<a href ng-click="shareEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Share</a>\n			</div>\n			<div class="unit one-third last-unit soft--left">\n				<a href ng-click="sendEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Send</a>\n			</div>\n		</div>\n    </div>\n</script>'),e.put("partials/forgot.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Forgotten Password</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="table full-width full-height__header" ng-hide="emailSent">\n	<div class="td full-height full-width vertical-align-middle text-center">\n		<div class="box island inline-block text-left top-highlight" style="max-width:500px;">\n			<form name="passwordForm" ng-submit="sendEmail()">\n				<p class="nudge-half--bottom">Enter your account\'s username in the space below. A link to reset your password will be sent to the email address associated with the account.</p>\n				<label for="username" class="muted">Username</label>\n				<div class="input-prepend full">\n					<div class="icon">\n						<i class="fa fa-user"></i>\n					</div>\n					<input type="text" id="username" ng-model="username" placeholder="your username" required />\n				</div>\n				<span class="block red weight--bold nudge--top" ng-show="forgotError" ng-bind="forgotError"></span>\n				<input type="submit" value="Send Link" class="btn full-width nudge--top" ng-disabled="passwordForm.$invalid" />\n			</form>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends" ng-show="emailSent">\n	<h1 class="green flush">Email Sent!</h1>\n	<p class="gamma nudge--top">An email has been sent to the address associated with the username you provided. It will contain a link that you can use to reset your password.</p>\n</div>'),e.put("partials/home.html",'<section class="top_section">\n	<div id="dark_top">\n		<div class="inside_container">\n			<div class="section group">\n				<div class="col span_12_of_12 flush--ends text-center">\n					<img src="http://assets.campuslively.com/img/logo.png" alt="Campuslively logo" id="logo" />\n				</div>\n			</div>\n			<div class="section group">\n				<div class="col span_12_of_12 flush--top">\n					<div header-switcher="h1">\n						<h2 class="huge flush white" style="display:none">Don\'t miss a thing</h2>\n						<h2 class="huge flush white" style="display:none">Increase attendance to your events</h2>\n					</div>\n					<h3 class="flush white">An easy way to view and share everything going on around your campus.</h3>\n				</div>\n			</div>\n			<div class="section group flush--bottom">\n				<div class="col span_6_of_12 responsive_right">\n					<a href="/login" title="Log In" class="btn--blue">Log In</a>\n				</div>\n				<div class="col span_6_of_12 responsive_left">\n					<a href="/register" title="Sign Up" class="btn--green">Sign Up</a>\n				</div>\n			</div>\n			<div class="section group flush--top">\n				<div class="col span_12_of_12 text-center flush--bottom">\n					<h3 class="flush white soft--ends">Currently available at these schools:</h3>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div id="white_top">\n	</div>\n	<div id="schools" class="full-width">\n		<div class="section group">\n			<div class="col span_3_of_12">\n			</div>\n			<div class="col span_3_of_12">\n				<div class="school-img center-block" style="background-image: url(\'http://assets.campuslively.com/img/bu.png\')"></div>\n				<h3 class="text-center muted">Boston University</h3>\n			</div>\n			<div class="col span_3_of_12">\n				<div class="school-img center-block" style="background-image: url(\'http://assets.campuslively.com/img/umaine.png\')"></div>\n				<h3 class="text-center muted">University of Maine</h3>\n			</div>\n			<div class="col span_3_of_12">\n			</div>\n		</div>\n		<div class="section group nudge--bottom">\n			<div class="col span_12_of_12 flush--top flush--bottom">\n				<a href="/contact">Request Your School</a>\n			</div>\n		</div>\n		<div class="section group">\n			<div class="col span_12_of_12 text-center">\n				<h2 class="flush blue">You are a:</h2>\n				<ng-switch-toggle-group theme="candy" ng-model="currentView" choices="viewOptions" style="display: inline-block !important;"></ng-switch-toggle-group>\n			</div>\n		</div>\n	</div>\n</section>\n<section class="light_section soft--ends" ng-show="currentView == \'student\'" style="background-image: url(\'http://assets.campuslively.com/img/students.png\');">\n	<div class="inside_container">\n		<div class="section group soft--ends">\n			<div class="col span_4_of_12 index_item">\n				<h3><i class="fa fa-lock"></i> Only for your school</h3>\n				<p>Once registered and logged in, you can choose from a list of available schools. Once selected, you can view events specific to your school.</p>\n			</div>\n			<div class="col span_4_of_12 index_item">\n				<h3><i class="fa fa-refresh"></i> Sync with your current apps</h3>\n				<p>Campuslively syncs with both your Facebook and Google Calendar.Connect with your friends from Facebook, and keep your Google Calendar in-sync with your events on campus.</p>\n			</div>\n			<div class="col span_4_of_12 index_item">\n				<h3><i class="fa fa-list"></i> See everything happening on your campus</h3>\n				<p>Dont miss out on a single event.Using the explore page, you will be able to search and find any event posted for your campus.No more having to search high and low to see what is going on at your school!</p>\n			</div>\n		</div>\n		<div class="section group soft--ends">\n			<div class="col span_4_of_12 index_item soft--bottom">\n				<h3><i class="fa fa-clock-o"></i> View events as a live feed</h3>\n				<p>When you\'re not in the mood to search for something to do, use your feed to easily see what events are happening with the people and groups that matter to you most.</p>\n			</div>\n			<div class="col span_4_of_12 index_item soft--bottom">\n				<h3><i class="fa fa-calendar"></i> Or view events as a calendar</h3>\n				<p>Planning ahead?View events as a calendar to easily plan what you are going to do in the coming weeks and months.</p>\n			</div>\n			<div class="col span_4_of_12 index_item soft--bottom">\n				<h3><i class="fa fa-plus"></i> Easily post your own events</h3>\n				<p>As a student, you are also able to post your own events. On any page, you will see the clear Post Event button. Want to get the word out about a party or event youre organizing? Post it to Campuslively!</p>\n			</div>\n		</div>\n	</div>\n</section>\n<section class="light_section soft--ends" ng-show="currentView == \'group\'" style="background-image: url(\'http://assets.campuslively.com/img/marching_band.png\');">\n	<div class="inside_container">\n		<div class="section group soft--ends">\n			<div class="col span_4_of_12 index_item">\n				<h3><i class="fa fa-plus"></i> Easily post your events</h3>\n				<p>Post an event in as little as 30 seconds! It\'s as simple as filling out one form and instantly reaching everyone at your school.</p>\n			</div>\n			<div class="col span_4_of_12 index_item">\n				<h3><i class="fa fa-thumbs-up"></i> Reach your entire campus</h3>\n				<p>Campuslively is the only site that allows you to post your event to all students at your school. Make sure the maximum number of eyes see your event to increase awareness and attendance!</p>\n			</div>\n			<div class="col span_4_of_12 index_item">\n				<h3><i class="fa fa-money"></i> Save time and money</h3>\n				<p>Stop wasting time and money on fliers, posters, emails, and Facebook.Campuslively is the cheapest and most effective way to reach students at your school.With one click, thousands of students will have eyes on your event.</p>\n			</div>\n		</div>\n		<div class="section group soft--ends">\n			<div class="col span_4_of_12 index_item soft--bottom">\n				<h3><i class="fa fa-link"></i> Automatically reach your current social media followers</h3>\n				<p>In addition to the new users you\'ll reach, we also offer the ability to instantly connect with your followers from other social media sites. This means you can maintain your current fanbase while continuing to grow with Campuslively!</p>\n			</div>\n			<div class="col span_4_of_12 index_item soft--bottom">\n				<h3><i class="fa fa-bullhorn"></i> Interact directly with your target audience</h3>\n				<p>Once you have registered as a Campuslively user, other users will be able to "subscribe" to you, allowing them to instantly get updates about your events. In addition, you can interact directly with your audience with quick comments and "likes" on the event details page!</p>\n			</div>\n			<div class="col span_4_of_12 index_item soft--bottom">\n				<h3><i class="fa fa-arrows-alt"></i> Share across multiple platforms</h3>\n				<p>Once you have posted your event on Campuslively, sharing it to other platforms such as Facebook, Twitter, and email is as simple as a few clicks.</p>\n			</div>\n		</div>\n	</div>\n</section>\n<section class="dark_section" id="dark_bottom">\n	<div class="inside_container">\n		<div class="section group">\n			<div class="col span_1_of_12">\n			</div>\n			<div class="col span_4_of_12">\n				<img src="http://assets.campuslively.com/img/phones.png" alt="mobile devices" class="phones" />\n			</div>\n			<div class="col span_6_of_12" id="get_mobile">\n				<h1 id="white_header">Coming soon to your mobile device!</h1>\n				<a href="/contact" class="btn--green nudge-half--top">Request It Sooner</a>\n			</div>\n			<div class="col span_1_of_12">\n			</div>\n		</div>\n		</div>\n	</div>\n</section>\n<footer>\n	<div class="inside_container">\n		<div class="section group">\n			<div class="col span_4_of_12 responsive-text-left">\n				<span class="block weight--bold nudge-half--bottom">Connect with us:</span>\n				<a href="http://www.twitter.com/campuslively" target="_blank" class="muted-link alpha nudge-half--right"><i class="fa fa-twitter"></i></a>\n				<a href="http://www.facebook.com/campuslively" target="_blank" class="muted-link alpha nudge-half--right"><i class="fa fa-facebook"></i></a>\n				<a href="http://www.linkedin.com/company/campuslively" target="_blank" class="muted-link alpha"><i class="fa fa-linkedin"></i></a>\n			</div>\n			<div class="col span_8_of_12 responsive-text-right">\n				<span>Copyright &copy; 2012-{{currentYear}} Campuslively</span>\n				<ul class="nudge--top">\n					<li><a href="/login">Login</a></li>\n					<li><a href="/register">Sign Up</a></li>\n					<li><a href="/privacy">Privacy</a></li>\n					<li><a href="/about">About</a></li>\n					<li><a href="/press">Press</a></li>\n					<li><a href="/contact">Contact</a></li>\n				</ul>\n			</div>\n		</div>\n	</div>\n</footer>\n'),e.put("partials/inner.html",'<nav class="sidebar" fixed-sidebar>\n	<ul ng-show="isCurrentPage(\'/login\') || isCurrentPage(\'/register\') || isCurrentPage(\'/forgot\')">\n		<li class="solo" ng-show="isCurrentPage(\'/login\')">\n			<div class="link">\n				<i class="fa fa-sign-in"></i>\n				<span>Login</span>\n			</div>\n		</li>\n		<li class="solo" ng-show="isCurrentPage(\'/register\')">\n			<a href="/register" class="link">\n				<i class="fa fa-pencil"></i>\n				<span>Register</span>\n			</a>\n		</li>\n		<li class="solo" ng-show="isCurrentPage(\'/forgot\')">\n			<div class="link">\n				<i class="fa fa-question"></i>\n				<span>Forgot</span>\n			</div>\n		</li>\n		<div class="bottom">\n			<li>\n				<a href="/" class="link">\n					<i class="fa fa-home"></i>\n					<span>Home</span>\n				</a>\n			</li>\n		</div>\n	</ul>\n	<ul ng-show="(isCurrentPage(\'/privacy\') || isCurrentPage(\'/contact\')) || isCurrentPage(\'/about\') || isCurrentPage(\'/press\')">\n		<li class="solo" ng-show="isCurrentPage(\'/privacy\')">\n			<div class="link">\n				<i class="fa fa-question"></i>\n			</div>\n		</li>\n		<li class="solo" ng-show="isCurrentPage(\'/contact\')">\n			<div class="link">\n				<i class="fa fa-envelope"></i>\n			</div>\n		</li>\n		<li class="solo" ng-show="isCurrentPage(\'/about\')">\n			<div class="link">\n				<i class="fa fa-users"></i>\n			</div>\n		</li>\n		<li class="solo" ng-show="isCurrentPage(\'/press\')">\n			<div class="link">\n				<i class="fa fa-microphone"></i>\n			</div>\n		</li>\n		<div class="bottom">\n			<li>\n				<a href="/" class="link">\n					<i class="fa fa-home"></i>\n					<span>Home</span>\n				</a>\n			</li>\n		</div>\n	</ul>\n	<ul ng-hide="isCurrentPage(\'/login\') || isCurrentPage(\'/register\') || isCurrentPage(\'/forgot\') || isCurrentPage(\'/reset\') || isCurrentPage(\'/activate\') || (isCurrentPage(\'/privacy\') || isCurrentPage(\'/contact\')) || isCurrentPage(\'/about\') || isCurrentPage(\'/press\') || !isLoggedIn()">\n		<li class="post" ng-class="{true:\'active\', false:\'\'}[isCurrentPage(\'/post\')]">\n			<a href="/post" class="link">\n				<i class="fa fa-plus"></i>\n				<span>Post</span>\n			</a>\n		</li>\n		<li ng-class="{true:\'active\', false:\'\'}[isCurrentPage(\'/feed\')]">\n			<a href="/feed" class="link">\n				<i class="fa fa-list"></i>\n				<span>My Feed</span>\n			</a>\n		</li>\n		<li ng-class="{true:\'active\', false:\'\'}[isCurrentPage(\'/explore\')]">\n			<a href="/explore" class="link">\n				<i class="fa fa-compass"></i>\n				<span>Explore</span>\n			</a>\n		</li>\n		<li ng-class="{true:\'active\', false:\'\'}[isCurrentPage(\'/calendar\')]">\n			<a href="/calendar" class="link">\n				<i class="fa fa-calendar-o"></i>\n				<span>Calendar</span>	\n			</a>\n		</li>\n		<li ng-class="{true:\'active\', false:\'\'}[isCurrentPage(\'/profile/{{user.username}}\')]">\n			<a ng-href="/profile/{{user.username}}" class="link">\n				<i class="fa fa-user"></i>\n				<span>Profile</span>		\n			</a>\n		</li>\n		<div class="bottom">\n			<li ng-class="{true:\'active\', false:\'\'}[isCurrentPage(\'/settings\')]">\n				<a href="/settings" class="link">\n					<i class="fa fa-cogs"></i>\n					<span>Settings</span>\n				</a>\n			</li>\n			<li>\n				<a href ng-click="logout()" class="link">\n					<i class="fa fa-sign-out"></i>\n					<span>Sign Out</span>\n				</a>\n			</li>\n		</div>\n	</ul>\n</nav>\n<div style="position:fixed;bottom:10px;right:10px;z-index:999;">\n	<alert ng-repeat="notification in notifications" close="closeNotification($index)">\n		<p ng-bind-html="notification.msg"></p>\n	</alert>\n</div>\n<section class="main full-height" ui-view></section>'),e.put("partials/login.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Login to Campuslively</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="table full-width full-height__header">\n	<div class="td vertical-align-middle text-center">\n		<div class="box island inline-block text-left top-highlight" style="width: 425px;">\n			<img src="http://assets.campuslively.com/img/logo.png" alt="Campuslively logo" style="width: 250px;" class="center-block" />\n			<form name="loginForm" ng-submit="login()" class="nudge-half--ends">\n				<label for="username" class="muted">Username</label>\n				<div class="input-prepend full nudge--bottom">\n					<div class="icon">\n						<i class="fa fa-user"></i>\n					</div>\n					<input type="text" id="username" ng-model="username" placeholder="username" required autofocus />\n				</div>\n				<label for="password" class="muted">Password</label>\n				<div class="input-prepend full nudge--bottom">\n					<div class="icon">\n						<i class="fa fa-lock"></i>\n					</div>\n					<input type="password" id="password" ng-model="password" placeholder="password" required />\n				</div>\n				<span class="block red weight--bold nudge--bottom" ng-show="loginError && !showResend" ng-bind="loginError"></span>\n				<span class="block red weight--bold nudge--bottom" ng-show="showResend && !emailResent">Account has not been activated. <a href ng-click="resendActivation(username)">Resend activation email</a></span>\n				<span class="block green weight--bold nudge--bottom" ng-show="emailResent">Your activation email has been resent.</span>\n				<input type="submit" value="Login" class="btn full-width" ng-disabled="loginForm.$invalid" />\n			</form>\n			<a href="/forgot" class="block epsilon">Forgot your password?</a>\n			<a href="/register" class="block epsilon nudge-quarter--top">Not registered yet?</a>\n		</div>\n	</div>\n</div>'),e.put("partials/post.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height full-width">\n			<div class="td four-fifths vertical-align-middle">\n				<h1 class="flush blue" ng-hide="eventPosted">Post An Event</h1>\n				<h1 class="flush blue" ng-show="eventPosted">Event Posted!</h1>\n			</div>\n			<div class="td one-fifth vertical-align-middle text-right">\n				<a ng-href="/event/{{postedEvent._id}}" class="btn" ng-show="eventPosted">Go To Event <i class="fa fa-arrow-right"></i></a>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--top soft--bottom">\n	<form name="eventForm" ng-submit="postEvent()" ng-hide="eventPosted">\n		<div class="line nudge-half--bottom">\n			<div class="unit one-twelfth label-container">\n				<label for="name">Name <span class="red">*</span></label>\n			</div>\n			<div class="unit eleven-twelfths last-unit">\n				<input type="text" id="name" ng-model="event.title" class="full-width" placeholder="Event name" required />\n			</div>\n		</div>\n		<div class="line nudge-half--bottom">\n			<div class="unit one-twelfth label-container">\n				<label for="details">Details</label>\n			</div>\n			<div class="unit eleven-twelfths last-unit">\n				<textarea id="details" ng-model="event.description" class="full-width medium" placeholder="Details about the event"></textarea>\n					<span class="epsilon muted">Bold text can be created by wrapping text in <strong>**double asterisks**</strong>. Italic text can be created by wrapping text in <em>//double front-slashes//</em>.</span>\n			</div>\n		</div>\n		<div class="line">\n			<div class="unit one-twelfth label-container">\n				<label for="location">Where <span class="red">*</span></label>\n			</div>\n			<div class="unit eleven-twelfths last-unit">\n				<div class="input-prepend full">\n					<div class="icon">\n						<i class="fa fa-building-o"></i>\n					</div>\n					<input class="foursquare" type="text" id="location" ng-model="eventLocation" placeholder="Location of event" ng-required="!locationAddress" typeahead="venue.name for venue in venues | filter:$viewValue | limitTo:8" typeahead-min-length="0" ng-blur="checkLocation()" autocomplete="off" />\n				</div>\n			</div>\n		</div>\n		<div class="line">\n			<div class="unit one-twelfth label-container"></div>\n			<div class="unit eleven-twelfths last-unit">\n				<span class="epsilon muted">If the venue you\'re looking for doesn\'t appear, you can separately enter a new name and/or address.</span>\n			</div>\n		</div>\n		<div class="line nudge-half--bottom" ng-show="showAddressInput">\n			<div class="unit one-twelfth label-container"></div>\n			<div class="unit eleven-twelfths last-unit">\n				<div class="input-prepend full">\n					<div class="icon">\n						<i class="fa fa-map-marker"></i>\n					</div>\n					<input type="text" class="full-width" id="locationAddress" ng-model="locationAddress" placeholder="111 Road Name, City, State" ng-blur="checkAddress()" ng-required="!eventLocation" />\n				</div>\n			</div>\n		</div>\n		<div class="line nudge-half--bottom">\n			<div class="unit one-twelfth label-container">\n				<label for="roomNumber">Room #</label>\n			</div>\n			<div class="unit eleven-twelfths last-unit">\n				<input type="text" class="full-width" id="roomNumber" ng-model="event.roomNumber" placeholder="123" />\n			</div>\n		</div>\n		<div class="line nudge-half--bottom">\n			<div class="unit one-twelfth label-container"></div>\n			<div class="unit eleven-twelfths last-unit">\n				<div ui-map="locationMap" ui-options="mapOptions" class="map"></div>\n			</div>\n		</div>\n		<div class="line nudge-half--bottom">\n			<div class="unit one-twelfth label-container">\n				<label for="eventDate">When <span class="red">*</span></label>\n			</div>\n			<div class="unit three-twelfths soft--right">\n				<div class="input-prepend full">\n					<div class="icon pointer" ng-click="openDatepicker()">\n						<i class="fa fa-calendar-o"></i>\n					</div>\n					<input type="text" id="eventDate" datepicker-popup="MM/dd/yyyy" ng-model="event.startDate" name="eventDate" placeholder="9/30/2013" is-open="datepickerOpened" min="today" show-weeks="false" required />\n				</div>\n			</div>\n			<div class="unit three-twelfths soft--right">\n				<div class="input-prepend full">\n					<div class="icon">\n						<i class="fa fa-clock-o"></i>\n					</div>\n					<input type="text" id="startTime" ng-model="event.startTime" name="startTime" placeholder="9:00pm" time-autocomplete ng-pattern="/(^([0-9]|[0][0-9]|[1][0-2]):([0-5][0-9])(\\s{0,1})([AM|PM|am|pm]{2,2})$)|(^([0-9]|[1][0-9]|[2][0-3])(\\s{0,1})([AM|PM|am|pm]{2,2})$)/" required />\n				</div>\n			</div>\n			<div class="unit three-twelfths soft--right">\n				<div class="input-prepend full" ng-show="event.startTime.length">\n					<div class="icon">\n						<i class="fa fa-clock-o"></i>\n					</div>\n					<input type="text" id="endTime" ng-model="event.endTime" name="endTime" placeholder="12:00am" time-autocomplete="{{event.startTime}}" ng-pattern="/(^([0-9]|[0][0-9]|[1][0-2]):([0-5][0-9])(\\s{0,1})([AM|PM|am|pm]{2,2})$)|(^([0-9]|[1][0-9]|[2][0-3])(\\s{0,1})([AM|PM|am|pm]{2,2})$)/" />\n				</div>\n			</div>\n			<div class="unit two-twelfths last-unit"></div>\n		</div>\n		<div class="line nudge-half--bottom">\n			<div class="unit one-twelfth label-container">\n				<label for="eventTags">Tags</label>\n			</div>\n			<div class="unit eleven-twelfths last-unit">\n				<input type="text" id="eventTags" name="eventTags" class="full-width" ui-select2="tagOptions" ng-model="event.tags" placeholder="Enter up to 3 tags" />\n			</div>\n		</div>\n		<div class="line nudge-half--bottom">\n			<div class="unit one-twelfth label-container">\n				<label for="eventImage">Picture</label>\n			</div>\n			<div class="unit eleven-twelfths last-unit">\n				<input class="full-width" id="eventImage" name="eventImage" type="file" accept="image/*" image="eventImage" />\n			</div>\n		</div>\n		<div class="event-img nudge-half--bottom" ng-show="eventImage" ng-style="{\'background-image\': \'url(\' + eventImage.url + \')\'}"></div>\n		<div class="line nudge-half--bottom">\n			<div class="unit one-twelfth label-container">\n				<label for="private">Privacy</label>\n			</div>\n			<div class="unit five-twelfths label-container">\n				<div class="dropdown">\n					<a href class="dropdown-toggle">\n						{{ eventPrivacy.label }} <i class="fa fa-chevron-down muted weight--normal"></i>\n					</a>\n					<ul class="dropdown-menu">\n						<li ng-repeat="option in privacyOptions">\n							<a href ng-bind="option.label" ng-click="changePrivacy(option)"></a>\n						</li>\n					</ul>\n				</div>\n			</div>\n			<div class="unit five-twelfths label-container text-right" ng-show="user.admin == true">\n				<label for="anonymous">Post Anonymously</label>\n			</div>\n			<div class="unit one-twelfth label-container text-right last-unit" ng-show="user.admin == true">\n				<input type="checkbox" id="anonymous" name="anonymous" ng-model="anonymous" />\n			</div>\n		</div>\n		<div class="line">\n			<div class="unit full-width last-unit">\n			    <span class="red weight--bold nudge-half--bottom" ng-show="eventForm.startTime.$error.pattern">Not a valid time. Must be of format HH:MM(am/pm)</span>\n			    <span class="red weight--bold nudge-half--bottom" ng-show="eventForm.endTime.$error.pattern">Not a valid time. Must be of format HH:MM(am/pm)</span>\n				<span class="red weight--bold nudge-half--bottom" ng-show="postError" ng-bind="postError"></span>\n			</div>\n		</div>\n		<div class="line">\n			<div class="unit full-width last-unit text-right">\n				<input type="submit" class="btn" value="Post Event" ng-disabled="eventForm.$invalid" />\n			</div>\n		</div>\n	</form>\n	<div ng-show="eventPosted" ng-controller="postedCtrl">\n		<div ng-hide="invitesSent">\n			<h2 class="flush green weight--bold">Select people to invite:</h2>\n			<h2 class="blue text-center" ng-show="loadingUsers">Loading...</h2>\n			<input type="text" class="full-width nudge-half--bottom" placeholder="Search users..." ng-model="searchUsers" ng-show="users.length" />\n			<div ng-repeat="user in filteredUsers = (users | filter: { displayName: searchUsers } | orderBy: \'displayName\')" class="inline-block islet">\n				<div class="user-img-modal" ng-style="{\'background-image\': \'url(\' + user.pictureUrl + \')\'}" ng-class="{invitee: isInvitee(user._id)}">\n					<a href ng-click="toggleInvitee(user._id)" tooltip="{{user.displayName}}" tooltip-placement="bottom"></a>\n					<div class="checkmark"><i class="fa fa-check"></i></a></div>\n				</div>\n			</div>\n			<h2 class="blue text-center" ng-show="!users.length && !loadingUsers">No users left to invite!</h2>\n			<h2 class="blue text-center" ng-show="!filteredUsers.length && !loadingUsers">No users match your search.</h2>\n			<div class="text-right nudge-half--ends">\n				<a href class="btn text-center" ng-click="sendInvites()" ng-disabled="!invitees.length">Send Invites</a>\n			</div>\n		</div>\n		<h2 class="blue text-center" ng-show="invitesSent">Invites sent!</h2>\n		<h2 class="flush green weight--bold">Share the event:</h2>\n		<h3 class="caps nudge-half--ends">Event URL:</h3>\n    	<input type="text" class="full-width" ng-model="eventUrl" input-select readonly="readonly" />\n    	<div class="line nudge--top">\n	    	<div class="unit one-third soft--right">\n	        	<a ng-click="openTweet()" class="btn twitter full-width text-center"><i class="fa fa-twitter"></i> Tweet</a>\n			</div>\n			<div class="unit one-third soft-half--sides">\n				<a href ng-click="shareEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Share</a>\n			</div>\n			<div class="unit one-third last-unit soft--left">\n				<a href ng-click="sendEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Send</a>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("partials/press.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Press</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<div class="table full-width">\n		<div class="td one-sixth">\n			<img src="http://assets.campuslively.com/img/BU-Master-Logo.png" class="full-width" />\n		</div>\n		<div class="td five-sixths vertical-align-middle soft--left">\n			<a href="http://www.bu.edu/entrepreneurship/events/new-venture-competitions/pitch-pizza/" target="_blank"><h2 class="flush ">2014 Spring Pitch Pizza Competition Winners</h2></a>\n			<h3 class="flush">February 7, 2014</h3>\n		</div>\n	</div>\n</div>'),e.put("partials/privacy.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Privacy Policy</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<h2 class="flush">What information do we collect?</h2>\n	<p>\n	We collect information from you when you register on our site or fill out a form.\n	When ordering or registering on our site, as appropriate, you may be asked to enter information about yourself. You may, however, visit parts of our site anonymously.\n	</p>\n	<h2 class="flush--bottom">What do we use your information for?</h2>\n	<p>\n	Any of the information we collect from you may be used in one of the following ways\n	<ul>\n	<li>\n	To personalize your experience\n	(your information helps us to better respond to your individual needs)\n	</li>\n	<li>\n	To improve our website\n	(we continually strive to improve our website offerings based on the information and feedback we receive from you)\n	</li>\n	<li>\n	To improve customer service\n	(your information helps us to more effectively respond to your customer service requests and support needs)\n	</li>\n	</ul>\n	</p>\n	<h2 class="flush--bottom">How do we protect your information?</h2>\n	<p>\n	We implement a variety of security measures to maintain the safety of your personal information when you enter, submit, or access your personal information.\n	</p>\n	<h2 class="flush--bottom">Do we use cookies?</h2>\n	<p>\n	Yes (Cookies are small files that a site or its service provider transfers to your computers hard drive through your Web browser (if you allow) that enables the sites or service providers systems to recognize your browser and capture and remember certain information\n	We use cookies to understand and save your preferences for future visits and compile aggregate data about site traffic and site interaction so that we can offer better site experiences and tools in the future. We may contract with third-party service providers to assist us in better understanding our site visitors. These service providers are not permitted to use the information collected on our behalf except to help us conduct and improve our business.\n	</p>\n	<h2 class="flush--bottom">Do we disclose any information to outside parties?</h2>\n	<p>\n	We do not sell, trade, or otherwise transfer to outside parties your personally identifiable information. This does not include trusted third parties who assist us in operating our website, conducting our business, or servicing you, so long as those parties agree to keep this information confidential. We may also release your information when we believe release is appropriate to comply with the law, enforce our site policies, or protect ours or others rights, property, or safety. However, non-personally identifiable visitor information may be provided to other parties for marketing, advertising, or other uses.\n	<h2 class="flush--bottom">Third party links</h2>\n	<p>\n	Occasionally, at our discretion, we may include or offer third party products or services on our website. These third party sites have separate and independent privacy policies. We therefore have no responsibility or liability for the content and activities of these linked sites. Nonetheless, we seek to protect the integrity of our site and welcome any feedback about these sites.\n	</p>\n	<h2 class="flush--bottom">California Online Privacy Protection Act Compliance</h2>\n	<p>\n	Because we value your privacy we have taken the necessary precautions to be in compliance with the California Online Privacy Protection Act. We therefore will not distribute your personal information to outside parties without your consent.\n	As part of the California Online Privacy Protection Act, all users of our site may make any changes to their information at anytime by logging in and going to the \'Account Settings\' page.\n	</p>\n	<h2 class="flush--bottom">Childrens Online Privacy Protection Act Compliance</h2>\n	<p>\n	We are in compliance with the requirements of COPPA (Childrens Online Privacy Protection Act), we do not collect any information from anyone under 13 years of age. Our website, products and services are all directed to people who are at least 18 years old or older.\n	</p>\n	<h2 class="flush--bottom">Online Privacy Policy Only</h2>\n	<p>\n	This online privacy policy applies only to information collected through our website and not to information collected offline.\n	</p>\n	<h2 class="flush--bottom">Your Consent</h2>\n	<p>\n	By using our site, you consent to our web site privacy policy.\n	</p>\n	<h2 class="flush--bottom">Changes to our Privacy Policy</h2>\n	<p>\n	If we decide to change our privacy policy, we will post those changes on this page.\n	This policy was last modified on November 21, 2013\n	</p>\n</div>'),e.put("partials/profile.html",'<div class="loading" ng-show="loading">\n	<h2 class="flush">Loading events...</h2>\n</div>\n<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td one-tenth vertical-align-middle soft-half--right">\n				<div class="user-img-profile" ng-style="{\'background-image\': \'url(\' + profile.pictureUrl + \')\'}"></div>\n			</div>\n			<div class="td six-tenths vertical-align-middle">\n				<h1 class="flush" ng-bind="profile.displayName"></h1>\n				<div class="normal-lh">\n					<a href ng-click="openLocation(profile)" tooltip="Location" ng-show="profile.type == \'group\' && profile.address" class="icon-link">\n						<i class="beta fa fa-map-marker nudge-half--right"></i>\n					</a>\n					<a ng-href="{{profile.website}}" target="_blank" tooltip="Website" ng-show="profile.type == \'group\' && profile.website" class="icon-link">\n						<i class="beta fa fa-paperclip nudge-half--right"></i>\n					</a>\n					<a ng-href="http://www.twitter.com/{{profile.twitterLink}}" target="_blank" tooltip="Twitter" ng-show="profile.twitterLink" class="icon-link">\n						<i class="beta fa fa-twitter nudge-half--right"></i>\n					</a>\n					<a ng-href="http://www.facebook.com/{{profile.facebookLink}}" target="_blank" tooltip="Facebook" ng-show="profile.facebookLink" class="icon-link">\n						<i class="beta fa fa-facebook nudge-half--right"></i>\n					</a>\n				</div>\n			</div>\n			<div class="td two-tenths normal-lh vertical-align-middle text-right">\n				<a href="/settings" class="btn" ng-show="profile._id == user._id"><i class="fa fa-cogs"></i> Settings</a>\n				<a href class="btn" ng-click="toggleSubscribe()" ng-hide="isSubscribed() || profile._id == user._id"><i class="fa fa-star"></i> Subscribe</a>\n				<a href class="btn" ng-click="toggleSubscribe()" ng-show="isSubscribed() && profile._id != user._id"><i class="fa fa-star-o"></i> Unsubscribe</a>\n				<a href ng-click="openSubscribers()" class="epsilon muted block nudge-quarter--top" ng-show="subscribers.length == 1" ng-bind="subscribers.length + \' subscriber\'"></a>\n				<a href ng-click="openSubscribers()" class="epsilon muted block nudge-quarter--top" ng-show="subscribers.length > 1" ng-bind="subscribers.length + \' subscribers\'"></a>\n			</div>\n\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends" ng-hide="loading">\n	<div class="box islet nudge-half--bottom" ng-show="profile.type == \'group\' && profile.groupDescription">\n		<div class="line">\n			<div class="unit three-percent">\n				<i class="muted fa fa-align-left"></i>\n			</div>\n			<div class="unit ninety-seven-percent last-unit">\n				<p class="pre-wrap" ng-bind-html="profile.groupDescription | urlAndFormat"></p>\n			</div>\n		</div>\n		<carousel interval="5000" class="flush nudge-half--top" ng-show="profile.businessPictureUrls">\n			<slide ng-repeat="slide in profile.businessPictureUrls" active="slide.active">\n				<img ng-src="{{slide}}" style="margin:auto;">\n			</slide>\n		</carousel>\n	</div>\n	<div class="table full-width" ng-show="events.length">\n		<div class="tr">\n			<div class="td one-half vertical-align-middle">\n				<h2 class="flush">Posted Events</h2>\n			</div>\n			<div class="td one-half vertical-align-middle text-right">\n				<div class="dropdown">\n					<a href class="dropdown-toggle">\n						{{ currentSort.label }} <i class="fa fa-chevron-down muted weight--normal"></i>\n					</a>\n					<ul class="dropdown-menu pull-right" style="left:none !important;right:0;">\n						<li ng-repeat="option in sortOptions">\n							<a href ng-bind="option.label" ng-click="changeSort(option)"></a>\n						</li>\n					</ul>\n				</div>\n			</div>\n		</div>\n	</div>\n	<hr ng-show="events.length" />\n	<div class="line fade nudge--ends" ng-repeat="event in events | orderBy:currentSort.value">\n		<article ng-include="\'templates/event.html\'"></article>\n	</div><!-- event end -->\n	<a href ng-click="loadMore()" class="btn full-width text-center" ng-show="moreToLoad && !loadingMore && !loading">Load More</a>\n	<a href class="btn full-width text-center" ng-show="loadingMore && !loading">Loading more...</a>\n	<div class="text-center" ng-hide="events.length">\n		<h1 class="flush blue" ng-show="profile._id !== user._id"><span ng-bind="profile.displayName"></span> has no upcoming events yet!</h1>\n		<div ng-show="profile._id == user._id">\n			<h1 class="flush blue">You haven\'t posted any upcoming events yet!</h1>\n			<a href="/post" class="btn nudge--top">Post Event</a>\n		</div>\n	</div>\n</div>\n\n<script type="text/ng-template" id="attendingModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Attending</h3>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n    	<ul ng-show="items.length" class="modal-user-list table full-width">\n	        <li ng-repeat="attendingUser in items" class="tr full-width">\n	        	<div class="td one-tenth vertical-align-middle">\n	        		<div class="user-img-modal" ng-style="{\'background-image\': \'url(\' + attendingUser.pictureUrl + \')\'}">\n	        			<a ng-href="profile/{{attendingUser.username}}" ng-click="clickLink()"></a>\n	        		</div>\n	        	</div>\n	        	<div class="td nine-tenths vertical-align-middle soft--left">\n	        		<a ng-href="profile/{{attendingUser.username}}" ng-click="clickLink()" class="weight--bold" ng-bind="attendingUser.displayName"></a>\n	        	</div>\n			</li>\n		</ul>\n		<div ng-hide="items.length">\n			<h2 class="flush green text-center">No one has RSVPd to this event yet!</h2>\n		</div>\n    </div>\n</script>\n\n<script type="text/ng-template" id="shareModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Share Event</h2>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n    	<h3 class="caps flush--top nudge-half--bottom">Event URL:</h3>\n    	<input type="text" class="full-width" ng-model="eventUrl" input-select readonly="readonly" />\n    	<div class="line nudge--top">\n	    	<div class="unit one-third soft--right">\n	        	<a ng-click="openTweet()" class="btn twitter full-width text-center"><i class="fa fa-twitter"></i> Tweet</a>\n			</div>\n			<div class="unit one-third soft-half--sides">\n				<a href ng-click="shareEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Share</a>\n			</div>\n			<div class="unit one-third last-unit soft--left">\n				<a href ng-click="sendEvent()" class="btn fb full-width text-center"><i class="fa fa-facebook"></i> Send</a>\n			</div>\n		</div>\n    </div>\n</script>\n\n<script type="text/ng-template" id="locationModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Location</h3>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n        <div ui-map="locationMap" ui-options="mapOptions" ui-event="{\'map-tilesloaded\': \'placeMarker(locationMap)\'}" class="map nudge--ends"></div>\n    </div>\n</script>\n\n<script type="text/ng-template" id="subscribersModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Subscribers</h3>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n    	<ul ng-show="items.length" class="modal-user-list table full-width">\n	        <li ng-repeat="attendingUser in items" class="tr full-width">\n	        	<div class="td one-tenth vertical-align-middle">\n	        		<div class="user-img-modal" ng-style="{\'background-image\': \'url(\' + attendingUser.pictureUrl + \')\'}">\n	        			<a ng-href="profile/{{attendingUser.username}}" ng-click="clickLink()"></a>\n	        		</div>\n	        	</div>\n	        	<div class="td nine-tenths vertical-align-middle soft--left">\n	        		<a ng-href="profile/{{attendingUser.username}}" ng-click="clickLink()" class="weight--bold" ng-bind="attendingUser.displayName"></a>\n	        	</div>\n			</li>\n		</ul>\n		<div ng-hide="items.length">\n			<h2 class="flush green text-center">No one has RSVPd to this event yet!</h2>\n		</div>\n    </div>\n</script>'),e.put("partials/register-group.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Register for Campuslively: Club/Group</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<div class="line" ng-hide="emailSent">\n		<div class="unit six-tenths">\n			<form name="registerForm" ng-submit="register(user)">\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="username">Username <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<input type="text" id="username" name="username" ng-model="user.username" class="full-width" placeholder="Account username" ng-pattern="/^[a-zA-Z0-9.-]*$/" ng-blur="checkUsername()" required />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="email">Email <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<input type="email" id="email" name="email" ng-model="user.email" class="full-width" placeholder="Your email address" ng-blur="checkEmail()" required />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="groupName">Name <span class="red">*</span></label>\n					</div>\n					<div class="unit full-width last-unit">\n						<input type="text" id="groupName" name="groupName" ng-model="user.groupName" class="full-width" placeholder="Your club or group name" required />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="groupDescription">Description</label>\n					</div>\n					<div class="unit full-width last-unit">\n						<textarea id="groupDescription" name="groupDescription" ng-model="user.groupDescription" class="full-width medium" placeholder="Description of your club or group"></textarea>\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="school">School <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<select class="full-width" ui-select2 ng-model="user.school" placeholder="Select your school" required>\n						    <option value=""></option>\n						    <option ng-repeat="school in schools" value="{{school._id}}">{{ school.name }}</option>\n						</select>\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="password">Password <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<input type="password" id="password" name="password" ng-model="user.password" class="full-width" placeholder="Your password" required />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="password">Confirm <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<input type="password" id="confirmPassword" ng-model="confirmPassword" name="confirmPassword" password-verify="user.password" class="full-width" placeholder="Confirm your password" required />\n					</div>\n				</div>\n				<div class="line">\n					<div class="unit full-width last-unit">\n						<span class="red weight--bold block nudge-half--bottom" ng-show="registerForm.username.$error.pattern">\n							Your username can only contain letters, numbers, periods, and dashes.\n						</span>\n						<span class="red weight--bold block nudge-half--bottom" ng-show="registerForm.confirmPassword.$error.passwordVerify">\n							Passwords do not match.\n						</span>\n						<span class="red weight--bold block nudge-half--bottom" ng-show="usernameTaken">\n							That username is already taken.\n						</span>\n						<span class="red weight--bold block nudge-half--bottom" ng-show="emailTaken">\n							That email address is already in use.\n						</span>\n						<span class="block red weight--bold nudge-half--bottom" ng-show="registerError" ng-bind="registerError"></span>\n					</div>\n				</div>\n				<div class="line">\n					<div class="unit three-percent label-container soft--right">\n						<input type="checkbox" ng-model="acceptTerms" />\n					</div>\n					<div class="unit ninety-seven-percent last-unit label-container soft--left">\n						<span><span class="red">*</span>I agree to the <a href ng-click="openTerms()">Terms and Conditions</a>.</span>\n					</div>\n				</div>\n				<div class="line">\n					<div class="unit full-width text-right last-unit">\n						<input type="submit" class="btn" value="Register" ng-disabled="registerForm.$invalid || usernameTaken || !acceptTerms" />\n					</div>\n				</div>\n			</form>\n		</div>\n		<div class="unit four-tenths last-unit soft--left">\n			<h2 class="flush nudge--bottom blue">A new way to connect with your student audience.</h2>\n			<div class="table full-width">\n				<div class="tr">\n					<div class="td one-tenth vertical-align-middle text-center">\n						<h1 class="huge flush green"><i class="fa fa-thumbs-up"></i></h1>\n					</div>\n					<div class="td nine-tenths vertical-align-middle soft-half--left">\n						<h3 class="flush">Automatically connect to your registered Facebook followers</h3>\n					</div>\n				</div>\n				<div class="tr">\n					<div class="td one-tenth vertical-align-middle text-center">\n						<h1 class="huge flush green"><i class="fa fa-book"></i></h1>\n					</div>\n					<div class="td nine-tenths vertical-align-middle soft-half--left">\n						<h3>Your events become visible to all students at your school</h3>\n					</div>\n				</div>\n				<div class="tr">\n					<div class="td one-tenth vertical-align-middle text-center">\n						<h1 class="huge flush green"><i class="fa fa-map-marker"></i></h1>\n					</div>\n					<div class="td nine-tenths vertical-align-middle soft-half--left">\n						<h3>Your events also become visible to all users near the venue</h3>\n					</div>\n				</div>\n				<div class="tr">\n					<div class="td one-tenth vertical-align-middle text-center">\n						<h1 class="huge flush green"><i class="fa fa-bullhorn"></i></h1>\n					</div>\n					<div class="td nine-tenths vertical-align-middle soft-half--left">\n						<h3>Interact directly with your target audience</h3>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div ng-show="emailSent">\n		<h1 class="green flush">Thank you for registering!</h1>\n		<p class="gamma nudge--ends">An email has been sent to the email address you provided. There will be a link in the email that you must click to activate your account before you will be able to log in.</p>\n		<a href="/" class="btn">Front Page</a>\n	</div>\n</div>\n\n<script type="text/ng-template" id="termsModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Terms and Conditions</h3>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n        <p class="nudge-half--bottom">This Agreement was last modified on February 26, 2014.</p>\n\n		<p>Please read these Terms and Conditions ("Agreement", "Terms and Conditions") carefully before using www.campuslively.com ("the Site") operated by Campuslively ("us", "we", or "our"). This Agreement sets forth the legally binding terms and conditions for your use of the Site at www.campuslively.com.</p>\n		<p>By accessing or using the Site in any manner, including, but not limited to, visiting or browsing the Site or contributing content or other materials to the Site, you agree to be bound by these Terms and Conditions. Capitalized terms are defined in this Agreement.</p>\n\n		<h3 class="weight--bold nudge-half--ends">Intellectual Property</h3>\n		<p>The Site and its original content, features and functionality are owned by Campuslively and are protected by international copyright, trademark, patent, trade secret and other intellectual property or proprietary rights laws.</p>\n\n		<h3 class="weight--bold nudge-half--ends">Termination</h3>\n		<p>We may terminate your access to the Site, without cause or notice, which may result in the forfeiture and destruction of all information associated with you. All provisions of this Agreement that by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability.</p>\n\n		<h3 class="weight--bold nudge-half--ends">Links to Other Sites</h3>\n		<p>Our Site may contain links to third-party sites that are not owned or controlled by Campuslively.</p>\n		<p>Campuslively has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party sites or services. We strongly advise you to read the terms and conditions and privacy policy of any third-party site that you visit.</p>\n\n		<h3 class="weight--bold nudge-half--ends">Governing Law</h3>\n		<p>This Agreement (and any further rules, polices, or guidelines incorporated by reference) shall be governed and construed in accordance with the laws of Massachusetts, United States, without giving effect to any principles of conflicts of law.</p>\n\n		<h3 class="weight--bold nudge-half--ends">Changes to This Agreement</h3>\n		<p>We reserve the right, at our sole discretion, to modify or replace these Terms and Conditions by posting the updated terms on the Site. Your continued use of the Site after any such changes constitutes your acceptance of the new Terms and Conditions.</p>\n		<p>Please review this Agreement periodically for changes. If you do not agree to any of this Agreement or any changes to this Agreement, do not use, access or continue to access the Site or discontinue any use of the Site immediately.</p>\n\n		<p class="nudge-half--top">If you have any questions about this Agreement, please <a href="/contact" ng-click="clickLink()">contact us.</a></p>\n    </div>\n</script>'),e.put("partials/register-student.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Register for Campuslively: Student</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<div class="line" ng-hide="emailSent">\n		<div class="unit six-tenths">\n			<form name="registerForm" ng-submit="register(user)">\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="username">Username <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<input type="text" id="username" name="username" ng-model="user.username" class="full-width" placeholder="Account username" ng-pattern="/^[a-zA-Z0-9.-]*$/" ng-blur="checkUsername()" required />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="email">Email <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<input type="email" id="email" name="email" ng-model="user.email" ng-pattern="/([a-z0-9][-a-z0-9_\\+\\.]*[a-z0-9])@([a-z0-9][-a-z0-9\\.]*[a-z0-9]\\.(edu)|([0-9]{1,3}\\.{3}[0-9]{1,3}))/" class="full-width" placeholder="Your .edu email address" ng-blur="checkEmail()" required />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="firstName">First Name <span class="red">*</span></label>\n					</div>\n					<div class="unit three-tenths">\n						<input type="text" id="firstName" ng-model="user.firstName" class="full-width" placeholder="First Name" required />\n					</div>\n					<div class="unit two-tenths label-container text-right soft-quarter--right">\n						<label for="lastName">Last Name <span class="red">*</span></label>\n					</div>\n					<div class="unit three-tenths last-unit">\n						<input type="text" id="lastName" ng-model="user.lastName" class="full-width" placeholder="Last Name" required />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="gender">Gender <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<div class="table full-width">\n							<div class="tr">\n								<div class="td vertical-align-middle three-percent">\n									<input type="radio" name="gender" ng-model="user.gender" value="male" />\n								</div>\n								<div class="td vertical-align-middle one-twelfth">\n									<span class="soft-half--left">Male</span>\n								</div>\n								<div class="td vertical-align-middle three-percent soft--left">\n									<input type="radio" name="gender" ng-model="user.gender" value="female" /> \n								</div>\n								<div class="td vertical-align-middle">\n									<span class="soft-half--left">Female</span>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="school">School <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<select class="full-width" ui-select2 ng-model="user.school" placeholder="Select your school" required>\n						    <option value=""></option>\n						    <option ng-repeat="school in schools" value="{{school._id}}">{{ school.name }}</option>\n						</select>\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="password">Password <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<input type="password" id="password" ng-model="user.password" name="password" class="full-width" placeholder="Your password" required />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-tenths label-container">\n						<label for="password">Confirm <span class="red">*</span></label>\n					</div>\n					<div class="unit eight-tenths last-unit">\n						<input type="password" id="confirmPassword" ng-model="confirmPassword" name="confirmPassword" password-verify="user.password" class="full-width" placeholder="Confirm your password" required />\n					</div>\n				</div>\n				<div class="line">\n					<div class="unit full-width last-unit">\n						<span class="red weight--bold block nudge-half--bottom" ng-show="registerForm.username.$error.pattern">\n							Username can only contain letters, numbers, periods, and dashes.\n						</span>\n						<span class="red weight--bold block nudge-half--bottom" ng-show="registerForm.email.$error.pattern && !registerForm.username.$error.pattern">\n							Your email address must end in .edu.\n						</span>\n						<span class="red weight--bold block nudge-half--bottom" ng-show="usernameTaken">\n							That username is already taken.\n						</span>\n						<span class="red weight--bold block nudge-half--bottom" ng-show="emailTaken">\n							That email address is already in use.\n						</span>\n						<span class="red weight--bold block nudge-half--bottom" ng-show="registerForm.confirmPassword.$error.passwordVerify">\n							Passwords do not match.\n						</span>\n						<span class="red weight--bold block nudge-half--bottom" ng-show="registerError" ng-bind="registerError"></span>\n					</div>\n				</div>\n				<div class="line">\n					<div class="unit three-percent label-container soft--right">\n						<input type="checkbox" ng-model="acceptTerms" />\n					</div>\n					<div class="unit ninety-seven-percent last-unit label-container soft--left">\n						<span><span class="red">*</span>I agree to the <a href ng-click="openTerms()">Terms and Conditions</a>.</span>\n					</div>\n				</div>\n				<div class="line">\n					<div class="unit two-tenths text-right last-unit">\n						<input type="submit" class="btn" value="Register" ng-disabled="registerForm.$invalid || usernameTaken || emailTaken || !acceptTerms" />\n					</div>\n				</div>\n			</form>\n		</div>\n		<div class="unit four-tenths last-unit soft--left">\n			<h2 class="flush nudge--bottom blue">A new way to see what\'s going on around your school.</h2>\n			<div class="table full-width">\n				<div class="tr">\n					<div class="td one-tenth vertical-align-middle text-center">\n						<h1 class="huge flush green"><i class="fa fa-plus"></i></h1>\n					</div>\n					<div class="td nine-tenths vertical-align-middle soft-half--left">\n						<h3>Easily post your own events</h3>\n					</div>\n				</div>\n				<div class="tr">\n					<div class="td one-tenth vertical-align-middle text-center">\n						<h1 class="huge flush green"><i class="fa fa-book"></i></h1>\n					</div>\n					<div class="td nine-tenths vertical-align-middle soft-half--left">\n						<h3 class="flush">View all events posted for your school</h3>\n					</div>\n				</div>\n				<div class="tr">\n					<div class="td one-tenth vertical-align-middle text-center">\n						<h1 class="huge flush green"><i class="fa fa-map-marker"></i></h1>\n					</div>\n					<div class="td nine-tenths vertical-align-middle soft-half--left">\n						<h3>Even see all events around you</h3>\n					</div>\n				</div>\n				<div class="tr">\n					<div class="td one-tenth vertical-align-middle text-center">\n						<h3 class="flush green"><i class="fa fa-clock-o"></i> <i class="fa fa-calendar-o"></i></h3>\n					</div>\n					<div class="td nine-tenths vertical-align-middle soft-half--left">\n						<h3>View them as a live feed, or further into the future</h3>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div ng-show="emailSent">\n		<h1 class="green flush">Thank you for registering!</h1>\n		<p class="gamma nudge--ends">An email has been sent to the .edu address you provided. There will be a link in the email that you must click to activate your account before you will be able to log in.</p>\n		<a href="/" class="btn">Front Page</a>\n	</div>\n</div>\n\n<script type="text/ng-template" id="termsModal.html">\n    <div class="modal-header clearfix">\n        <h3 class="flush float-left weight--bold">Terms and Conditions</h3>\n        <i class="fa fa-times close" ng-click="ok()"></i>\n    </div>\n    <div class="modal-body">\n        <p class="nudge-half--bottom">This Agreement was last modified on February 26, 2014.</p>\n\n		<p>Please read these Terms and Conditions ("Agreement", "Terms and Conditions") carefully before using www.campuslively.com ("the Site") operated by Campuslively ("us", "we", or "our"). This Agreement sets forth the legally binding terms and conditions for your use of the Site at www.campuslively.com.</p>\n		<p>By accessing or using the Site in any manner, including, but not limited to, visiting or browsing the Site or contributing content or other materials to the Site, you agree to be bound by these Terms and Conditions. Capitalized terms are defined in this Agreement.</p>\n\n		<h3 class="weight--bold nudge-half--ends">Intellectual Property</h3>\n		<p>The Site and its original content, features and functionality are owned by Campuslively and are protected by international copyright, trademark, patent, trade secret and other intellectual property or proprietary rights laws.</p>\n\n		<h3 class="weight--bold nudge-half--ends">Termination</h3>\n		<p>We may terminate your access to the Site, without cause or notice, which may result in the forfeiture and destruction of all information associated with you. All provisions of this Agreement that by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability.</p>\n\n		<h3 class="weight--bold nudge-half--ends">Links to Other Sites</h3>\n		<p>Our Site may contain links to third-party sites that are not owned or controlled by Campuslively.</p>\n		<p>Campuslively has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party sites or services. We strongly advise you to read the terms and conditions and privacy policy of any third-party site that you visit.</p>\n\n		<h3 class="weight--bold nudge-half--ends">Governing Law</h3>\n		<p>This Agreement (and any further rules, polices, or guidelines incorporated by reference) shall be governed and construed in accordance with the laws of Massachusetts, United States, without giving effect to any principles of conflicts of law.</p>\n\n		<h3 class="weight--bold nudge-half--ends">Changes to This Agreement</h3>\n		<p>We reserve the right, at our sole discretion, to modify or replace these Terms and Conditions by posting the updated terms on the Site. Your continued use of the Site after any such changes constitutes your acceptance of the new Terms and Conditions.</p>\n		<p>Please review this Agreement periodically for changes. If you do not agree to any of this Agreement or any changes to this Agreement, do not use, access or continue to access the Site or discontinue any use of the Site immediately.</p>\n\n		<p class="nudge-half--top">If you have any questions about this Agreement, please <a href="/contact" ng-click="clickLink()">contact us.</a></p>\n    </div>\n</script>'),e.put("partials/register.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Register for Campuslively</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="table full-width full-height__header">\n	<div class="td full-height full-width vertical-align-middle text-center">\n		<h2>What would you like to register as?</h2>\n		<div class="box inline-block text-left">\n			<div class="tr">\n				<a href="/register/student" class="option">\n					<h1 class="flush"><i class="fa fa-user"></i></h1>\n					Student\n				</a>\n				<a href="/register/group" class="option">\n					<h1 class="flush"><i class="fa fa-users"></i></h1>\n					Club/Group\n				</a>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("partials/resend.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Activate Your Account</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<h1 class="green flush">Email Resent</h1>\n	<p class="gamma nudge--ends">An email containing the link to activate your account has been sent again to your email address.</p>\n	<a href="/login" class="btn">Log In</a>\n</div>'),e.put("partials/reset.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Reset Your Password</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="table full-width full-height__header" ng-hide="passwordChanged">\n	<div class="td vertical-align-middle text-center">\n		<div class="box island inline-block text-left top-highlight" style="width:500px;">\n			<form name="passwordForm" ng-submit="changePassword()">\n				<label for="password" class="muted">New Password</label>\n				<div class="input-prepend full nudge--bottom">\n					<div class="icon">\n						<i class="fa fa-lock"></i>\n					</div>\n					<input type="password" id="password" ng-model="password" placeholder="your new password" required />\n				</div>\n				<label for="password" class="muted">Confirm New Password</label>\n				<div class="input-prepend full nudge--bottom">\n					<div class="icon">\n						<i class="fa fa-lock"></i>\n					</div>\n					<input type="password" id="confirmPassword" ng-model="confirmPassword" name="confirmPassword" password-verify="password" class="full-width" placeholder="Confirm your new password" required />\n				</div>\n				<span class="block nudge--ends red weight--bold" ng-show="resetError" ng-bind="resetError"></span>\n				<span class="red weight--bold block nudge-half--bottom" ng-show="passwordForm.confirmPassword.$error.passwordVerify">\n					Passwords do not match.\n				</span>\n				<input type="submit" value="Change Password" class="btn full-width" ng-disabled="passwordForm.$invalid" />\n			</form>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends" ng-show="passwordChanged">\n	<h1 class="green flush">Password Reset!</h1>\n	<p class="gamma nudge--ends">Your password has been successfully reset.</p>\n	<a href="/login" class="btn">Log In</a>\n</div>'),e.put("partials/settings.html",'<div class="white-top">\n	<div class="container full-height">\n		<div class="table full-height">\n			<div class="td vertical-align-middle">\n				<h1 class="flush blue">Account Settings</h1>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="container soft-half--ends">\n	<div class="line">\n		<div class="unit three-fourths">\n			<form name="settingsForm" ng-submit="saveChanges()" class="nudge-half--bottom">\n				<div class="text-center nudge-half--bottom full-width">\n					<div class="user-img-settings center-block" ng-show="newUserImage" ng-style="{\'background-image\': \'url(\' + newUserImage.url + \')\'}">\n						<a ng-href="/profile/{{user.username}}"></a>\n					</div>\n					<div class="user-img-settings center-block" ng-hide="newUserImage" ng-style="{\'background-image\': \'url(\' + user.pictureUrl + \')\'}">\n						<a ng-href="/profile/{{user.username}}"></a>\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit label-container two-twelfths">\n						<label for="userImage">Picture</label>\n					</div>\n					<div class="unit seven-twelfths">\n						<input class="full-width" id="newUserImage" name="newUserImage" type="file" accept="image/*" image="newUserImage" />\n					</div>\n					<div class="unit three-twelfths last-unit soft-half--left label-container">\n						<a href ng-click="useFacebookImage()" ng-show="user.facebook.id && !usingFacebookImage() && user.type == \'student\'" class="btn fb full-width"><i class="fa fa-facebook"></i> Use Facebook</a>\n						<select class="full-width" ng-model="picturePage" ng-show="user.facebook.managedPages.length && user.type ==\'group\'" ng-change="usePageForImage()">\n						    <option value="">Use a Facebook page</option>\n						    <option ng-repeat="page in user.facebook.managedPages" value="{{page.id}}">{{ page.name }}</option>\n						</select>\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit label-container two-twelfths">\n						<label for="school">School</label>\n					</div>\n					<div class="unit ten-twelfths last-unit">\n						<select class="full-width" ui-select2="schoolSelectOptions" ng-model="userSchool" placeholder="Select your school">\n						    <option value=""></option>\n						    <option ng-repeat="school in schools" value="{{school._id}}">{{ school.name }}</option>\n						</select>\n					</div>\n				</div>\n				<div class="line nudge-half--bottom" ng-show="user.type == \'student\'">\n					<div class="unit label-container two-twelfths">\n						<label for="userFirstName">First</label>\n					</div>\n					<div class="unit four-twelfths">\n						<input class="full-width" id="userFirstName" name="userFirstName" type="text" ng-model="userFirstName" placeholder="first name" />\n					</div>\n					<div class="unit label-container two-twelfths soft-half--right text-right">\n						<label for="userLastName">Last</label>\n					</div>\n					<div class="unit four-twelfths last-unit">\n						<input class="full-width" id="userLastName" name="userLastName" type="text" ng-model="userLastName" placeholder="last name" />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom" ng-show="user.type == \'group\'">\n					<div class="unit label-container two-twelfths">\n						<label for="userGroupName">Name</label>\n					</div>\n					<div class="unit ten-twelfths last-unit">\n						<input type="text" class="full-width" id="userGroupName" placeholder="Your club or group name" ng-model="userGroupName" />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom" ng-show="user.type == \'group\'" >\n					<div class="unit label-container two-twelfths">\n						<label for="userGroupDescription">Description</label>\n					</div>\n					<div class="unit ten-twelfths last-unit">\n						<textarea id="userGroupDescription" name="userGroupDescription" ng-model="userGroupDescription" class="full-width medium" placeholder="Description of your club or group"></textarea>\n						<span class="epsilon muted">Bold text can be created by wrapping text in <strong>**double asterisks**</strong>. Italic text can be created by wrapping text in <em>//double front-slashes//</em>.</span>\n					</div>\n				</div>\n				<div class="line nudge-half--bottom" ng-show="user.type == \'group\'" >\n					<div class="unit label-container two-twelfths">\n						<label for="locationAddress">Address</label>\n					</div>\n					<div class="unit ten-twelfths last-unit">\n						<input type="text" class="full-width" id="locationAddress" name="locationAddress" ng-model="locationAddress" placeholder="Address of your location" ng-change="checkAddress()" />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom" ng-show="user.type == \'group\'" >\n					<div class="unit label-container two-twelfths">\n						<label for="websiteAddress">Website</label>\n					</div>\n					<div class="unit ten-twelfths last-unit">\n						<input type="text" class="full-width" id="websiteAddress" name="websiteAddress" ng-model="websiteAddress" placeholder="Your website address" />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom" ng-show="user.facebook.managedPages.length && user.type == \'group\'">\n					<div class="unit label-container two-twelfths">\n						<label for="userFacebookLink">Facebook</label>\n					</div>\n					<div class="unit ten-twelfths last-unit label-container">\n						<select class="full-width" id="userFacebookLink" name="userFacebookLink" ng-model="userFacebookLink">\n						    <option value="">Choose a Facebook page</option>\n						    <option ng-repeat="page in user.facebook.managedPages" value="{{page.id}}" ng-selected="page.id == userFacebookLink">{{ page.name }}</option>\n						</select>\n					</div>\n				</div>\n				<div class="line nudge-half--bottom" ng-show="!user.facebook.id">\n					<div class="unit label-container two-twelfths">\n						<label for="userFacebookLink">Facebook</label>\n					</div>\n					<div class="unit ten-twelfths last-unit">\n						<input type="text" class="full-width" id="userFacebookLink" name="userFacebookLink" ng-model="userFacebookLink" placeholder="Your Facebook username" />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit label-container two-twelfths">\n						<label for="userTwitterLink">Twitter</label>\n					</div>\n					<div class="unit ten-twelfths last-unit">\n						<input type="text" class="full-width" id="userTwitterLink" name="userTwitterLink" ng-model="userTwitterLink" placeholder="Your Twitter handle" />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit label-container two-twelfths">\n						<label for="userEmail">Email</label>\n					</div>\n					<div class="unit ten-twelfths last-unit">\n						<input type="text" class="full-width" name="emailGroup" id="userEmail" placeholder="email address" ng-model="userEmailGroup" ng-show="user.type == \'group\'" ng-blur="checkEmail()" />\n						<input type="text" class="full-width" name="emailStudent" id="userEmail" placeholder="email address" ng-model="userEmailStudent" ng-pattern="/([a-z0-9][-a-z0-9_\\+\\.]*[a-z0-9])@([a-z0-9][-a-z0-9\\.]*[a-z0-9]\\.(edu)|([0-9]{1,3}\\.{3}[0-9]{1,3}))/" ng-show="user.type == \'student\'" ng-blur="checkEmail()" />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit label-container two-twelfths">\n						<label for="userPassword">Password</label>\n					</div>\n					<div class="unit ten-twelfths last-unit">\n						<input type="password" class="full-width" id="userPassword" placeholder="New password" ng-model="userPassword" />\n					</div>\n				</div>\n				<div class="line nudge-half--bottom">\n					<div class="unit two-twelfths label-container">\n						<label for="password">Confirm</label>\n					</div>\n					<div class="unit ten-twelfths last-unit">\n						<input type="password" id="confirmPassword" ng-model="confirmPassword" name="confirmPassword" password-verify="userPassword" class="full-width" placeholder="Confirm new password" />\n					</div>\n				</div>\n				<div class="line">\n					<div class="unit full-width last-unit text-right">\n						<span class="red weight--bold nudge--right" ng-show="saveError" ng-bind="saveError"></span>\n						<span class="red weight--bold nudge--right" ng-show="settingsForm.emailStudent.$error.pattern && settingsForm.emailStudent.length > 0">\n							Email address must end in .edu.\n						</span>\n						<span class="red weight--bold nudge--right" ng-show="emailTaken">\n							That email address is already in use.\n						</span>\n						<span class="blue weight--bold nudge--right" ng-show="changesSaved">Changes saved!</span>\n						<span class="red weight--bold nudge--right" ng-show="settingsForm.confirmPassword.$error.passwordVerify">\n							Passwords do not match.\n						</span>\n						<input type="submit" class="btn" value="Save Changes" ng-disabled="settingsForm.$invalid || emailTaken" />\n					</div>\n				</div>\n			</form>\n\n			<hr ng-show="user.subscriptions" />\n\n			<h2 class="flush soft-half--bottom" ng-show="user.subscriptions">Manage Subscriptions</h2>\n			<div class="inline-block" ng-repeat="subscription in user.subscriptions">\n				<div class="user-img-subscriptions" ng-style="{\'background-image\': \'url(\' + subscription.pictureUrl + \')\'}">\n					<a ng-href="/profile/{{subscription.username}}" tooltip="{{subscription.displayName}}" tooltip-placement="bottom"></a>\n					<a href class="remove" tooltip="Unsubscribe" tooltip-placement="top" ng-click="removeSubscription(subscription._id)"><i class="fa fa-times"></i></a>\n				</div>\n			</div>\n\n			<hr />\n\n			<a class="btn--muted float-right nudge-half--top" href ng-click="openDelete()">Delete Account</a>\n		</div>\n		<div class="unit one-fourth soft--left last-unit">\n			<a href ng-click="fbLogin()" ng-hide="user.facebook.id" class="btn fb full-width nudge-half--bottom"><i class="fa fa-facebook"></i> Add Facebook</a>\n			<a href ng-click="fbLogout()" ng-show="user.facebook.id" class="btn fb full-width nudge-half--bottom"><i class="fa fa-facebook"></i> Remove Facebook</a>\n			<div class="line nudge-half--bottom" ng-show="user.facebook.id && user.type == \'student\'">\n				<div class="one-twelfth unit">\n					<input type="checkbox" ng-model="user.facebook.autoPost" ng-change="changeFbAutoPost()" id="autoPost" name="autoPost" />\n				</div>\n				<div class="eleven-twelfths last-unit label-container soft-half--left">\n					<label for="autoPost">Autopost Activity</label> \n					<i class="fa fa-question-circle nudge-half--left pointer" ng-click="openExplanation()"></i>\n				</div>\n			</div>\n			<a href ng-click="googleLogin()" ng-hide="user.google.id" class="btn google full-width"><i class="fa fa-google-plus"></i> Add Google</a>\n			<a href ng-click="googleLogout()" ng-show="user.google.id" class="btn google full-width"><i class="fa fa-google-plus"></i> Remove Google</a>\n		</div>\n	</div>\n</div>\n\n<script type="text/ng-template" id="explanationModal.html">\n    <div class="modal-header">\n        <h2 class="flush">Autopost Activity</h2>\n    </div>\n    <div class="modal-body">\n    	<h3 class="weight--bold flush--top nudge-half--bottom">What does this do?</h3>\n    	<p>Enabling this option will automatically post items to Facebook when you:</p>\n    	<ol>\n    		<li class="nudge-half--bottom">Create a new public event</li>\n    		<li>RSVP to an existing public event</li>\n    	</ol>\n    	<p>Disabling this option means nothing will be posted to Facebook without you explicitly doing so.</p>\n    </div>\n    <div class="modal-footer">\n        <button class="btn" ng-click="ok()">Ok</button>\n    </div>\n</script>\n<script type="text/ng-template" id="deleteModal.html">\n    <div class="modal-header">\n        <h2 class="flush">Deleting Your Account</h2>\n    </div>\n    <div class="modal-body">\n    	<h3 class="weight--bold flush--top nudge-half--bottom">Are you sure?</h3>\n    	<p>Once you click the button below, your account will be deleted fully and permanently. There will be no way to restore or retrieve your account. However, events and comments you have posted in the past will not be deleted.</p>\n    	<p class="nudge-half--top">If you ever wish to use Campuslively again, you will have to create a new account.</p>\n    </div>\n    <div class="modal-footer">\n    <button class="btn--red" ng-click="deleteUser()">Delete Account</button>\n    	<button class="btn--muted" ng-click="cancel()">Cancel</button>\n    </div>\n</script>'),e.put("templates/accordion/accordion-group.html",'<div class="accordion-group">\n  <div class="accordion-heading" ><a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a></div>\n  <div class="accordion-body" collapse="!isOpen">\n    <div class="accordion-inner" ng-transclude></div>  </div>\n</div>'),e.put("templates/accordion/accordion.html",'<div class="accordion" ng-transclude></div>'),e.put("templates/alert/alert.html","<div class='alert'>\n	<button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n	<div ng-transclude class=\"islet\"></div>\n</div>\n"),e.put("templates/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a ng-click="prev()" class="carousel-control left" ng-show="slides().length > 1">&lsaquo;</a>\n    <a ng-click="next()" class="carousel-control right" ng-show="slides().length > 1">&rsaquo;</a>\n</div>\n'),e.put("templates/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item\" ng-transclude></div>\n"),e.put("templates/datepicker/datepicker.html",'<table class="center-block">\n  <thead>\n    <tr class="text-center">\n      <th><button type="button" class="btn pull-left" ng-click="move(-1)"><i class="fa fa-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn--blue" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn pull-right" ng-click="move(1)"><i class="fa fa-chevron-right"></i></button></th>\n    </tr>\n    <tr class="text-center soft-half--sides" ng-show="labels.length > 0">\n      <th ng-repeat="label in labels">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-repeat="dt in row" class="text-center">\n        <button type="button" style="width:100%;" class="btn datepicker" ng-class="{\'btn\': dt.selected, \'muted\': dt.secondary}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{muted: dt.secondary}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'),e.put("templates/datepicker/popup.html",'<ul class="dropdown-menu islet" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" class="dropdown-menu">\n	<li ng-transclude></li>\n	<li class="divider"></li>\n	<li style="nudge-half--top">\n		<span class="btn-group">\n			<button class="btn btn-small btn-inverse" ng-click="today()">Today</button>\n		</span>\n		<button class="btn--blue pull-right" ng-click="isOpen = false">Close</button>\n	</li>\n</ul>'),e.put("templates/dialog/message.html",'<div class="modal-header">\n	<h3>{{ title }}</h3>\n</div>\n<div class="modal-body">\n	<p>{{ message }}</p>\n</div>\n<div class="modal-footer">\n	<button ng-repeat="btn in buttons" ng-click="close(btn.result)" class="btn" ng-class="btn.cssClass">{{ btn.label }}</button>\n</div>\n'),e.put("templates/event.html",'<div class="unit one-twelfth text-center">\n	<div class="user-img-event" ng-style="{\'background-image\': \'url(\' + event.creator.pictureUrl + \')\'}" ng-show="event.creator">\n		<a href tooltip="{{event.creator.displayName}}" tooltip-placement="left" ng-href="/profile/{{event.creator.username}}"></a>\n	</div>\n</div>\n<div class="unit eleven-twelfths last-unit">\n	<div class="box">\n		<div class="event-header soft-half--ends soft-quarter--sides">\n			<div class="table full-width full-height">\n				<div class="td three-fifths vertical-align-middle">\n					<i class="beta fa fa-circle nudge-half--right float-left" ng-show="event.privacy == \'public\'" tooltip="Public" tooltip-placement="top"></i>\n					<i class="beta fa fa-circle-o nudge-half--right float-left" ng-show="event.privacy == \'inviteOnly\'" tooltip="Invite Only" tooltip-placement="top"></i>\n					<h3 class="flush">\n						<a ng-href="/event/{{event._id}}">\n							{{ event.title }}\n						</a>\n					</h3>\n				</div>\n				<div class="td two-fifths vertical-align-middle text-right epsilon muted">\n					Posted <span ng-show="event.creator">by </span>\n					 <a ng-href="/profile/{{event.creator.username}}" class="muted" ng-show="event.creator">{{event.creator.displayName}}</a>\n					 {{ event.timestamp | timePast }}\n				</div>\n			</div>\n		</div>\n		<div class="islet">\n			<div class="line">\n				<div class="unit full-width last-unit text-center">\n					<span class="epsilon">\n						<span ng-show="event.locationName" class="nudge--right">\n							<i class="fa fa-map-marker muted"></i> <span>{{event.locationName}}<span ng-show="event.roomNumber" ng-bind="\', Room: \' + event.roomNumber"></span></span>\n						</span>\n						<span ng-show="event.startDate" class="nudge--right">\n							<i class="fa fa-calendar-o muted"></i> <span>{{ event.startDate | readableDate }}</span>\n						</span>\n						<span ng-show="event.startTime">\n							<i class="fa fa-clock-o muted"></i> <span ng-bind="event.startTime"></span> <span ng-show="event.endTime">- <span ng-bind="event.endTime"></span></span>\n						</span>\n					</span>\n				</div>\n			</div>\n			<div class="line soft-half--ends" ng-show="event.description">\n				<div class="unit three-percent">\n					<i class="muted epsilon fa fa-align-left"></i>\n				</div>\n				<div class="unit last-unit ninety-seven-percent">\n					<p class="pre-wrap" ng-show="event.description" ng-bind-html="event.description | urlAndFormat | words:100:event._id"></p>\n				</div>\n			</div>\n		</div>\n		<div class="event-footer table full-width soft-quarter--ends">\n			<div class="tr">\n				<div class="td three-fifths vertical-align-middle">\n					<ul class="tags">\n						<li ng-class="{true:\'pointer\', false:\'\'}[isCurrentPage(\'/explore\')]" ng-repeat="tag in event.tags" ng-bind="tag" ng-click="$parent.$parent.$parent.searchEvents = tag"></li>\n					</ul>\n				</div>\n				<div class="td two-fifths text-right soft-half--right vertical-align-middle">\n					<div class="action-buttons nudge-quarter--right" ng-hide="eventPassed(event.startDate)">\n						<a class="first" ng-class="{green: isAttending(event)}" href ng-click="openAttending(event)" tooltip="People Attending"><span class="gamma" ng-class="{green: isAttending(event)}">{{ event.attending.length }}</span></a>\n						<a href ng-click="rsvpToEvent(event)" ng-hide="isAttending(event)"><i class="fa fa-thumbs-up"></i> RSVP</a>\n						<a href ng-click="unRsvpToEvent(event)" ng-show="isAttending(event)"><i class="fa fa-thumbs-o-up"></i> Un-RSVP</a>\n					</div>\n					<div class="action-buttons nudge-quarter--right" ng-hide="eventPassed(event.startDate)">\n						<a href ng-click="openShare(event)" tooltip="Share"><i class="fa fa-share-square"></i></a>\n					</div>\n					<div class="action-buttons green">\n						<a href ng-href="/event/{{event._id}}">Details <i class="fa fa-chevron-right epsilon"></i></a>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'),e.put("templates/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}" ng-click="close($event)"></div>'),e.put("templates/modal/window.html",'<div class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10}" ng-transclude></div>'),e.put("templates/pagination/pager.html",'<div class="pager">\n  <ul>\n    <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n'),e.put("templates/pagination/pagination.html",'<div class="pagination"><ul>\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n'),e.put("templates/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n'),e.put("templates/progressbar/bar.html",'<div class="bar" ng-class=\'type && "bar-" + type\'></div>'),e.put("templates/progressbar/progress.html",'<div class="progress"><progressbar ng-repeat="bar in bars" width="bar.to" old="bar.from" animate="bar.animate" type="bar.type"></progressbar></div>'),e.put("templates/rating/rating.html",'<span ng-mouseleave="reset()">\n	<i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="fa" ng-class="$index < val && (r.stateOn || \'fa-star\') || (r.stateOff || \'fa-star-o\')"></i>\n</span>'),e.put("templates/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n'),e.put("templates/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n"),e.put("templates/tabs/tabset.html",'\n<div class="tabbable" ng-class="{\'tabs-right\': direction == \'right\', \'tabs-left\': direction == \'left\', \'tabs-below\': direction == \'below\'}">\n  <div tabset-titles="tabsAbove"></div>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n  <div tabset-titles="!tabsAbove"></div>\n</div>\n'),e.put("templates/timepicker/timepicker.html",'<table class="form-inline">\n	<tr class="text-center">\n		<td><a ng-click="incrementHours()" class="btn btn-link"><i class="fa fa-chevron-up"></i></a></td>\n		<td>&nbsp;</td>\n		<td><a ng-click="incrementMinutes()" class="btn btn-link"><i class="fa fa-chevron-up"></i></a></td>\n		<td ng-show="showMeridian"></td>\n	</tr>\n	<tr>\n		<td class="control-group" ng-class="{\'error\': invalidHours}"><input type="text" ng-model="hours" ng-change="updateHours()" class="span1 text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2" /></td>\n		<td>:</td>\n		<td class="control-group" ng-class="{\'error\': invalidMinutes}"><input type="text" ng-model="minutes" ng-change="updateMinutes()" class="span1 text-center" ng-readonly="readonlyInput" maxlength="2"></td>\n		<td ng-show="showMeridian"><button type="button" ng-click="toggleMeridian()" class="btn text-center">{{meridian}}</button></td>\n	</tr>\n	<tr class="text-center">\n		<td><a ng-click="decrementHours()" class="btn btn-link"><i class="fa fa-chevron-down"></i></a></td>\n		<td>&nbsp;</td>\n		<td><a ng-click="decrementMinutes()" class="btn btn-link"><i class="fa fa-chevron-down"></i></a></td>\n		<td ng-show="showMeridian"></td>\n	</tr>\n</table>'),e.put("templates/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n'),e.put("templates/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n'),e.put("templates/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>'),e.put("templates/typeahead/typeahead-popup.html",'<ul class="typeahead dropdown-menu" ng-style="{display: isOpen()&&\'block\' || \'none\', top: position.top+\'px\', left: position.left+\'px\'}">\n    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></typeahead-match>\n    </li>\n</ul>')}])}),define("controllers/home-ctrl",["./index"],function(e){e.controller("homeCtrl",["$scope",function(e){e.currentView="student",e.viewOptions=[{label:"Student",value:"student"},{label:"Club/Group",value:"group"}],e.currentYear=(new Date).getFullYear()}])}),define("controllers/inner-ctrl",["./index"],function(e){e.controller("innerCtrl",["$scope","$rootScope","inviteService","userService",function(e,t,n,r){var i=!1;e.notifications=[],t.$watch("user",function(){t.user&&!i&&n.getUnreadInvites(t.user._id).then(function(t){for(var n=0;n<t.length;n++){var r={type:"invite",msg:'<a href="/profile/'+t[n].sender.username+'">'+t[n].sender.displayName+"</a> "+'invited you to <a href="/event/'+t[n].event._id+'">'+t[n].event.title+"</a>.",inviteId:t[n]._id};e.notifications.push(r)}i=!0},function(){i=!0})}),t.$watch("fbStatus",function(){var n=8;if(t.user&&t.user.facebook.lastReminded){var i=864e5,s=(new Date).getTime(),o=(new Date(t.user.facebook.lastReminded)).getTime();n=Math.round((s-o)/i)}if(t.user&&t.fbStatus&&t.user.facebook.hasLinked===!1&&n>=7&&!t.user.fbId&&t.fbStatus.status!=="connected"){var u={};u.facebook={id:null,subscriptions:null,managedPages:null,autoPost:null,lastReminded:new Date},r.updateUser(t.user._id,u).then(function(){var t={msg:'You haven\'t linked your account to Facebook yet. <a href="/settings">Try it out in your account settings!</a>',type:"message"};e.notifications.unshift(t)})}}),e.closeNotification=function(t){e.notifications[t].type==="invite"?n.markAsRead(e.notifications[t].inviteId).then(function(){e.notifications.splice(t,1)},function(n){e.notifications.splice(t,1)}):e.notifications.splice(t,1)}}])}),define("controllers/login-ctrl",["./index"],function(e){e.controller("loginCtrl",["$scope","$rootScope","$location","authService","localStorageService","interceptorService",function(e,t,n,r,i,s){e.login=function(){var n={username:e.username,password:e.password};r.login(n).then(function(n){e.showResend=!1,e.emailResent=!1,e.loginError=null,t.user=n,i.add("user",n),s.loginConfirmed()},function(t){t.toLowerCase().indexOf("activate")!==-1?(e.showResend=!0,e.emailResent=!1):(e.emailResent=!1,e.showResend=!1,e.loginError=t)})},e.resendActivation=function(t){r.resendActivation(t).then(function(){e.emailResent=!0},function(t){e.emailResent=!1,e.showResend=!1,e.loginError=t})}}])}),define("controllers/registerGroup-ctrl",["./index"],function(e){e.controller("registerGroupCtrl",["$scope","$modal","authService","schoolService",function(e,t,n,r){r.getAllSchools().then(function(t){e.schools=t}),e.checkUsername=function(){n.checkUsername(e.user.username).then(function(t){t==="true"?e.usernameTaken=!0:e.usernameTaken=!1})},e.checkEmail=function(){e.user.email.length>0&&n.checkEmail(e.user.email).then(function(t){t==="true"?e.emailTaken=!0:e.emailTaken=!1})},e.register=function(t){t.type="group",t.loc={type:"Point",coordinates:[-180,-90]},n.register(t).then(function(){e.usernameTaken=!1,e.emailTaken=!1,e.emailSent=!0},function(t){e.registerError=t})},e.openTerms=function(){t.open({templateUrl:"termsModal.html",controller:"basicModalCtrl",resolve:{items:null,location:null,event:null}})}}])}),define("controllers/registerStudent-ctrl",["./index"],function(e){e.controller("registerStudentCtrl",["$scope","$modal","schoolService","authService",function(e,t,n,r){n.getAllSchools().then(function(t){e.schools=t}),e.checkUsername=function(){r.checkUsername(e.user.username).then(function(t){t==="true"?e.usernameTaken=!0:e.usernameTaken=!1})},e.checkEmail=function(){e.user.email&&r.checkEmail(e.user.email).then(function(t){t==="true"?e.emailTaken=!0:e.emailTaken=!1})},e.register=function(t){t.type="student",t.loc={type:"Point",coordinates:[-180,-90]},r.register(t).then(function(){e.usernameTaken=!1,e.emailTaken=!1,e.emailSent=!0},function(){e.registerError="Failed to register new user."})},e.openTerms=function(){t.open({templateUrl:"termsModal.html",controller:"basicModalCtrl",resolve:{items:null,location:null,event:null}})}}])}),define("controllers/activate-ctrl",["./index"],function(e){e.controller("activateCtrl",["$scope","$stateParams","$location","resolvedActivation",function(e,t,n,r){(!t.activateKey||!t.userId||!r)&&n.path("/login")}])}),define("controllers/resend-ctrl",["./index"],function(e){e.controller("resendCtrl",["$scope","$stateParams","$location","resolvedEmailSent",function(e,t,n,r){(!t.activateKey||!t.userId||!r)&&n.path("/login")}])}),define("controllers/forgot-ctrl",["./index"],function(e){e.controller("forgotCtrl",["$scope","authService",function(e,t){e.sendEmail=function(){var n={username:e.username};t.forgotPassword(n).then(function(){e.forgotError=null,e.emailSent=!0},function(t){e.forgotError=t})}}])}),define("controllers/reset-ctrl",["./index"],function(e){e.controller("resetCtrl",["$scope","$stateParams","authService",function(e,t,n){e.changePassword=function(){var r={userId:t.userId,resetKey:t.resetKey,password:e.password};n.resetPassword(r).then(function(){e.resetError=null,e.passwordChanged=!0},function(t){e.resetError=t})}}])}),define("controllers/settings-ctrl",["./index"],function(e){e.controller("settingsCtrl",["$scope","$rootScope","$modal","userService","schoolService","authService","locationService","$FB","localStorageService","$q","googleService",function(e,t,n,r,i,s,o,u,a,f,l){var c={};i.getAllSchools().then(function(t){e.schools=t}),e.userSchool=t.user.school._id,e.userFacebookLink=t.user.facebookLink,e.userTwitterLink=t.user.twitterLink,t.user.type==="student"?(e.userFirstName=t.user.firstName,e.userLastName=t.user.lastName,e.userEmailStudent=t.user.email):t.user.type==="group"&&(e.userGroupName=t.user.groupName,e.userGroupDescription=t.user.groupDescription,e.userEmailGroup=t.user.email,e.locationAddress=t.user.address,e.websiteAddress=t.user.website),e.userSchool&&(e.schoolSelectOptions={val:e.userSchool.name}),e.usingFacebookImage=function(){return t.user.pictureUrl.indexOf("facebook")>-1?!0:!1},e.usePageForImage=function(){e.picturePage&&(e.newUserImage={},e.newUserImage.url="http://graph.facebook.com/"+e.picturePage+"/picture?width=250&height=250",c.pictureUrl="http://graph.facebook.com/"+e.picturePage+"/picture?width=250&height=250")},e.useFacebookImage=function(){e.newUserImage={},e.newUserImage.url="http://graph.facebook.com/"+t.fbMe.id+"/picture?width=250&height=250",c.pictureUrl="http://graph.facebook.com/"+t.fbMe.id+"/picture?width=250&height=250"},e.checkEmail=function(){e.userEmailStudent?e.userEmailStudent.length>0&&e.userEmailStudent!==t.user.email&&s.checkEmail(e.userEmailStudent).then(function(t){t==="true"?e.emailTaken=!0:e.emailTaken=!1}):e.userEmailGroup&&e.userEmailGroup.length>0&&e.userEmailGroup!==t.user.email&&s.checkEmail(e.userEmailGroup).then(function(t){t==="true"?e.emailTaken=!0:e.emailTaken=!1})},e.checkAddress=function(){e.locationAddress&&o.checkAddress(e.locationAddress.split(" ").join("+")).then(function(t){t&&t.results.length>0&&(e.loc={type:"Point",coordinates:[t.results[0].geometry.location.lng.toFixed(2),t.results[0].geometry.location.lat.toFixed(2)]})})},e.fbLogin=function(){var e={},n=[],i=[];t.user.type==="student"?u.login(function(i){i.authResponse&&(t.updateFbStatus(t.updateApiMe),t.updateApiMe(),e.facebook={},e.facebook.id=i.authResponse.userID,e.facebook.linked=!0,e.facebookLink=i.authResponse.userID,e.facebook.autoPost=!0,f.all([u.api("/me/likes",{limit:9999,fields:"id"}),u.api("/me/subscribedto",{limit:9999,fields:"id"})]).then(function(s){for(var o=0;o<s[0].data.length;o++)n.push(s[0].data[o].id);for(var u=0;u<s[1].data.length;u++)n.push(s[1].data[u].id);e.facebook.subscriptions=n,e.pictureUrl="http://graph.facebook.com/"+i.authResponse.userID+"/picture?width=250&height=250",r.updateUser(t.user._id,e).then(function(){r.addFacebookSubscriptions(t.user._id).then(function(e){t.user=e,a.add("user",e)})})}))},{scope:"user_subscriptions,user_likes,publish_stream,publish_actions"}):t.user.type==="group"&&u.login(function(s){s.authResponse&&(t.updateFbStatus(t.updateApiMe),t.updateApiMe(),e.facebook={},e.facebook.id=s.authResponse.userID,e.facebook.linked=!0,e.facebook.autoPost=!1,f.all([u.api("/me/likes",{limit:9999,fields:"id"}),u.api("/me/subscribedto",{limit:9999,fields:"id"}),u.api("/me/accounts",{limit:9999,fields:"name,id"})]).then(function(s){for(var o=0;o<s[0].data.length;o++)n.push(s[0].data[o].id);for(var u=0;u<s[1].data.length;u++)n.push(s[1].data[u].id);e.facebook.subscriptions=n;for(var f=0;f<s[2].data.length;f++)i.push(s[2].data[f]);e.facebook.managedPages=i,r.updateUser(t.user._id,e).then(function(e){t.user=e,a.add("user",e)})}))},{scope:"user_subscriptions,user_likes,publish_stream,publish_actions,manage_pages"})},e.changeFbAutoPost=function(){var e={};e.facebook={},e.facebook.id=t.user.facebook.id,e.facebook.lastUpdated=t.user.facebook.lastUpdated,e.facebook.linked=!0,e.facebook.subscriptions=t.user.facebook.subscriptions,e.facebook.managedPages=t.user.facebook.managedPages,e.facebook.autoPost=t.user.facebook.autoPost,e.facebook.lastReminded=t.user.facebook.lastReminded,r.updateUser(t.user._id,e).then(function(e){t.user=e,a.add("user",e)})},e.fbLogout=function(){var e={};e.facebook={id:null,subscriptions:null,managedPages:null,autoPost:null,lastReminded:t.user.facebook.lastReminded},e.pictureUrl="http://assets.campuslively.com/user_imgs/default.png",e.facebookLink=null,r.updateUser(t.user._id,e).then(function(e){t.user=e,t.user.facebookLink=null,a.add("user",e),u.logout(function(){t.updateFbStatus(t.updateApiMe)})})},e.googleLogin=function(){var e={};l.login().then(function(n){e.google={},e.google.id=n.id,l.getUserCalendar().then(function(n){e.google.calendarId=n,r.updateUser(t.user._id,e).then(function(e){t.user=e,a.add("user",e)})})})},e.googleLogout=function(){var e={};e.google={},e.google.id=null,r.updateUser(t.user._id,e).then(function(e){t.user=e,a.add("user",e)})},e.saveChanges=function(){var n=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};t.user.type==="student"?(t.user.firstName!==e.userFirstName&&e.userFirstName.length>0&&(c.firstName=e.userFirstName,e.userLastName?c.displayName=e.userFirstName+" "+e.userLastName:c.displayName=e.userFirstName+" "+t.user.lastName),t.user.lastName!==e.userLastName&&e.userLastName.length>0&&(c.lastName=e.userLastName,e.userFirstName?c.displayName=e.userFirstName+" "+e.userLastName:c.displayName=t.user.firstName+" "+t.userLastName),t.user.email!==e.userEmailStudent&&e.userEmailStudent.length>0&&(c.email=e.userEmailStudent)):t.user.type==="group"&&(t.user.groupName!==e.userGroupName&&e.userGroupName.length>0&&(c.groupName=e.userGroupName,c.displayName=e.userGroupName),t.user.groupDescription!==e.userGroupDescription&&(c.groupDescription=e.userGroupDescription),t.user.email!==e.userEmailGroup&&e.userEmailGroup.length>0&&(c.email=e.userEmailGroup),e.loc&&(c.loc=e.loc),e.locationAddress!==t.user.address&&e.locationAddress.length>0&&(c.address=n(e.locationAddress)),e.picturePage&&(c.pictureUrl="http://graph.facebook.com/"+e.picturePage+"/picture?width=250&height=250"),e.websiteAddress&&e.websiteAddress!==t.user.website?(e.websiteAddress.indexOf("http://")===-1&&e.websiteAddress.indexOf("https://")===-1&&(e.websiteAddress="http://"+e.websiteAddress),c.website=e.websiteAddress):e.websiteAddress||(c.website=null)),e.userFacebookLink&&e.userFacebookLink!==t.user.facebookLink?c.facebookLink=e.userFacebookLink:e.userFacebookLink||(c.facebookLink=null),e.userTwitterLink!==t.user.twitterLink&&(c.twitterLink=e.userTwitterLink.replace("@","")),e.userPassword&&e.userPassword.length>0&&(c.password=e.userPassword),t.user.school!==e.userSchool&&e.userSchool&&(c.school=e.userSchool);if(e.newUserImage){if(e.newUserImage.file.type.toLowerCase().indexOf("image")===-1){e.saveError="Your account picture must be an image.";return}if(e.newUserImage.file.size>3145728){e.saveError="That image is too large.";return}r.uploadImage(e.newUserImage.file,t.user._id).then(function(){var n=function(e){var t=e.lastIndexOf(".");return t<0?"":e.substr(t)};e.saveError=null,c.pictureUrl="http://assets.campuslively.com/user_imgs/"+t.user._id+n(e.newUserImage.file.name),r.updateUser(t.user._id,c).then(function(n){e.emailTaken=!1,e.changesSaved=!0,t.user=n,a.add("user",n)},function(){e.emailTaken=!1,e.changesSaved=!1,e.saveError="Error occurred while saving changes.";return})},function(){e.emailTaken=!1,e.changesSaved=!1,e.saveError="Error occurred while uploading image."})}else{if($.isEmptyObject(c)){e.saveError="You haven't made any changes!";return}r.updateUser(t.user._id,c).then(function(n){e.emailTaken=!1,e.changesSaved=!0,t.user=n,a.add("user",n)},function(){e.emailTaken=!1,e.changesSaved=!1,e.saveError="Error occurred while saving changes.";return})}},e.openExplanation=function(){n.open({templateUrl:"explanationModal.html",controller:"basicModalCtrl",resolve:{items:null,location:null,event:null}})},e.openDelete=function(){n.open({templateUrl:"deleteModal.html",controller:"basicModalCtrl",resolve:{items:null,location:null,event:null}})},e.removeSubscription=function(n){r.unsubscribe(t.user._id,n).then(function(e){t.user=e,a.add("user",e)},function(){e.unsubscribeError="Error occurred while unsubscribing from user."})}}])}),define("controllers/profile-ctrl",["./index"],function(e){e.controller("profileCtrl",["$scope","$rootScope","$modal","resolvedUser","userService","eventService","localStorageService","$FB","googleService",function(e,t,n,r,i,s,o,u,a){var f,l=function(){i.getSubscribers(e.profile._id).then(function(t){e.subscribers=t})};e.profile=r,e.loading=!0,s.getEventsByUser(e.profile._id,20).then(function(t){e.events=t,e.loading=!1,t.length===20?e.moreToLoad=!0:e.moreToLoad=!1,t.length>0&&(f=t[t.length-1]._id)},function(t){e.loading=!1,e.loadEventsError=t}),l(),e.sortOptions=[{label:"by start date",value:"startDate"},{label:"by post date",value:"-timestamp"}],e.changeSort=function(t){e.currentSort=t},e.currentSort={label:"by start date",value:"startDate"},e.isSubscribed=function(){for(var n=0;n<t.user.subscriptions.length;n++)if(t.user.subscriptions[n]._id===e.profile._id)return!0;return!1},e.toggleSubscribe=function(){e.isSubscribed()?i.unsubscribe(t.user._id,e.profile._id).then(function(e){t.user=e,o.add("user",e),l()},function(){e.subscribeError="Error occurred while subscribing to user."}):i.subscribe(t.user._id,e.profile._id).then(function(e){t.user=e,o.add("user",e),l()},function(){e.subscribeError="Error occurred while subscribing to user."}),e.isSubscribed()},e.rsvpToEvent=function(n){var r=function(t,n){for(var r=0;r<e.events.length;r++)if(e.events[r]._id===t){e.events[r]=n;break}};s.rsvp(n._id,t.user._id).then(function(e){t.user.facebook.id&&t.user.facebook.autoPost&&n.facebookId&&n.privacy==="public"&&u.login(function(e){e.authResponse&&(t.updateFbStatus(t.updateApiMe),t.updateApiMe(),u.api("/me/campuslively:rsvp_to","post",{event:n.facebookId},function(e){}))}),t.user.google.id&&t.user.google.calendarId?a.addEvent(t.user.google.calendarId,n).then(function(e){s.addGoogleEventId(n._id,t.user.username,e.id).then(function(e){r(n._id,e)})}):r(n._id,e)})},e.unRsvpToEvent=function(n){var r=function(t,n){for(var r=0;r<e.events.length;r++)if(e.events[r]._id===t){e.events[r]=n;break}};s.unRsvp(n._id,t.user._id).then(function(e){if(t.user.google.id&&t.user.google.calendarId&&n.googleCalendarIds){var i=function(){s.removeGoogleEventId(n._id,t.user.username).then(function(e){r(n._id,e)})};a.removeEvent(t.user.google.calendarId,n.googleCalendarIds[t.user.username]).then(function(){i()},function(){i()})}else r(n._id,e)})},e.isAttending=function(e){if(e.attending)for(var n=0;n<e.attending.length;n++)if(e.attending[n]._id===t.user._id)return!0;return!1},e.loadMore=function(){e.loadingMore=!0,s.getEventsByUserOlder(e.profile._id,f,20).then(function(t){t.length<20&&(e.moreToLoad=!1);if(t.length>0){for(var n=0;n<t.length;n++)e.events.push(t[n]);f=t[t.length-1]._id}e.loadingMore=!1},function(){e.loadingMore=!1})},e.openAttending=function(e){n.open({templateUrl:"attendingModal.html",controller:"peopleListModalCtrl",resolve:{items:function(){return e.attending}}})},e.openSubscribers=function(){n.open({templateUrl:"subscribersModal.html",controller:"peopleListModalCtrl",resolve:{items:function(){return e.subscribers}}})},e.openShare=function(e){n.open({templateUrl:"shareModal.html",controller:"shareEventModalCtrl",resolve:{event:function(){return e}}})},e.openLocation=function(e){n.open({templateUrl:"locationModal.html",controller:"basicModalCtrl",resolve:{location:function(){var t=e.loc;return t.address=e.address,t},items:null,event:null}})}}])}),define("controllers/feed-ctrl",["./index"],function(e){e.controller("feedCtrl",["$scope","$rootScope","$modal","userService","eventService","$timeout","$FB","googleService",function(e,t,n,r,i,s,o,u){var a,f;e.currentView="events",e.eventActivities=[],e.actionActivities=[],e.viewOptions=[{label:"Events",value:"events"},{label:"Actions",value:"actions"}],e.loading=!0,r.getActivities(t.user._id,20).then(function(t){for(var n=0;n<t.length;n++)t[n].activity==="subscribed"||t[n].activity==="rsvpd"||t[n].activity==="commented"||t[n].activity==="invited"?e.actionActivities.push(t[n]):t[n].activity==="posted"&&e.eventActivities.push(t[n]);e.loading=!1,t.length===20?e.moreToLoad=!0:e.moreToLoad=!1,t.length>0&&(a=t[t.length-1]._id,f=t[0]._id),e.checkForActivities()},function(t){e.loading=!1}),e.loadNew=function(){r.getActivitiesNewer(t.user._id,f).then(function(t){if(t.length>0){for(var n=0;n<t.length;n++)t[n].activity==="subscribed"||t[n].activity==="rsvpd"||t[n].activity==="commented"||t[n].activity==="invited"?e.actionActivities.unshift(t[n]):t[n].activity==="posted"&&e.eventActivities.unshift(t[n]);f=t[0]._id}},function(e){})};var l;e.checkForActivities=function(){l=s(function(){e.loadNew(),e.checkForActivities()},3e4)},e.$on("$destroy",function(){s.cancel(l)}),e.loadMore=function(){e.loadingMore=!0,r.getActivitiesOlder(t.user._id,a,20).then(function(t){t.length<20&&(e.moreToLoad=!1);if(t.length>0){for(var n=0;n<t.length;n++)e.activities.push(t[n]);a=t[t.length-1]._id}e.loadingMore=!1},function(t){e.loadingMore=!1})},e.isAttending=function(e){if(e&&t.user&&e.attending)for(var n=0;n<e.attending.length;n++)if(e.attending[n]._id===t.user._id||e.attending[n]===t.user._id)return!0;return!1},e.rsvpToEvent=function(e){i.rsvp(e.event._id,t.user._id).then(function(n){t.user.facebook.id&&t.user.facebook.autoPost&&e.event.facebookId&&e.event.privacy==="public"&&o.login(function(n){n.authResponse&&(t.updateFbStatus(t.updateApiMe),t.updateApiMe(),o.api("/me/campuslively:rsvp_to","post",{event:e.event.facebookId},function(e){}))}),t.user.google.id&&t.user.google.calendarId?u.addEvent(t.user.google.calendarId,e.event).then(function(n){i.addGoogleEventId(e.event._id,t.user.username,n.id).then(function(t){e.event=t})}):e.event=n})},e.unRsvpToEvent=function(e){i.unRsvp(e.event._id,t.user._id).then(function(n){if(t.user.google.id&&t.user.google.calendarId&&e.event.googleCalendarIds){var r=function(){i.removeGoogleEventId(e.event._id,t.user.username).then(function(t){e.event=t})};u.removeEvent(t.user.google.calendarId,e.event.googleCalendarIds[t.user.username]).then(function(){r()},function(){r()})}else e.event=n})},e.unRsvpToEvent=function(e){i.unRsvp(e.event._id,t.user._id).then(function(t){e.event=t})},e.openAttending=function(e){n.open({templateUrl:"attendingModal.html",controller:"peopleListModalCtrl",resolve:{items:function(){return e.attending}}})},e.openShare=function(e){n.open({templateUrl:"shareModal.html",controller:"shareEventModalCtrl",resolve:{event:function(){return e}}})}}])}),define("controllers/explore-ctrl",["./index"],function(e){e.controller("exploreCtrl",["$scope","$rootScope","$modal","locationService","eventService","$timeout","$FB","googleService",function(e,t,n,r,i,s,o,u){var a,f,l=function(){i.getEventsBySchool(t.user.school._id,20).then(function(t){e.events=t,e.loading=!1,t.length===20?e.moreToLoadSchool=!0:e.moreToLoadSchool=!1,t.length>0&&(a=t[t.length-1]._id,f=t[0]._id),e.checkForEvents()},function(t){e.loading=!1,e.loadError=t})},c=function(){i.getEventsByLocation(t.userPosition.latitude.toFixed(2),t.userPosition.longitude.toFixed(2),20).then(function(t){e.events=t,e.loading=!1,t.length===20?e.moreToLoadNearby=!0:e.moreToLoadNearby=!1,t.length>0&&(a=t[t.length-1]._id,f=t[0]._id),e.checkForEvents()},function(t){e.loading=!1,e.loadError=t})};e.currentView="school",e.viewOptions=[{label:"My School",value:"school"},{label:"Nearby",value:"nearby"}],e.$watch("currentView",function(){e.loading=!0,e.events=[],e.currentView==="school"?l():e.currentView==="nearby"&&(t.userPosition?c():(e.gettingPosition=!0,r.getGeo().then(function(n){t.userPosition=n,e.gettingPosition=!1,e.loading=!0,c()},function(e){})))}),e.newEvents=[],e.loadNew=function(){e.currentView==="school"?i.getEventsBySchoolNewer(t.user.school._id,f).then(function(t){t.length>0&&(e.newEvents=t)},function(e){}):e.currentView==="nearby"&&i.getEventsByLocationNewer(t.userPosition.latitude.toFixed(2),t.userPosition.longitude.toFixed(2),f).then(function(t){t.length>0&&(e.newEvents=t)},function(e){})};var h;e.checkForEvents=function(){h=s(function(){e.loadNew(),e.checkForEvents()},3e4)},e.addNew=function(){if(e.newEvents.length>0){for(var t=0;t<e.newEvents.length;t++)e.events.unshift(e.newEvents[t]);f=e.newEvents[0]._id,e.newEvents=[]}},e.$on("$destroy",function(){s.cancel(h)}),e.sortOptions=[{label:"by start date",value:"startDate"},{label:"by post date",value:"-timestamp"}],e.changeSort=function(t){e.currentSort=t},e.currentSort={label:"by start date",value:"startDate"},e.rsvpToEvent=function(n){var r=function(t,n){for(var r=0;r<e.events.length;r++)if(e.events[r]._id===t){e.events[r]=n;break}};i.rsvp(n._id,t.user._id).then(function(e){t.user.facebook.id&&t.user.facebook.autoPost&&n.facebookId&&n.privacy==="public"&&o.login(function(e){e.authResponse&&(t.updateFbStatus(t.updateApiMe),t.updateApiMe(),o.api("/me/campuslively:rsvp_to","post",{event:n.facebookId},function(e){}))}),t.user.google.id&&t.user.google.calendarId?u.addEvent(t.user.google.calendarId,n).then(function(e){i.addGoogleEventId(n._id,t.user.username,e.id).then(function(e){r(n._id,e)})}):r(n._id,e)})},e.unRsvpToEvent=function(n){var r=function(t,n){for(var r=0;r<e.events.length;r++)if(e.events[r]._id===t){e.events[r]=n;break}};i.unRsvp(n._id,t.user._id).then(function(e){if(t.user.google.id&&t.user.google.calendarId&&n.googleCalendarIds){var s=function(){i.removeGoogleEventId(n._id,t.user.username).then(function(e){r(n._id,e)})};u.removeEvent(t.user.google.calendarId,n.googleCalendarIds[t.user.username]).then(function(){s()},function(){s()})}else r(n._id,e)})},e.isAttending=function(e){if(e.attending){for(var n=0;n<e.attending.length;n++)if(e.attending[n]._id===t.user._id)return!0;return!1}},e.loadMore=function(){e.loadingMore=!0,e.currentView==="school"?i.getEventsBySchoolOlder(t.user.school._id,a,20).then(function(t){t.length<20&&(e.moreToLoadSchool=!1);if(t.length>0){for(var n=0;n<t.length;n++)e.events.push(t[n]);a=t[t.length-1]._id}e.loadingMore=!1},function(t){e.loadingMore=!1}):e.currentView==="nearby"&&i.getEventsByLocationOlder(t.userPosition.latitude.toFixed(2),t.userPosition.longitude.toFixed(2),a,20).then(function(t){t.length<20&&(e.moreToLoadNearby=!1);if(t.length>0){for(var n=0;n<t.length;n++)e.events.push(t[n]);a=t[t.length-1]._id}e.loadingMore=!1},function(t){e.loadingMore=!1})},e.openAttending=function(e){n.open({templateUrl:"attendingModal.html",controller:"peopleListModalCtrl",resolve:{items:function(){return e.attending}}})},e.openShare=function(e){n.open({templateUrl:"shareModal.html",controller:"shareEventModalCtrl",resolve:{event:function(){return e}}})}}])}),define("controllers/event-ctrl",["./index"],function(e){e.controller("eventCtrl",["$scope","$rootScope","$modal","eventService","userService","resolvedEvent","$location","googleService","$FB",function(e,t,n,r,i,s,o,u,a){e.event=s,e.eventPassed=t.eventPassed(e.event.startDate),e.hasLocation=e.event.loc&&(e.event.loc.coordinates[0]!==-180||e.event.loc.coordinates[1]!==-90),e.hasLocation&&(e.mapOptions={center:new google.maps.LatLng(e.event.loc.coordinates[1],e.event.loc.coordinates[0]),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,disableDoubleClickZoom:!0,draggable:!1,scrollwheel:!1,panControl:!1},e.placeMarker=function(){var t='<h3 class="flush">'+e.event.locationName+"</h3>"+'<a href="https://maps.google.com/maps?daddr='+e.event.loc.coordinates[1]+","+e.event.loc.coordinates[0]+'&hl=en&t=m&mra=mift&mrsp=1&sz=5&z=18"'+'target="_blank" class="block">Get Directions</a>',n=new google.maps.InfoWindow({content:t,maxWidth:300,position:new google.maps.LatLng(e.event.loc.coordinates[1],e.event.loc.coordinates[0])});n.open(e.locationMap)}),e.postComment=function(){var n={eventId:e.event._id,body:e.commentBody,creator:t.user._id};r.postComment(e.event._id,n).then(function(t){e.commentBody=null,e.event.comments.push(t)},function(t){e.commentError=t})},e.postSubComment=function(n){var i={eventId:e.event._id,body:n.newSubComment,creator:t.user._id};r.postSubComment(e.event._id,n._id,i).then(function(t){for(var r=0;r<e.event.comments.length;r++)e.event.comments[r]._id===n._id&&(e.event.comments[r]=t)},function(e){})},e.deleteComment=function(n){t.user._id===n.creator._id&&r.deleteComment(e.event._id,n._id).then(function(t){var r;for(var i=0;i<e.event.comments.length;i++)if(e.event.comments[i]._id===n._id){r=i;break}r>-1&&e.event.comments.splice(r,1)},function(e){})},e.deleteSubComment=function(n,i){t.user._id===i.creator._id&&r.deleteSubComment(e.event._id,n,i._id).then(function(t){for(var r=0;r<e.event.comments.length;r++)e.event.comments[r]._id===n&&(e.event.comments[r]=t)},function(e){})},e.likeComment=function(n){r.likeComment(n._id,t.user._id).then(function(t){for(var r=0;r<e.event.comments.length;r++)e.event.comments[r]._id===n._id&&(e.event.comments[r]=t)},function(e){})},e.unlikeComment=function(n){r.unlikeComment(n._id,t.user._id).then(function(t){for(var r=0;r<e.event.comments.length;r++)e.event.comments[r]._id===n._id&&(e.event.comments[r]=t)},function(e){})},e.likesComment=function(e){for(var n=0;n<e.likes.length;n++)if(e.likes[n].toString()===t.user._id.toString())return!0;return!1},e.rsvpToEvent=function(n){r.rsvp(n._id,t.user._id).then(function(i){t.user.facebook.id&&t.user.facebook.autoPost&&n.facebookId&&n.privacy==="public"&&a.login(function(e){e.authResponse&&(t.updateFbStatus(t.updateApiMe),t.updateApiMe(),a.api("/me/campuslively:rsvp_to","post",{event:n.facebookId},function(e){}))}),t.user.google.id&&t.user.google.calendarId?u.addEvent(t.user.google.calendarId,n).then(function(i){r.addGoogleEventId(n._id,t.user.username,i.id).then(function(t){e.event=t})}):e.event=i})},e.unRsvpToEvent=function(n){r.unRsvp(n._id,t.user._id).then(function(i){if(t.user.google.id&&t.user.google.calendarId&&n.googleCalendarIds){var s=function(){r.removeGoogleEventId(n._id,t.user.username).then(function(t){e.event=t})};u.removeEvent(t.user.google.calendarId,n.googleCalendarIds[t.user.username]).then(function(){s()},function(){s()})}else e.event=i})},e.isAttending=function(){for(var n=0;n<e.event.attending.length;n++)if(e.event.attending[n]&&e.event.attending[n]._id===t.user._id)return!0;return!1},e.open=function(r){r.toLowerCase()==="share"?n.open({templateUrl:"shareModal.html",controller:"shareEventModalCtrl",resolve:{event:function(){return e.event}}}):r.toLowerCase()==="invite"?n.open({templateUrl:"inviteModal.html",controller:"inviteEventModalCtrl",resolve:{event:function(){return e.event},items:function(){return i.getUsersForInvite(t.user._id,e.event._id).then(function(e){return e})}}}):r.toLowerCase()==="edit"?n.open({templateUrl:"editModal.html",controller:"editEventModalCtrl",resolve:{event:function(){return e.event}}}):r.toLowerCase()==="delete"&&n.open({templateUrl:"deleteModal.html",controller:"basicModalCtrl",resolve:{event:function(){return e.event},items:null,location:null}})}}])}),define("controllers/post-ctrl",["./index"],function(e){e.controller("postCtrl",["$scope","$rootScope","locationService","eventService","$timeout","$FB",function(e,t,n,r,i,s){e.mapOptions={zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,disableDoubleClickZoom:!0,draggable:!1,scrollwheel:!1,panControl:!1};var o,u=function(t){n.getFoursquareVenues(t).then(function(t){e.venues=[];if(t.response.groups)for(var n=0;n<t.response.groups.length;n++)e.venues=e.venues.concat(t.response.groups[n].items);else t.response.venues&&(e.venues=t.response.venues)},function(e){})};t.userPosition?(e.mapOptions.center=new google.maps.LatLng(t.userPosition.latitude,t.userPosition.longitude),u(t.userPosition)):n.getGeo().then(function(n){t.userPosition=n,e.locationMap.setCenter(new google.maps.LatLng(t.userPosition.latitude,t.userPosition.longitude)),u(t.userPosition)},function(e){}),e.showAddressInput=!0,e.eventPosted=!1,e.venues=[],e.eventPrivacy={label:"Public",value:"public"},e.privacyOptions=[{label:"Public",value:"public"},{label:"Invite Only",value:"inviteOnly"}],e.today=new Date,e.tagOptions={multiple:!0,simple_tags:!0,tags:[],tokenSeparators:[","],maximumSelectionSize:3};var a={},f=null;e.$watch("eventLocation",function(){e.checkLocation()}),e.checkLocation=function(){if(e.eventLocation)for(var t=0;t<e.venues.length;t++){if(e.venues[t].name.toLowerCase()===e.eventLocation.toLowerCase()){e.showAddressInput=!1,e.locationMap.panTo(new google.maps.LatLng(e.venues[t].location.lat,e.venues[t].location.lng)),e.event.loc={type:"Point",coordinates:[e.venues[t].location.lng.toFixed(2),e.venues[t].location.lat.toFixed(2)]},o&&o.close();var n='<h3 class="flush">'+e.venues[t].name+"</h3>"+'<span class="muted nudge-half--bottom">'+e.venues[t].location.city+", "+e.venues[t].location.state+" "+e.venues[t].location.postalCode+"</span>"+'<a href="https://maps.google.com/maps?daddr='+e.venues[t].location.lat+","+e.venues[t].location.lng+'&hl=en&t=m&mra=mift&mrsp=1&sz=5&z=18"'+'target="_blank" class="block">Get Directions</a>';o=new google.maps.InfoWindow({content:n,maxWidth:300,position:new google.maps.LatLng(e.venues[t].location.lat,e.venues[t].location.lng)}),o.open(e.locationMap);break}e.showAddressInput=!0}else e.showAddressInput=!0},e.checkAddress=function(){e.locationAddress&&n.checkAddress(e.locationAddress.split(" ").join("+")).then(function(t){if(t&&t.results.length>0){f=t.results[0],e.locationMap.panTo(new google.maps.LatLng(t.results[0].geometry.location.lat,t.results[0].geometry.location.lng)),e.event.loc={type:"Point",coordinates:[t.results[0].geometry.location.lng.toFixed(2),t.results[0].geometry.location.lat.toFixed(2)]},o&&o.close();var n='<h3 class="flush">'+t.results[0].formatted_address+"</h3>"+'<a href="https://maps.google.com/maps?daddr='+t.results[0].geometry.location.lat+","+t.results[0].geometry.location.lng+'&hl=en&t=m&mra=mift&mrsp=1&sz=5&z=18"'+'target="_blank" class="block">Get Directions</a>';o=new google.maps.InfoWindow({content:n,maxWidth:300,position:new google.maps.LatLng(t.results[0].geometry.location.lat,t.results[0].geometry.location.lng)}),o.open(e.locationMap)}},function(e){})},e.openDatepicker=function(){i(function(){e.datepickerOpened=!0})},e.changePrivacy=function(t){e.eventPrivacy=t},e.postEvent=function(){e.event.tags.length>0&&!(e.event.tags instanceof Array)&&(e.event.tags=e.event.tags.split(",")),e.event.privacy=e.eventPrivacy.value,e.event.school=t.user.school._id,e.eventLocation?e.event.locationName=e.eventLocation:e.event.locationName=e.locationAddress;var n=e.event.startTime.split(":"),i=parseInt(n[0]),o=parseInt(n[1].replace(/\D/g,""));n[1].toLowerCase().indexOf("pm")!==-1&&(i+=12),e.event.startDate.setHours(i),e.event.startDate.setMinutes(o),e.event.loc||(e.event.loc={type:"Point",coordinates:[-180,-90]}),e.anonymous&&t.user.admin===!0?e.event.creator=null:e.event.creator=t.user._id;if(e.eventImage){if(e.eventImage.file.type.toLowerCase().indexOf("image")===-1){e.postError="The event picture must be an image.";return}if(e.eventImage.file.size>3145728){e.postError="That image is too large.";return}r.postEvent(e.event).then(function(n){var i;r.uploadImage(e.eventImage.file,n._id).then(function(){var i=function(e){var t=e.lastIndexOf(".");return t<0?"":e.substr(t)},o={pictureUrl:"http://assets.campuslively.com/event_imgs/"+n._id+i(e.eventImage.file.name)};r.createFacebookObject(n).then(function(i){o.facebookId=i.id,r.updateEvent(n._id,o).then(function(n){e.eventPosted=!0,e.postedEvent=n,t.pageTitle="Event Posted",t.user.facebook.id&&t.user.facebook.autoPost&&n.privacy==="public"&&s.login(function(e){e.authResponse&&(t.updateFbStatus(t.updateApiMe),t.updateApiMe(),s.api("/me/campuslively:post","post",{event:n.facebookId},function(e){!e||e.error?alert(e.error):alert("Publish was successful! Action ID: "+e.id)}))})},function(t){e.postError=t;return})},function(){e.eventPosted=!0,e.postedEvent=n})},function(t){e.postError=t;return})},function(t){e.postError=t.message;return})}else r.postEvent(e.event).then(function(n){var i={};r.createFacebookObject(n).then(function(o){i.facebookId=o.id,r.updateEvent(n._id,i).then(function(n){e.eventPosted=!0,e.postedEvent=n,t.pageTitle="Event Posted",t.user.facebook.id&&t.user.facebook.autoPost&&n.privacy==="public"&&s.login(function(e){e.authResponse&&(t.updateFbStatus(t.updateApiMe),t.updateApiMe(),s.api("/me/campuslively:post","post",{event:n.facebookId},function(e){}))})})},function(){e.eventPosted=!0,e.postedEvent=n})},function(t){e.postError=t.message;return})}}])}),define("controllers/posted-ctrl",["./index"],function(e){e.controller("postedCtrl",["$scope","$rootScope","userService","eventService","$FB",function(e,t,n,r,i){var s=!1;e.$watch("postedEvent",function(){e.postedEvent&&!s&&(e.eventUrl="http://www.campuslively.com/event/"+e.postedEvent._id,e.invitees=[],e.loadingUsers=!0,n.getUsersForInvite(t.user._id,e.postedEvent._id).then(function(t){e.users=t,e.loadingUsers=!1},function(t){e.loadingUsers=!1,e.loadUserError=t}),s=!0)}),e.invitees=[],e.toggleInvitee=function(t){e.invitees.indexOf(t)>-1?e.invitees.splice(e.invitees.indexOf(t),1):e.invitees.push(t)},e.isInvitee=function(t){return e.invitees.indexOf(t)>-1?!0:!1},e.sendInvites=function(){var n={};e.invitees.length>0&&(n.recipientIds=e.invitees,r.inviteUsers(e.postedEvent._id,t.user._id,n).then(function(){e.invitesSent=!0},function(t){e.inviteError=t}))},e.shareEvent=function(){e.event.pictureUrl?i.ui({method:"feed",display:"popup",name:e.event.title,picture:e.event.pictureUrl,link:e.eventUrl,description:e.event.description},null):i.ui({method:"feed",display:"popup",name:e.event.title,picture:"http://assets.campuslively.com/img/fb_logo.png",link:e.eventUrl,description:e.event.description},null)},e.sendEvent=function(){e.postedEvent.pictureUrl?i.ui({method:"send",display:"popup",name:e.postedEvent.title,picture:e.postedEvent.pictureUrl,link:e.eventUrl,description:e.postedEvent.description},null):i.ui({method:"send",display:"popup",name:e.postedEvent.title,picture:"http://assets.campuslively.com/img/fb_logo.png",link:e.eventUrl,description:e.postedEvent.description},null)},e.openTweet=function(){var t=570,n=255,r=screen.width/2-t/2,i=screen.height/2-n/2,s="https://twitter.com/share?url=http://www.campuslively.com/event/"+e.postedEvent._id+"&text="+e.postedEvent.title+" - &hashtags=campuslively";window.open(s,"Tweet Event","toolbar=no, location=yes, status=no, menubar=no, scrollbars=yes, resizable=yes, width="+t+", height="+n+", top="+i+", left="+r)}}])}),define("controllers/calendar-ctrl",["./index"],function(e){e.controller("calendarCtrl",["$scope","$rootScope","$location","$anchorScroll","$modal","eventService","locationService","googleService","$FB",function(e,t,n,r,i,s,o,u,a){var f=function(){s.getEventsBySchool(t.user.school._id).then(function(n){for(var r=0;r<n.length;r++){var i={title:n[r].title,start:new Date(n[r].startDate),editable:!1,id:n[r]._id};i.backgroundColor=e.isAttending(n[r])?"#4fbda2":t.schoolColor,e.events.push(i)}e.eventCalendar.fullCalendar("removeEventSource",e.events),e.eventCalendar.fullCalendar("addEventSource",e.events),e.loading=!1},function(t){e.loading=!1,e.loadError=t})},l=function(){s.getEventsByLocation(t.userPosition.latitude.toFixed(2),t.userPosition.longitude.toFixed(2)).then(function(n){for(var r=0;r<n.length;r++){var i={title:n[r].title,start:n[r].startDate,editable:!1,id:n[r]._id};i.backgroundColor=e.isAttending(n[r])?"#4fbda2":t.schoolColor,e.events.push(i)}e.eventCalendar.fullCalendar("removeEventSource",e.events),e.eventCalendar.fullCalendar("addEventSource",e.events),e.loading=!1},function(t){e.loading=!1,e.loadError=t})};e.showDay=!1,e.currentView="school",e.viewOptions=[{label:"My School",value:"school"},{label:"Nearby",value:"nearby"}],e.events=[],e.$watch("currentView",function(){e.loading=!0,e.eventCalendar.fullCalendar("removeEventSource",e.events),e.events=[],e.showDay=!1,e.currentView==="school"?f():e.currentView==="nearby"&&(t.userPosition?l():(e.gettingPosition=!0,o.getGeo().then(function(n){t.userPosition=n,e.gettingPosition=!1,l()},function(t){e.loadError=t})))}),e.dayClick=function(i,o,u,a){e.selectedDay=i,e.loadingDayEvents=!0,e.currentView==="school"?s.getEventsBySchoolAndDay(t.user.school._id,e.selectedDay).then(function(t){e.loadingDayEvents=!1,e.dayEvents=t,e.showDay=!0,e.$watch("showDay",function(e){if(e===!0){var t=n.hash();n.hash("dayEvents"),r(),n.hash(t)}})},function(t){e.dayError=t}):e.currentView==="nearby"&&s.getEventsByLocationAndDay(t.userPosition.latitude.toFixed(2),t.userPosition.longitude.toFixed(2),e.selectedDay).then(function(t){e.loadingDayEvents=!1,e.dayEvents=t,e.showDay=!0,e.$watch("showDay",function(e){if(e===!0){var t=n.hash();n.hash("dayEvents"),r(),n.hash(t)}})},function(t){e.dayError=t})},e.calendarOptions={height:600,editable:!1,header:{right:"today prev,next"},events:e.events,dayClick:e.dayClick},e.rsvpToEvent=function(n){var r=function(t,n){for(var r=0;r<e.dayEvents.length;r++)if(e.dayEvents[r]._id===t){e.dayEvents[r]=n;break}for(var i=0;i<e.events.length;i++)if(e.events[i].id===t){e.events[i].backgroundColor="#4fbda2",e.eventCalendar.fullCalendar("removeEventSource",e.events),e.eventCalendar.fullCalendar("addEventSource",e.events);break}};s.rsvp(n._id,t.user._id).then(function(e){t.user.facebook.id&&t.user.facebook.autoPost&&n.facebookId&&n.privacy==="public"&&a.login(function(e){e.authResponse&&(t.updateFbStatus(t.updateApiMe),t.updateApiMe(),a.api("/me/campuslively:rsvp_to","post",{event:n.facebookId},function(e){}))}),t.user.google.id&&t.user.google.calendarId?u.addEvent(t.user.google.calendarId,n).then(function(e){s.addGoogleEventId(n._id,t.user.username,e.id).then(function(e){r(n._id,e)})}):r(n._id,e)})},e.unRsvpToEvent=function(n){var r=function(n,r){for(var i=0;i<e.dayEvents.length;i++)if(e.dayEvents[i]._id===n){e.dayEvents[i]=r;break}for(var s=0;s<e.events.length;s++)if(e.events[s].id===n){e.events[s].backgroundColor=t.schoolColor,e.eventCalendar.fullCalendar("removeEventSource",e.events),e.eventCalendar.fullCalendar("addEventSource",e.events);break}};s.unRsvp(n._id,t.user._id).then(function(e){if(t.user.google.id&&t.user.google.calendarId&&n.googleCalendarIds){var i=function(){s.removeGoogleEventId(n._id,t.user.username).then(function(e){r(n._id,e)})};u.removeEvent(t.user.google.calendarId,n.googleCalendarIds[t.user.username]).then(function(){i()},function(){i()})}else r(n._id,e)})},e.isAttending=function(e){for(var n=0;n<e.attending.length;n++)if(e.attending[n]._id===t.user._id)return!0;return!1},e.openAttending=function(e){i.open({templateUrl:"attendingModal.html",controller:"peopleListModalCtrl",resolve:{items:function(){return e.attending}}})},e.openShare=function(e){i.open({templateUrl:"shareModal.html",controller:"shareEventModalCtrl",resolve:{event:function(){return e}}})},e.sortOptions=[{label:"by start date",value:"startDate"},{label:"by post date",value:"-timestamp"}],e.changeSort=function(t){e.currentSort=t},e.currentSort={label:"by start date",value:"startDate"}}])}),define("controllers/contact-ctrl",["./index"],function(e){e.controller("contactCtrl",["$scope","$rootScope","contactService",function(e,t,n){e.sendMessage=function(){if(!e.message.replyAddress||e.message.replyAddress.length===0)e.message.replyAddress=t.user.email;n.sendMessage(e.message).then(function(t){e.sendError=null,e.messageSent=!0},function(){e.sendError="Failed to send email. Please try again"})}}])}),define("controllers/modals/basicModal-ctrl",["../index"],function(e){e.controller("basicModalCtrl",["$scope","$rootScope","$modalInstance","$location","items","location","event","eventService","userService","localStorageService",function(e,t,n,r,i,s,o,u,a,f){i&&(e.items=i),s&&s.coordinates&&(e.mapOptions={center:new google.maps.LatLng(s.coordinates[1],s.coordinates[0]),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,disableDoubleClickZoom:!0,draggable:!1,scrollwheel:!1,panControl:!1},e.placeMarker=function(e){var t='<h3 class="flush">'+s.address+"</h3>"+'<a href="https://maps.google.com/maps?daddr='+s.coordinates[1]+","+s.coordinates[0]+'&hl=en&t=m&mra=mift&mrsp=1&sz=5&z=18"'+'target="_blank" class="block">Get Directions</a>',n=new google.maps.InfoWindow({content:t,maxWidth:300,position:new google.maps.LatLng(s.coordinates[1],s.coordinates[0])});n.open(e)}),o&&(e.event=o,e.eventUrl="http://www.campuslively.com/event/"+e.event._id),e.clickLink=function(){n.close()},e.deleteUser=function(){a.deleteUser(t.user._id).then(function(){n.close(),f.clearAll(),t.user=null,r.path("/")},function(){n.close(),f.clearAll(),t.user=null,r.path("/")})},e.deleteEvent=function(){(e.event.creator._id===t.user._id||t.user.admin)&&u.deleteEvent(e.event._id).then(function(){n.close(),r.path("/feed")},function(){n.close(),r.path("/feed")})},e.ok=function(){n.close()},e.cancel=function(){n.dismiss("cancel")}}])}),define("controllers/modals/editEventModal-ctrl",["../index"],function(e){e.controller("editEventModalCtrl",["$scope","$rootScope","$modalInstance","$state","$stateParams","event","eventService","locationService",function(e,t,n,r,i,s,o,u){e.newImage={};var a=function(t){u.getFoursquareVenues(t).then(function(t){e.venues=[];if(t.response.groups)for(var n=0;n<t.response.groups.length;n++)e.venues=e.venues.concat(t.response.groups[n].items);else t.response.venues&&(e.venues=t.response.venues)})};s&&(e.event=s,e.newEvent=angular.copy(s),s.privacy==="public"?e.eventPrivacy={label:"Public",value:"public"}:s.privacy==="inviteOnly"&&(e.eventPrivacy={label:"Invite Only",value:"inviteOnly"}),t.userPosition?a(t.userPosition):u.getGeo().then(function(e){t.userPosition=e,a(t.userPosition)})),e.tagOptions={multiple:!0,simple_tags:!0,tags:[],tokenSeparators:[","],maximumSelectionSize:3},e.removePicture=function(){e.newEvent.pictureUrl=null},e.privacyOptions=[{label:"Public",value:"public"},{label:"Invite Only",value:"inviteOnly"}],e.changePrivacy=function(t){e.eventPrivacy=t},e.checkLocation=function(){if(e.newEvent.locationName&&e.newEvent.locationName!==e.event.locationName){for(var t=0;t<e.venues.length;t++)if(e.venues[t].name.toLowerCase()===e.newEvent.locationName.toLowerCase()){e.newEvent.loc={type:"Point",coordinates:[e.venues[t].location.lng.toFixed(2),e.venues[t].location.lat.toFixed(2)]};return}u.checkAddress(e.newEvent.locationName.split(" ").join("+")).then(function(t){if(t&&t.results.length>0){e.newEvent.loc={type:"Point",coordinates:[t.results[0].geometry.location.lng.toFixed(2),t.results[0].geometry.location.lat.toFixed(2)]};return}}),e.newEvent.loc={type:"Point",coordinates:[-180,-90]}}},e.openDatepicker=function(){$timeout(function(){e.datepickerOpened=!0})},e.saveChanges=function(){e.checkLocation(),e.newEvent.startDate=new Date(e.newEvent.startDate),e.newEvent.tags.length>0&&!(e.newEvent.tags instanceof Array)&&(e.newEvent.tags=e.newEvent.tags.split(","));var t=e.newEvent.startTime.split(":"),s=parseInt(t[0],10),u=parseInt(t[1].replace(/\D/g,""),10);t[1].toLowerCase().indexOf("pm")!==-1&&(s+=12),e.newEvent.startDate.setHours(s),e.newEvent.startDate.setMinutes(u),e.newEvent.privacy=e.eventPrivacy.value;if(e.newImage.image){if(e.newImage.image.file.type.toLowerCase().indexOf("image")===-1){e.editError="The event picture must be an image.";return}if(e.newImage.image.file.size>3145728){e.editError="That image is too large.";return}o.uploadImage(e.newImage.image.file,e.event._id).then(function(){var t=function(e){var t=e.lastIndexOf(".");return t<0?"":e.substr(t)};e.newEvent.pictureUrl="http://assets.campuslively.com/event_imgs/"+e.event._id+t(e.newImage.image.file.name),o.updateEvent(e.event._id,e.newEvent).then(function(){n.close(),r.transitionTo(r.current,i,{reload:!0,inherit:!1,notify:!0})},function(t){e.editError=t;return})},function(t){e.editError=t;return})}else o.updateEvent(e.event._id,e.newEvent).then(function(){n.close(),r.transitionTo(r.current,i,{reload:!0,inherit:!1,notify:!0})},function(t){e.editError=t;return})},e.cancel=function(){n.dismiss("cancel")}}])}),define("controllers/modals/shareEventModal-ctrl",["../index"],function(e){e.controller("shareEventModalCtrl",["$scope","$rootScope","$modalInstance","$FB","event",function(e,t,n,r,i){i&&(e.event=i,e.eventUrl="http://www.campuslively.com/event/"+e.event._id),e.shareEvent=function(){e.event.pictureUrl?r.ui({method:"feed",display:"popup",name:e.event.title,picture:e.event.pictureUrl,link:e.eventUrl,description:e.event.description},null):r.ui({method:"feed",display:"popup",name:e.event.title,picture:"http://assets.campuslively.com/img/fb_logo.png",link:e.eventUrl,description:e.event.description},null)},e.sendEvent=function(){e.event.pictureUrl?r.ui({method:"send",display:"popup",name:e.event.title,picture:e.event.pictureUrl,link:e.eventUrl,description:e.event.description},null):r.ui({method:"send",display:"popup",name:e.event.title,picture:"http://assets.campuslively.com/img/fb_logo.png",link:e.eventUrl,description:e.event.description},null)},e.openTweet=function(){var t=570,n=255,r=screen.width/2-t/2,i=screen.height/2-n/2,s="https://twitter.com/share?url=http://www.campuslively.com/event/"+e.event._id+"&text="+e.event.title+" - &hashtags=campuslively";window.open(s,"Tweet Event","toolbar=no, location=yes, status=no, menubar=no, scrollbars=yes, resizable=yes, width="+t+", height="+n+", top="+i+", left="+r)},e.ok=function(){n.close()}}])}),define("controllers/modals/inviteEventModal-ctrl",["../index"],function(e){e.controller("inviteEventModalCtrl",["$scope","$rootScope","$modalInstance","items","event","eventService",function(e,t,n,r,i,s){r&&(e.items=r,e.invitees=[]),i&&(e.event=i,e.eventUrl="http://www.campuslively.com/event/"+e.event._id),e.toggleInvitee=function(t){e.invitees.indexOf(t)>-1?e.invitees.splice(e.invitees.indexOf(t),1):e.invitees.push(t)},e.isInvitee=function(t){return e.invitees.indexOf(t)>-1?!0:!1},e.sendInvites=function(){var r={};e.invitees.length>0&&(r.recipientIds=e.invitees,s.inviteUsers(e.event._id,t.user._id,r).then(function(){n.close()},function(t){e.inviteError=t}))},e.clickLink=function(){n.close()},e.cancel=function(){n.dismiss("cancel")}}])}),define("controllers/modals/peopleListModal-ctrl",["../index"],function(e){e.controller("peopleListModalCtrl",["$scope","$rootScope","$modalInstance","items",function(e,t,n,r){r&&(e.items=r),e.clickLink=function(){n.close()},e.ok=function(){n.close()}}])}),define("directives/comment-expand",["./index"],function(e){e.directive("expandComment",function(){return{restrict:"A",link:function(e,t){function n(){$(t).css("height","150px"),$(t).siblings(".btn").removeClass("hidden"),$(t).css({"line-height":"18px"})}function r(){$(t).val()||($(t).height(33),$(t).siblings(".btn").addClass("hidden"),$(t).css({"line-height":"30px"}))}$(t).css({"line-height":"30px"}),t.bind("focus",n),t.bind("blur",r)}}})}),define("directives/fixed-sidebar",["./index"],function(e){e.directive("fixedSidebar",function(){return function(e,t){$(t).hover(function(){$(t).css({width:"150px"}),$(t).siblings(".main").css({"-ms-transform":"translate(100px, 0)","moz-transform":"translate(100px, 0)","-webkit-transform":"translate3d(100px, 0, 0)","-transform":"translate(150px, 0)"})},function(){$(t).css({width:"50px"}),$(t).siblings(".main").css({"-ms-transform":"none","moz-transform":"none","-webkit-transform":"none","-transform":"none"})}),angular.element(window).bind("scroll",function(){t.css("left",-this.pageXOffset)})}})}),define("directives/ng-blur",["./index"],function(e){e.directive("ngBlur",function(){return{restrict:"A",link:function(t,n,r){n.bind("blur",function(){t.$apply(r.ngBlur)})}}})}),define("directives/confirm-password",["./index"],function(e){e.directive("passwordVerify",function(){return{require:"ngModel",scope:{passwordVerify:"="},link:function(e,t,n,r){e.$watch(function(){var t;if(e.passwordVerify||r.$viewValue)t=e.passwordVerify+"_"+r.$viewValue;return t},function(t){t&&r.$parsers.unshift(function(t){var n=e.passwordVerify;return n!==t?(r.$setValidity("passwordVerify",!1),undefined):(r.$setValidity("passwordVerify",!0),t)})})}}})}),define("directives/input-select",["./index"],function(e){e.directive("inputSelect",[function(){return{restrict:"A",link:function(e,t,n){t.bind("click",function(){t.select()})}}}])}),!function(e){"function"==typeof define&&define.amd?define("timepicker",["jquery"],e):e(jQuery)}(function(e){function t(e){if(e.minTime&&(e.minTime=g(e.minTime)),e.maxTime&&(e.maxTime=g(e.maxTime)),e.durationTime&&"function"!=typeof e.durationTime&&(e.durationTime=g(e.durationTime)),e.disableTimeRanges.length>0){for(var t in e.disableTimeRanges)e.disableTimeRanges[t]=[g(e.disableTimeRanges[t][0]),g(e.disableTimeRanges[t][1])];e.disableTimeRanges=e.disableTimeRanges.sort(function(e,t){return e[0]-t[0]});for(var t=e.disableTimeRanges.length-1;t>0;t--)e.disableTimeRanges[t][0]<=e.disableTimeRanges[t-1][1]&&(e.disableTimeRanges[t-1]=[Math.min(e.disableTimeRanges[t][0],e.disableTimeRanges[t-1][0]),Math.max(e.disableTimeRanges[t][1],e.disableTimeRanges[t-1][1])],e.disableTimeRanges.splice(t,1))}return e}function n(t){var n=t.data("timepicker-settings"),r=t.data("timepicker-list");r&&r.length&&(r.remove(),t.data("timepicker-list",!1)),r=e("<ul />",{"class":"ui-timepicker-list"});var i=e("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});i.css({display:"none",position:"absolute"}).append(r),n.className&&i.addClass(n.className),null===n.minTime&&null===n.durationTime||!n.showDuration||i.addClass("ui-timepicker-with-duration");var o=n.minTime;"function"==typeof n.durationTime?o=g(n.durationTime()):null!==n.durationTime&&(o=n.durationTime);var a=null!==n.minTime?n.minTime:0,f=null!==n.maxTime?n.maxTime:a+w-1;a>=f&&(f+=w),f===w-1&&-1!==n.timeFormat.indexOf("H")&&(f=w);for(var l=n.disableTimeRanges,c=0,h=l.length,p=a;f>=p;p+=60*n.step){var y=p,b=e("<li />");if(b.data("time",y),b.text(m(y,n.timeFormat)),(null!==n.minTime||null!==n.durationTime)&&n.showDuration){var E=e("<span />");E.addClass("ui-timepicker-duration"),E.text(" ("+v(p-o)+")"),b.append(E)}h>c&&(y>=l[c][1]&&(c+=1),l[c]&&y>=l[c][0]&&y<l[c][1]&&b.addClass("ui-timepicker-disabled")),r.append(b)}i.data("timepicker-input",t),t.data("timepicker-list",i);var S=n.appendTo;"string"==typeof S?S=e(S):"function"==typeof S&&(S=S(t)),S.append(i),u(t,r),r.on("click","li",function(){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",x.show)}),s(t)||t[0].focus(),r.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),d(t)&&(t.trigger("hideTimepicker"),i.hide())})}function r(){return new Date(1970,1,1,0,0,0)}function i(t){var n=e(t.target),r=n.closest(".ui-timepicker-input");0===r.length&&0===n.closest(".ui-timepicker-wrapper").length&&(x.hide(),e("body").unbind(".ui-timepicker"),e(window).unbind(".ui-timepicker"))}function s(e){var t=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function o(t,n,r){if(!r&&0!==r)return!1;var i=t.data("timepicker-settings"),s=!1,o=30*i.step;return n.find("li").each(function(t,n){var i=e(n),u=i.data("time")-r;return Math.abs(u)<o||u==o?(s=i,!1):void 0}),s}function u(e,t){t.find("li").removeClass("ui-timepicker-selected");var n=g(f(e));if(null!==n){var r=o(e,t,n);if(r){var i=r.offset().top-t.offset().top;(i+r.outerHeight()>t.outerHeight()||0>i)&&t.scrollTop(t.scrollTop()+r.position().top-r.outerHeight()),r.addClass("ui-timepicker-selected")}}}function a(){if(""!==this.value){var t=e(this),n=t.data("timepicker-list");if(!n||!n.is(":visible")){var r=g(this.value);if(null===r)return t.trigger("timeFormatError"),void 0;var i=t.data("timepicker-settings"),s=!1;if(null!==i.minTime&&r<i.minTime?s=!0:null!==i.maxTime&&r>i.maxTime&&(s=!0),e.each(i.disableTimeRanges,function(){return r>=this[0]&&r<this[1]?(s=!0,!1):void 0}),i.forceRoundTime){var o=r%(60*i.step);o>=30*i.step?r+=60*i.step-o:r-=o}var u=m(r,i.timeFormat);s?l(t,u,"error")&&t.trigger("timeRangeError"):l(t,u)}}}function f(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function l(e,t,n){return e.is("input")&&e.val(t),e.data("ui-timepicker-value")!=t?(e.data("ui-timepicker-value",t),"select"==n?e.trigger("selectTime").trigger("changeTime").trigger("change"):"error"!=n&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function c(t){var n=e(this),r=n.data("timepicker-list");if(!r||!r.is(":visible")){if(40!=t.keyCode)return h(t,n);s(n)||n.focus()}switch(t.keyCode){case 13:return d(n)&&x.hide.apply(this),t.preventDefault(),!1;case 38:var i=r.find(".ui-timepicker-selected");return i.length?i.is(":first-child")||(i.removeClass("ui-timepicker-selected"),i.prev().addClass("ui-timepicker-selected"),i.prev().position().top<i.outerHeight()&&r.scrollTop(r.scrollTop()-i.outerHeight())):(r.find("li").each(function(t,n){return e(n).position().top>0?(i=e(n),!1):void 0}),i.addClass("ui-timepicker-selected")),!1;case 40:return i=r.find(".ui-timepicker-selected"),0===i.length?(r.find("li").each(function(t,n){return e(n).position().top>0?(i=e(n),!1):void 0}),i.addClass("ui-timepicker-selected")):i.is(":last-child")||(i.removeClass("ui-timepicker-selected"),i.next().addClass("ui-timepicker-selected"),i.next().position().top+2*i.outerHeight()>r.outerHeight()&&r.scrollTop(r.scrollTop()+i.outerHeight())),!1;case 27:r.find("li").removeClass("ui-timepicker-selected"),x.hide();break;case 9:x.hide();break;default:return h(t,n)}}function h(e,t){return!t.data("timepicker-settings").disableTextInput||e.ctrlKey||e.altKey||e.metaKey||2!=e.keyCode&&8!=e.keyCode&&e.keyCode<46}function p(t){var n=e(this),r=n.data("timepicker-list");if(!r||!r.is(":visible"))return!0;switch(t.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:u(n,r);break;default:return}}function d(e){var t=e.data("timepicker-settings"),n=e.data("timepicker-list"),r=null,i=n.find(".ui-timepicker-selected");if(i.hasClass("ui-timepicker-disabled"))return!1;if(i.length?r=i.data("time"):f(e)&&(r=g(f(e)),u(e,n)),null!==r){var s=m(r,t.timeFormat);l(e,s,"select")}return!0}function v(e){var t,n=Math.round(e/60);if(Math.abs(n)<60)t=[n,S.mins];else if(60==n)t=["1",S.hr];else{var r=(n/60).toFixed(1);"."!=S.decimal&&(r=r.replace(".",S.decimal)),t=[r,S.hrs]}return t.join(" ")}function m(e,t){if(null!==e){for(var n,r,i=new Date(b.valueOf()+1e3*e),s="",o=0;o<t.length;o++)switch(r=t.charAt(o)){case"a":s+=i.getHours()>11?"pm":"am";break;case"A":s+=i.getHours()>11?"PM":"AM";break;case"g":n=i.getHours()%12,s+=0===n?"12":n;break;case"G":s+=i.getHours();break;case"h":n=i.getHours()%12,0!==n&&10>n&&(n="0"+n),s+=0===n?"12":n;break;case"H":n=i.getHours(),e===w&&(n=24),s+=n>9?n:"0"+n;break;case"i":var u=i.getMinutes();s+=u>9?u:"0"+u;break;case"s":e=i.getSeconds(),s+=e>9?e:"0"+e;break;default:s+=r}return s}}function g(e){if(""===e)return null;if(!e||e+0==e)return e;"object"==typeof e&&(e=e.getHours()+":"+y(e.getMinutes())+":"+y(e.getSeconds())),e=e.toLowerCase(),new Date(0);var t;if(-1===e.indexOf(":")?(t=e.match(/^([0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/),t||(t=e.match(/^([0-2][0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/))):t=e.match(/^(\d{1,2})(?::([0-5][0-9]))?(?::([0-5][0-9]))?\s*([pa]?)m?$/),!t)return null;var n,r=parseInt(1*t[1],10);n=t[4]?12==r?"p"==t[4]?12:0:r+("p"==t[4]?12:0):r;var i=1*t[2]||0,s=1*t[3]||0;return 3600*n+60*i+s}function y(e){return("0"+e).slice(-2)}var b=r(),w=86400,E={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,timeFormat:"g:ia",scrollDefaultNow:!1,scrollDefaultTime:!1,selectOnBlur:!1,disableTouchKeyboard:!0,forceRoundTime:!1,appendTo:"body",disableTimeRanges:[],closeOnWindowScroll:!1,disableTextInput:!1},S={decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},x={init:function(n){return this.each(function(){var r=e(this);if("SELECT"==r[0].tagName){for(var i={type:"text",value:r.val()},s=r[0].attributes,o=0;o<s.length;o++)i[s[o].nodeName]=s[o].nodeValue;var u=e("<input />",i);r.replaceWith(u),r=u}var f=e.extend({},E);n&&(f=e.extend(f,n)),f.lang&&(S=e.extend(S,f.lang)),f=t(f),r.data("timepicker-settings",f),r.prop("autocomplete","off"),r.on("click.timepicker focus.timepicker",x.show),r.on("change.timepicker",a),r.on("keydown.timepicker",c),r.on("keyup.timepicker",p),r.addClass("ui-timepicker-input"),a.call(r.get(0))})},show:function(){var t=e(this),r=t.data("timepicker-settings");s(t)&&t.blur();var u=t.data("timepicker-list");if(!t.prop("readonly")&&(u&&0!==u.length&&"function"!=typeof r.durationTime||(n(t),u=t.data("timepicker-list")),!u.is(":visible"))){x.hide(),u.show(),t.offset().top+t.outerHeight(!0)+u.outerHeight()>e(window).height()+e(window).scrollTop()?u.offset({left:t.offset().left+parseInt(u.css("marginLeft").replace("px",""),10),top:t.offset().top-u.outerHeight()+parseInt(u.css("marginTop").replace("px",""),10)}):u.offset({left:t.offset().left+parseInt(u.css("marginLeft").replace("px",""),10),top:t.offset().top+t.outerHeight()+parseInt(u.css("marginTop").replace("px",""),10)});var a=u.find(".ui-timepicker-selected");if(a.length||(f(t)?a=o(t,u,g(f(t))):r.scrollDefaultNow?a=o(t,u,g(new Date)):r.scrollDefaultTime!==!1&&(a=o(t,u,g(r.scrollDefaultTime)))),a&&a.length){var l=u.scrollTop()+a.position().top-a.outerHeight();u.scrollTop(l)}else u.scrollTop(0);e("body").on("touchstart.ui-timepicker mousedown.ui-timepicker",i),r.closeOnWindowScroll&&e(window).on("scroll.ui-timepicker",i),t.trigger("showTimepicker")}},hide:function(){e(".ui-timepicker-wrapper:visible").each(function(){var t=e(this),n=t.data("timepicker-input"),r=n.data("timepicker-settings");r&&r.selectOnBlur&&d(n),t.hide(),n.trigger("hideTimepicker")})},option:function(n,r){var i=this,s=i.data("timepicker-settings"),o=i.data("timepicker-list");if("object"==typeof n)s=e.extend(s,n);else if("string"==typeof n&&"undefined"!=typeof r)s[n]=r;else if("string"==typeof n)return s[n];return s=t(s),i.data("timepicker-settings",s),o&&(o.remove(),i.data("timepicker-list",!1)),i},getSecondsFromMidnight:function(){return g(f(this))},getTime:function(e){var t=this;return e||(e=new Date),e.setHours(0,0,0,0),new Date(e.valueOf()+1e3*g(f(t)))},setTime:function(e){var t=this,n=m(g(e),t.data("timepicker-settings").timeFormat);l(t,n),t.data("timepicker-list")&&u(t,t.data("timepicker-list"))},remove:function(){var e=this;e.hasClass("ui-timepicker-input")&&(e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),e.removeData("timepicker-list"))}};e.fn.timepicker=function(t){return x[t]?x[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.timepicker"),void 0):x.init.apply(this,arguments)}}),define("directives/time-autocomplete",["./index","timepicker"],function(e){e.directive("timeAutocomplete",[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){n.$observe("timeAutocomplete",function(){$(t).timepicker("remove"),n.timeAutocomplete?$(t).timepicker({step:15,minTime:n.timeAutocomplete,showDuration:!0}):$(t).timepicker({step:15,scrollDefaultNow:!0})}),$(t).on("changeTime",function(){e.$apply(function(){r.$setViewValue(t.val())})})}}}])}),define("directives/header-switcher",["./index"],function(e){e.directive("headerSwitcher",function(){return{restrict:"A",scope:{elementType:"="},link:function(e,t){function i(){++r,r===0?n.eq(r%n.length).show().delay(2500).fadeOut(1e3,i):n.eq(r%n.length).fadeIn(1e3).delay(2500).fadeOut(1e3,i)}var n=$(t).children(e.elementType),r=-1;i()}}})}),define("services/location",["./index"],function(e){e.service("locationService",["$q","$http","$rootScope",function(e,t,n){return{getGeo:function(){var t=e.defer();return navigator.geolocation.getCurrentPosition(function(e){n.$apply(function(){t.resolve(angular.copy(e.coords))})},function(e){n.$apply(function(){t.reject(e)})}),t.promise},getFoursquareVenues:function(n){var r=e.defer(),i="R4IVY3OSER10BUFMKODGCWFHXITCTRGXS5UJED1HRCEGQZSS",s="GA3OVFMEIKL1UC3ZXAUPS5ZOIJ3FIQPEWSTGRXOOYHFPC554",o=(new Date).getFullYear(),u=(new Date).getMonth()+1,a=(new Date).getDate().length>1?(new Date).getDate():"0"+String((new Date).getDate()),f=String(o)+String(u)+String(a);return t.get("https://api.foursquare.com/v2/venues/search?ll="+n.latitude.toFixed(2)+","+n.longitude.toFixed(2)+"&client_id="+s+"&client_secret="+i+"&v="+f).success(function(e){r.resolve(e)}).error(function(){r.reject("An error occurred while fetching venues from Foursquare.")}),r.promise},checkAddress:function(n){var r=e.defer();return t.get("http://maps.googleapis.com/maps/api/geocode/json?address="+n+"&sensor=true").success(function(e){r.resolve(e)}).error(function(){r.reject("An error occurred while validating the address given.")}),r.promise}}}])}),define("services/auth",["./index"],function(e){e.service("authService",["$q","$http",function(e,t){return{apiPath:"/api/v1/auth/",isLoggedIn:function(){var n=e.defer();return t.get(this.apiPath+"check").success(function(e){n.resolve(e)}).error(function(e,t){n.resolve(e,t)}),n.promise},login:function(n){var r=e.defer();return t.post(this.apiPath+"login",n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},register:function(n){var r=e.defer();return t.put(this.apiPath+"register",n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},checkUsername:function(n){var r=e.defer();return t.get(this.apiPath+"username/"+n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},checkEmail:function(n){var r=e.defer();return t.get(this.apiPath+"email/"+n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},activateUser:function(n,r){var i=e.defer();return t.post(this.apiPath+"user/"+n+"/activate/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},resendActivation:function(n){var r=e.defer();return t.get(this.apiPath+"user/"+n+"/resend").success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},forgotPassword:function(n){var r=e.defer();return t.post(this.apiPath+"forgot",n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},checkResetKey:function(n){var r=e.defer();return t.get(this.apiPath+"checkKey/"+n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},resetPassword:function(n){var r=e.defer();return t.post(this.apiPath+"reset",n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},logout:function(n){var r=e.defer();return t.post(this.apiPath+"logout",n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise}}}])}),define("services/user",["./index"],function(e){e.service("userService",["$q","$http",function(e,t){return{apiPath:"/api/v1/user/",getAllUsers:function(){var n=e.defer();return t.get(this.apiPath).success(function(e){n.resolve(e)}).error(function(e,t){n.reject(e,t)}),n.promise},getSubscribers:function(n){var r=e.defer();return t.get(this.apiPath+n+"/subscribers").success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},getUsersForInvite:function(n,r){var i=e.defer();return t.get(this.apiPath+n+"/inviteTo/event/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},getUserById:function(n){var r=e.defer();return t.get(this.apiPath+n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},getUserByName:function(n){var r=e.defer();return t.get(this.apiPath+"username/"+n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},updateUser:function(n,r){var i=e.defer();return t({method:"PATCH",url:this.apiPath+n,data:r}).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},subscribe:function(n,r){var i=e.defer();return t.post(this.apiPath+n+"/subscribe/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},unsubscribe:function(n,r){var i=e.defer();return t.post(this.apiPath+n+"/unsubscribe/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},uploadImage:function(n,r){var i=e.defer(),s=new FormData;return s.append("image",n,n.name),t.post(this.apiPath+r+"/image",s,{transformRequest:angular.identity,headers:{"Content-Type":undefined}}).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},getActivities:function(n,r){var i=e.defer();return r=typeof r=="undefined"?null:r,r?t.get(this.apiPath+n+"/activities/limit/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}):t.get(this.apiPath+n+"/activities").success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},getActivitiesNewer:function(n,r){var i=e.defer();return r=typeof r=="undefined"?null:r,r?t.get(this.apiPath+n+"/activities/newer/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}):t.get(this.apiPath+n+"/activities/newer/").success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},getActivitiesOlder:function(n,r,i){var s=e.defer();return t.get(this.apiPath+n+"/activities/older/"+r+"/limit/"+i).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e,t)}),s.promise},addFacebookSubscriptions:function(n){var r=e.defer();return t.post(this.apiPath+n+"/addFacebookSubscriptions").success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},deleteUser:function(n){var r=e.defer();return t.delete(this.apiPath+n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise}}}])}),define("services/school",["./index"],function(e){e.service("schoolService",["$q","$http",function(e,t){return{apiPath:"/api/v1/school/",getAllSchools:function(){var n=e.defer();return t.get(this.apiPath+"all").success(function(e){n.resolve(e)}).error(function(e,t){n.reject(e,t)}),n.promise}}}])}),define("services/event",["./index"],function(e){e.service("eventService",["$q","$http",function(e,t){return{apiPath:"/api/v1/event/",getEvent:function(n){var r=e.defer();return t.get(this.apiPath+n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},getEventsBySchool:function(n,r){var i=e.defer(),s=this.apiPath+"school/"+n;return r=typeof r=="undefined"?null:r,r&&(s+="/limit/"+r),t.get(s).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},getEventsBySchoolNewer:function(n,r){var i=e.defer(),s=this.apiPath+"school/"+n+"/newer";return r=typeof r=="undefined"?null:r,r&&(s+="/"+r),t.get(s).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},getEventsBySchoolOlder:function(n,r,i){var s=e.defer();return t.get(this.apiPath+"school/"+n+"/older/"+r+"/limit/"+i).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e,t)}),s.promise},getEventsByLocation:function(n,r,i){var s=e.defer(),o=this.apiPath+"near/"+n+"/"+r;return i=typeof i=="undefined"?null:i,i&&(o+="/limit/"+i),t.get(o).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e,t)}),s.promise},getEventsByLocationNewer:function(n,r,i){var s=e.defer(),o=this.apiPath+"near/"+n+"/"+r+"/newer";return i=typeof i=="undefined"?null:i,i&&(o+="/"+i),t.get(o).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e,t)}),s.promise},getEventsByLocationOlder:function(n,r,i,s){var o=e.defer();return t.get(this.apiPath+"near/"+n+"/"+r+"/older/"+i+"/limit/"+s).success(function(e){o.resolve(e)}).error(function(e,t){o.reject(e,t)}),o.promise},getEventsBySchoolAndDay:function(n,r){var i=e.defer();return t.get(this.apiPath+"school/"+n+"/day/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},getEventsByLocationAndDay:function(n,r,i){var s=e.defer();return t.get(this.apiPath+"near/"+n+"/"+r+"/day/"+i).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e,t)}),s.promise},getEventsByUser:function(n,r){var i=e.defer(),s=this.apiPath+"profile/"+n;return r=typeof r=="undefined"?null:r,r&&(s+="/limit/"+r),t.get(s).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},getEventsByUserNewer:function(n,r){var i=e.defer(),s=this.apiPath+"profile/"+n+"/newer";return r=typeof r=="undefined"?null:r,r&&(s+="/"+r),t.get(s).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},getEventsByUserOlder:function(n,r,i){var s=e.defer();return t.get(this.apiPath+"profile/"+n+"/older/"+r+"/limit/"+i).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e,t)}),s.promise},postEvent:function(n){var r=e.defer();return t.put(this.apiPath,n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},createFacebookObject:function(n){var r=e.defer(),i="458852510898409|6dr7y1LgXO06y2iTfvl6Q9KB38M",s={title:n.title,url:"http://www.campuslively.com/event/"+n._id},o={value:"SELF"};return n.description&&(s.description=n.description),n.pictureUrl?s.image=n.pictureUrl:s.image="http://assets.campuslively.com/img/fb_logo.png",s=JSON.stringify(s),o=JSON.stringify(o),t.post("https://graph.facebook.com/app/objects/campuslively:event?access_token="+i+"&privacy="+o+"&object="+s).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise},updateEvent:function(n,r){var i=e.defer();return t({method:"PATCH",url:this.apiPath+n,data:r}).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},uploadImage:function(n,r){var i=e.defer(),s=new FormData;return s.append("image",n,n.name),t.post(this.apiPath+r+"/image",s,{transformRequest:angular.identity,headers:{"Content-Type":undefined}}).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},addGoogleEventId:function(n,r,i){var s=e.defer();return t.post(this.apiPath+n+"/googleEventId/add/"+i+"/username/"+r).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e,t)}),s.promise},removeGoogleEventId:function(n,r){var i=e.defer();return t.delete(this.apiPath+n+"/googleEventId/remove/username/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},postComment:function(n,r){var i=e.defer();return t.post(this.apiPath+n+"/comment",r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},postSubComment:function(n,r,i){var s=e.defer();return t.post(this.apiPath+n+"/comment/"+r+"/subComment",i).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e,t)}),s.promise},deleteComment:function(n,r){var i=e.defer();return t.delete(this.apiPath+n+"/comment/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},deleteSubComment:function(n,r,i){var s=e.defer();return t.delete(this.apiPath+n+"/comment/"+r+"/subComment/"+i).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e,t)}),s.promise},rsvp:function(n,r){var i=e.defer();return t.post(this.apiPath+n+"/rsvp/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},unRsvp:function(n,r){var i=e.defer();return t.delete(this.apiPath+n+"/unrsvp/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},likeComment:function(n,r){var i=e.defer();return t.post(this.apiPath+"comment/"+n+"/like/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},unlikeComment:function(n,r){var i=e.defer();return t.delete(this.apiPath+"comment/"+n+"/unlike/"+r).success(function(e){i.resolve(e)}).error(function(e,t){i.reject(e,t)}),i.promise},inviteUsers:function(n,r,i){var s=e.defer();return t.post(this.apiPath+n+"/invite/sender/"+r,i).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e,t)}),s.promise},deleteEvent:function(n){var r=e.defer();return t.delete(this.apiPath+n).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e,t)}),r.promise}}}])}),define("services/contact",["./index"],function(e){e.service("contactService",["$q","$http",function(e,t){return{apiPath:"/api/v1/contact",sendMessage:function(n){var r=e.defer();return t.post(this.apiPath,n).success(function(e){r.resolve(e)}).error(function(e,t){r.resolve(e,t)}),r.promise}}}])}),define("services/invite",["./index"],function(e){e.service("inviteService",["$q","$http",function(e,t){return{apiPath:"/api/v1/invite/",getUnreadInvites:function(n){var r=e.defer();return t.get(this.apiPath+"user/"+n).success(function(e){r.resolve(e)}).error(function(e,t){r.resolve(e,t)}),r.promise},markAsRead:function(n){var r=e.defer();return t.post(this.apiPath+n+"/read").success(function(e){r.resolve(e)}).error(function(e,t){r.resolve(e,t)}),r.promise}}}])}),define("services/google",["./index","https://apis.google.com/js/client.js"],function(e){e.service("googleService",["$q","$http",function(e,t){var n=e.defer();return{clientId:"257320210287.apps.googleusercontent.com",apiKey:"AIzaSyDJHaZDPj_r8vjUiFTJjp8w8j31cQtIzgQ",scopes:"https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/plus.login",login:function(){return gapi.auth.authorize({client_id:this.clientId,scope:this.scopes,immediate:!1},this.handleAuthResult),n.promise},handleAuthResult:function(e){if(e&&!e.error){var t={};gapi.client.load("oauth2","v2",function(){var e=gapi.client.oauth2.userinfo.get();e.execute(function(e){t.id=e.id,n.resolve(t)})})}else n.reject()},handleAuthClick:function(){return gapi.auth.authorize({client_id:this.clientId,scope:this.scopes,immediate:!1},this.handleAuthResult),!1},getUserCalendar:function(){var t=e.defer(),n=function(){gapi.client.load("calendar","v3",function(){var e=gapi.client.calendar.calendarList.list({});e.execute(function(e){if(!e.error){for(var n=0;n<e.items.length;n++)if(e.items[n].id.indexOf("calendar.google.com")===-1){t.resolve(e.items[n].id);break}}else t.reject(e.error)})})};return gapi.auth.authorize({client_id:this.clientId,scope:this.scopes,immediate:!0},n),t.promise},getAllEvents:function(){var t=e.defer(),n=function(){var t=e.defer();return gapi.client.load("calendar","v3",function(){var e=gapi.client.calendar.calendarList.list({});e.execute(function(e){if(!e.error){var n=[];for(var r=0;r<e.items.length;r++)n.push(e.items[r].id);t.resolve(n)}else t.reject(e.error)})}),t.promise},r=function(t){var n=[],r=e.defer(),i=new Date;i.setHours(0,0,0,0);var s=gapi.client.calendar.events.list({calendarId:t,timeMin:i.toISOString()});return s.execute(function(e){if(!e.error){for(var t=0;t<e.items.length;t++)n.push(e.items[t]);r.resolve(n)}else r.reject(e.error)}),r.promise},i=function(){n().then(function(n){var i=[];for(var s=0;s<n.length;s++)i.push(r(n[s]));e.all(i).then(function(e){var n=[];angular.forEach(e,function(e){n=n.concat(e)}),t.resolve(n)})},function(e){t.reject(e)})};return gapi.auth.authorize({client_id:this.clientId,scope:this.scopes,immediate:!0},i),t.promise},addEvent:function(t,n){var r=e.defer(),i=function(e,t){var n={summary:t.title,location:t.locationName,description:t.description,source:{title:"Campuslively",url:"http://www.campuslively.com/event/"+t._id},start:{dateTime:new Date(t.startDate)}};if(t.endTime){var i=t.endTime.split(":"),s=parseInt(i[0]),o=parseInt(i[1].replace(/\D/g,""));i[1].toLowerCase().indexOf("pm")!==-1&&(s+=12);var u=new Date(t.startDate);u.setHours(s),u.setMinutes(o)}else u=new Date(t.startDate),u.setHours(u.getHours()+2);n.end={dateTime:u},gapi.client.load("calendar","v3",function(){var t=gapi.client.calendar.events.insert({calendarId:e,resource:n});t.execute(function(e){e.id?r.resolve(e):r.reject()})})};return gapi.auth.authorize({client_id:this.clientId,scope:this.scopes,immediate:!0},i(t,n)),r.promise},removeEvent:function(t,n){var r=e.defer(),i=function(e,t){gapi.client.load("calendar","v3",function(){var n=gapi.client.calendar.events.delete({calendarId:e,eventId:t});n.execute(function(e){typeof e=="undefined"?r.resolve():r.reject()})})};return gapi.auth.authorize({client_id:this.clientId,scope:this.scopes,immediate:!0},i(t,n)),r.promise}}}])}),define("filters/url-format",["./index"],function(e){e.filter("urlAndFormat",function(){var e=[{search:/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,replace:'<a href="$1" target="_blank">$1</a>'},{search:/(^|[^\/])(www\.[\S]+(\b|$))/gim,replace:'$1<a href="http://$2" target="_blank">$2</a>'},{search:/(\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6})/gim,replace:'<a href="mailto:$1">$1</a>'}];return function(t){if(t){for(var n=0;e.length>n;n++)t=t.replace(e[n].search,e[n].replace);t=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),t=t.replace(new RegExp("//(((?!https?://).)*?)//","g"),"<em>$1</em>")}return t}})}),function(e){function t(e,t){return function(n){return a(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function r(){}function i(e){w(e),o(this,e)}function s(e){var t=d(e),n=t.year||0,r=t.month||0,i=t.week||0,s=t.day||0,o=t.hour||0,u=t.minute||0,a=t.second||0,f=t.millisecond||0;this._input=e,this._milliseconds=+f+1e3*a+6e4*u+36e5*o,this._days=+s+7*i,this._months=+r+12*n,this._data={},this._bubble()}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function u(e){return 0>e?Math.ceil(e):Math.floor(e)}function a(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function f(e,t,n,r){var i,s,o=t._milliseconds,u=t._days,a=t._months;o&&e._d.setTime(+e._d+o*n),(u||a)&&(i=e.minute(),s=e.hour()),u&&e.date(e.date()+u*n),a&&e.month(e.month()+a*n),o&&!r&&tt.updateOffset(e),(u||a)&&(e.minute(i),e.hour(s))}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){return"[object Date]"===Object.prototype.toString.call(e)}function h(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&m(e[r])!==m(t[r]))&&o++;return o+s}function p(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Ht[e]||Bt[t]||t}return e}function d(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=p(n),t&&(r[t]=e[n]));return r}function v(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}tt[t]=function(i,s){var o,u,a=tt.fn._lang[t],f=[];if("number"==typeof i&&(s=i,i=e),u=function(e){var t=tt().utc().set(r,e);return a.call(tt.fn._lang,t,i||"")},null!=s)return u(s);for(o=0;n>o;o++)f.push(u(o));return f}}function m(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function g(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function y(e){return b(e)?366:365}function b(e){return 0===e%4&&0!==e%100||0===e%400}function w(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[ot]<0||e._a[ot]>11?ot:e._a[ut]<1||e._a[ut]>g(e._a[st],e._a[ot])?ut:e._a[at]<0||e._a[at]>23?at:e._a[ft]<0||e._a[ft]>59?ft:e._a[lt]<0||e._a[lt]>59?lt:e._a[ct]<0||e._a[ct]>999?ct:-1,e._pf._overflowDayOfYear&&(st>t||t>ut)&&(t=ut),e._pf.overflow=t)}function E(e){e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1}}function S(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function x(e){return e?e.toLowerCase().replace("_","-"):e}function T(e,t){return t.abbr=e,ht[e]||(ht[e]=new r),ht[e].set(t),ht[e]}function N(e){delete ht[e]}function C(e){var t,n,r,i,s=0,o=function(e){if(!ht[e]&&pt)try{require("./lang/"+e)}catch(t){}return ht[e]};if(!e)return tt.fn._lang;if(!l(e)){if(n=o(e))return n;e=[e]}for(;s<e.length;){for(i=x(e[s]).split("-"),t=i.length,r=x(e[s+1]),r=r?r.split("-"):null;t>0;){if(n=o(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&h(i,r,!0)>=t-1)break;t--}s++}return tt.fn._lang}function k(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,n,r=e.match(gt);for(t=0,n=r.length;n>t;t++)r[t]=qt[r[t]]?qt[r[t]]:k(r[t]);return function(i){var s="";for(t=0;n>t;t++)s+=r[t]instanceof Function?r[t].call(i,e):r[t];return s}}function A(e,t){return e.isValid()?(t=O(t,e.lang()),jt[t]||(jt[t]=L(t)),jt[t](e)):e.lang().invalidDate()}function O(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(yt.lastIndex=0;r>=0&&yt.test(e);)e=e.replace(yt,n),yt.lastIndex=0,r-=1;return e}function M(e,t){var n;switch(e){case"DDDD":return Et;case"YYYY":case"GGGG":case"gggg":return St;case"YYYYY":case"GGGGG":case"ggggg":return xt;case"S":case"SS":case"SSS":case"DDD":return wt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Tt;case"a":case"A":return C(t._l)._meridiemParse;case"X":return kt;case"Z":case"ZZ":return Nt;case"T":return Ct;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return bt;default:return n=new RegExp(I(F(e.replace("\\","")),"i"))}}function _(e){var t=(Nt.exec(e)||[])[0],n=(t+"").match(_t)||["-",0,0],r=+(60*n[1])+m(n[2]);return"+"===n[0]?-r:r}function D(e,t,n){var r,i=n._a;switch(e){case"M":case"MM":null!=t&&(i[ot]=m(t)-1);break;case"MMM":case"MMMM":r=C(n._l).monthsParse(t),null!=r?i[ot]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[ut]=m(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=m(t));break;case"YY":i[st]=m(t)+(m(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":i[st]=m(t);break;case"a":case"A":n._isPm=C(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[at]=m(t);break;case"m":case"mm":i[ft]=m(t);break;case"s":case"ss":i[lt]=m(t);break;case"S":case"SS":case"SSS":i[ct]=m(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=_(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function P(e){var t,n,r,i,s,o,u,a,f,l,c=[];if(!e._d){for(r=B(e),e._w&&null==e._a[ut]&&null==e._a[ot]&&(s=function(t){return t?t.length<3?parseInt(t,10)>68?"19"+t:"20"+t:t:null==e._a[st]?tt().weekYear():e._a[st]},o=e._w,null!=o.GG||null!=o.W||null!=o.E?u=K(s(o.GG),o.W||1,o.E,4,1):(a=C(e._l),f=null!=o.d?X(o.d,a):null!=o.e?parseInt(o.e,10)+a._week.dow:0,l=parseInt(o.w,10)||1,null!=o.d&&f<a._week.dow&&l++,u=K(s(o.gg),l,f,a._week.doy,a._week.dow)),e._a[st]=u.year,e._dayOfYear=u.dayOfYear),e._dayOfYear&&(i=null==e._a[st]?r[st]:e._a[st],e._dayOfYear>y(i)&&(e._pf._overflowDayOfYear=!0),n=W(i,0,e._dayOfYear),e._a[ot]=n.getUTCMonth(),e._a[ut]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=c[t]=r[t];for(;7>t;t++)e._a[t]=c[t]=null==e._a[t]?2===t?1:0:e._a[t];c[at]+=m((e._tzm||0)/60),c[ft]+=m((e._tzm||0)%60),e._d=(e._useUTC?W:z).apply(null,c)}}function H(e){var t;e._d||(t=d(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],P(e))}function B(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function j(e){e._a=[],e._pf.empty=!0;var t,n,r,i,s,o=C(e._l),u=""+e._i,a=u.length,f=0;for(r=O(e._f,o).match(gt)||[],t=0;t<r.length;t++)i=r[t],n=(M(i,e).exec(u)||[])[0],n&&(s=u.substr(0,u.indexOf(n)),s.length>0&&e._pf.unusedInput.push(s),u=u.slice(u.indexOf(n)+n.length),f+=n.length),qt[i]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(i),D(i,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(i);e._pf.charsLeftOver=a-f,u.length>0&&e._pf.unusedInput.push(u),e._isPm&&e._a[at]<12&&(e._a[at]+=12),e._isPm===!1&&12===e._a[at]&&(e._a[at]=0),P(e),w(e)}function F(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function I(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(e){var t,n,r,i,s;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(0/0),void 0;for(i=0;i<e._f.length;i++)s=0,t=o({},e),E(t),t._f=e._f[i],j(t),S(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==r||r>s)&&(r=s,n=t));o(e,n||t)}function R(e){var t,n=e._i,r=Lt.exec(n);if(r){for(t=4;t>0;t--)if(r[t]){e._f=Ot[t-1]+(r[6]||" ");break}for(t=0;4>t;t++)if(Mt[t][1].exec(n)){e._f+=Mt[t][0];break}Nt.exec(n)&&(e._f+=" Z"),j(e)}else e._d=new Date(n)}function U(t){var n=t._i,r=dt.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?R(t):l(n)?(t._a=n.slice(0),P(t)):c(n)?t._d=new Date(+n):"object"==typeof n?H(t):t._d=new Date(n)}function z(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return 1970>e&&u.setFullYear(e),u}function W(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function X(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function V(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function $(e,t,n){var r=it(Math.abs(e)/1e3),i=it(r/60),s=it(i/60),o=it(s/24),u=it(o/365),a=45>r&&["s",r]||1===i&&["m"]||45>i&&["mm",i]||1===s&&["h"]||22>s&&["hh",s]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",it(o/30)]||1===u&&["y"]||["yy",u];return a[2]=t,a[3]=e>0,a[4]=n,V.apply({},a)}function J(e,t,n){var r,i=n-t,s=n-e.day();return s>i&&(s-=7),i-7>s&&(s+=7),r=tt(e).add("d",s),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function K(e,t,n,r,i){var s,o,u=(new Date(Date.UTC(e,0))).getUTCDay();return n=null!=n?n:i,s=i-u+(u>r?7:0),o=7*(t-1)+(n-i)+s+1,{year:o>0?e:e-1,dayOfYear:o>0?o:y(e-1)+o}}function Q(e){var t=e._i,n=e._f;return"undefined"==typeof e._pf&&E(e),null===t?tt.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=C().preparse(t)),tt.isMoment(t)?(e=o({},t),e._d=new Date(+t._d)):n?l(n)?q(e):j(e):U(e),new i(e))}function G(e,t){tt.fn[e]=tt.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),tt.updateOffset(this),this):this._d["get"+n+t]()}}function Y(e){tt.duration.fn[e]=function(){return this._data[e]}}function Z(e,t){tt.duration.fn["as"+e]=function(){return+this/t}}function et(){"undefined"==typeof ender&&(this.moment=tt)}for(var tt,nt,rt="2.3.1",it=Math.round,st=0,ot=1,ut=2,at=3,ft=4,lt=5,ct=6,ht={},pt="undefined"!=typeof module&&module.exports,dt=/^\/?Date\((\-?\d+)/i,vt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,mt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,gt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,yt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,bt=/\d\d?/,wt=/\d{1,3}/,Et=/\d{3}/,St=/\d{1,4}/,xt=/[+\-]?\d{1,6}/,Tt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Nt=/Z|[\+\-]\d\d:?\d\d/i,Ct=/T/i,kt=/[\+\-]?\d+(\.\d{1,3})?/,Lt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?$/,At="YYYY-MM-DDTHH:mm:ssZ",Ot=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Mt=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],_t=/([\+\-]|\d\d)/gi,Dt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Pt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Ht={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Bt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},jt={},Ft="DDD w W M D d".split(" "),It="M D H h m s w W".split(" "),qt={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return a(this.year()%100,2)},YYYY:function(){return a(this.year(),4)},YYYYY:function(){return a(this.year(),5)},gg:function(){return a(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return a(this.weekYear(),5)},GG:function(){return a(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return a(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return m(this.milliseconds()/100)},SS:function(){return a(m(this.milliseconds()/10),2)},SSS:function(){return a(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+a(m(e/60),2)+":"+a(m(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+a(m(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},Rt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Ft.length;)nt=Ft.pop(),qt[nt+"o"]=n(qt[nt],nt);for(;It.length;)nt=It.pop(),qt[nt+nt]=t(qt[nt],2);for(qt.DDDD=t(qt.DDD,3),o(r.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=tt.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=tt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return J(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),tt=function(t,n,r,i){return"boolean"==typeof r&&(i=r,r=e),Q({_i:t,_f:n,_l:r,_strict:i,_isUTC:!1})},tt.utc=function(t,n,r,i){var s;return"boolean"==typeof r&&(i=r,r=e),s=Q({_useUTC:!0,_isUTC:!0,_l:r,_i:t,_f:n,_strict:i}).utc()},tt.unix=function(e){return tt(1e3*e)},tt.duration=function(e,t){var n,r,i,o=tt.isDuration(e),u="number"==typeof e,a=o?e._input:u?{}:e,f=null;return u?t?a[t]=e:a.milliseconds=e:(f=vt.exec(e))?(n="-"===f[1]?-1:1,a={y:0,d:m(f[ut])*n,h:m(f[at])*n,m:m(f[ft])*n,s:m(f[lt])*n,ms:m(f[ct])*n}):(f=mt.exec(e))&&(n="-"===f[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},a={y:i(f[2]),M:i(f[3]),d:i(f[4]),h:i(f[5]),m:i(f[6]),s:i(f[7]),w:i(f[8])}),r=new s(a),o&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},tt.version=rt,tt.defaultFormat=At,tt.updateOffset=function(){},tt.lang=function(e,t){var n;return e?(t?T(x(e),t):null===t?(N(e),e="en"):ht[e]||C(e),n=tt.duration.fn._lang=tt.fn._lang=C(e),n._abbr):tt.fn._lang._abbr},tt.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),C(e)},tt.isMoment=function(e){return e instanceof i},tt.isDuration=function(e){return e instanceof s},nt=Rt.length-1;nt>=0;--nt)v(Rt[nt]);for(tt.normalizeUnits=function(e){return p(e)},tt.invalid=function(e){var t=tt.utc(0/0);return null!=e?o(t._pf,e):t._pf.userInvalidated=!0,t},tt.parseZone=function(e){return tt(e).parseZone()},o(tt.fn=i.prototype,{clone:function(){return tt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return A(tt(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return S(this)},isDSTShifted:function(){return this._a?this.isValid()&&h(this._a,(this._isUTC?tt.utc(this._a):tt(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=A(this,e||tt.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?tt.duration(+t,e):tt.duration(e,t),f(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?tt.duration(+t,e):tt.duration(e,t),f(this,n,-1),this},diff:function(e,t,n){var r,i,s=this._isUTC?tt(e).zone(this._offset||0):tt(e).local(),o=6e4*(this.zone()-s.zone());return t=p(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+s.daysInMonth()),i=12*(this.year()-s.year())+(this.month()-s.month()),i+=(this-tt(this).startOf("month")-(s-tt(s).startOf("month")))/r,i-=6e4*(this.zone()-tt(this).startOf("month").zone()-(s.zone()-tt(s).startOf("month").zone()))/r,"year"===t&&(i/=12)):(r=this-s,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?i:u(i)},from:function(e,t){return tt.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(tt(),e)},calendar:function(){var e=this.diff(tt().zone(this.zone()).startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){return b(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=X(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),tt.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=p(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=p(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+tt(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+tt(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+tt(e).startOf(t)},min:function(e){return e=tt.apply(null,arguments),this>e?this:e},max:function(e){return e=tt.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=_(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&f(this,tt.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?tt(e).zone():0,0===(this.zone()-e)%60},daysInMonth:function(){return g(this.year(),this.month())},dayOfYear:function(e){var t=it((tt(this).startOf("day")-tt(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=J(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=J(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=J(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=p(e),this[e]()},set:function(e,t){return e=p(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=C(t),this)}}),nt=0;nt<Dt.length;nt++)G(Dt[nt].toLowerCase().replace(/s$/,""),Dt[nt]);G("year","FullYear"),tt.fn.days=tt.fn.day,tt.fn.months=tt.fn.month,tt.fn.weeks=tt.fn.week,tt.fn.isoWeeks=tt.fn.isoWeek,tt.fn.toJSON=tt.fn.toISOString,o(tt.duration.fn=s.prototype,{_bubble:function(){var e,t,n,r,i=this._milliseconds,s=this._days,o=this._months,a=this._data;a.milliseconds=i%1e3,e=u(i/1e3),a.seconds=e%60,t=u(e/60),a.minutes=t%60,n=u(t/60),a.hours=n%24,s+=u(n/24),a.days=s%30,o+=u(s/30),a.months=o%12,r=u(o/12),a.years=r},weeks:function(){return u(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*m(this._months/12)},humanize:function(e){var t=+this,n=$(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=tt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=tt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=p(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=p(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:tt.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}});for(nt in Pt)Pt.hasOwnProperty(nt)&&(Z(nt,Pt[nt]),Y(nt.toLowerCase()));Z("Weeks",6048e5),tt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},tt.lang("en",{ordinal:function(e){var t=e%10,n=1===m(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),pt?(module.exports=tt,et()):"function"==typeof define&&define.amd?define("moment",["require","exports","module"],function(e,t,n){return n.config().noGlobal!==!0&&et(),tt}):et()}.call(this),define("filters/readable-date",["./index","moment"],function(e,t){t().format(),e.filter("readableDate",function(){return function(e){return t(e).format("dddd, MMMM Do, YYYY")}})}),define("filters/time-past",["./index","moment"],function(e,t){t().format(),e.filter("timePast",function(){return function(e){return t(e).fromNow()}})}),define("filters/truncate",["./index"],function(e){e.filter("words",function(){return function(e,t,n){if(isNaN(t))return e;if(t<=0)return"";if(e){var r=e.split(/\s+/);if(r.length>t){e=r.slice(0,t).join(" ")+"...";if(n){var i="/event/"+n;e+=' <a href="'+i+'">See More</a>'}}}return e}})}),define("animations/loading",["./index"],function(e){e.animation(".loading",function(){return{addClass:function(e,t,n){t==="ng-hide"?jQuery(e).animate({top:"-100px"},1e3,n):n()},removeClass:function(e,t,n){t==="ng-hide"?(e.css("top","-100px"),e.removeClass("ng-hide"),jQuery(e).animate({top:0},0,n)):n()}}})}),define("impl",["./templates","controllers/home-ctrl","controllers/inner-ctrl","controllers/login-ctrl","controllers/registerGroup-ctrl","controllers/registerStudent-ctrl","controllers/activate-ctrl","controllers/resend-ctrl","controllers/forgot-ctrl","controllers/reset-ctrl","controllers/settings-ctrl","controllers/profile-ctrl","controllers/feed-ctrl","controllers/explore-ctrl","controllers/event-ctrl","controllers/post-ctrl","controllers/posted-ctrl","controllers/calendar-ctrl","controllers/contact-ctrl","controllers/modals/basicModal-ctrl","controllers/modals/editEventModal-ctrl","controllers/modals/shareEventModal-ctrl","controllers/modals/inviteEventModal-ctrl","controllers/modals/peopleListModal-ctrl","directives/comment-expand","directives/fixed-sidebar","directives/ng-blur","directives/confirm-password","directives/input-select","directives/time-autocomplete","directives/header-switcher","services/location","services/auth","services/user","services/school","services/event","services/contact","services/invite","services/google","filters/url-format","filters/readable-date","filters/time-past","filters/truncate","animations/loading"],function(){}),define("bootstrap",["require","angular","app","routes","impl"],function(e,t,n){n.config(["$FBProvider",function(e){e.setInitParams({appId:"458852510898409"})}]),n.run(["$rootScope","$location","authService","localStorageService","$FB","userService","$q",function(e,t,n,r,i,s,o){function u(){i.getLoginStatus(function(t){e.fbStatus=t;if(e.fbStatus.status==="connected"){var n=new Date(e.user.facebook.lastUpdated),u=new Date,a=[],f={};u.setDate(u.getDate()-7),n<=u&&o.all([i.api("/me/likes",{limit:9999,fields:"id"}),i.api("/me/subscribedto",{limit:9999,fields:"id"})]).then(function(t){for(var n=0;n<t[0].data.length;n++)a.push(t[0].data[n].id);for(var i=0;i<t[1].data.length;i++)a.push(t[1].data[i].id);f.facebook={},f.facebook.subscriptions=a,s.updateUser(e.user._id,f).then(function(t){s.addFacebookSubscriptions(e.user._id).then(function(t){e.user=t,r.add("user",t)})})})}})}r.get("user")&&(e.user=r.get("user"),s.getUserById(e.user._id).then(function(t){e.user=t,r.add("user",t),e.schoolColor=e.user.school.color})),e.$on("event:auth-loginConfirmed",function(){e.schoolColor=e.user.school.color;if(e.originalDestination){var n=e.originalDestination;e.originalDestination=null,t.path(n)}else t.path("/feed");u()}),e.$on("event:auth-loginRequired",function(){e.originalDestination||(e.originalDestination=t.path()),r.clearAll(),e.user=null,t.path("/login")}),e.$on("$stateChangeStart",function(n,r){!e.user&&r.access==="loggedIn"?(e.originalDestination=t.path(),t.path("/login")):e.user&&r.access==="notLoggedIn"&&t.path("/feed")}),e.$on("$stateChangeSuccess",function(t,n){n.title&&(e.pageTitle=n.title)}),e.isCurrentPage=function(e){return t.path().substr(0,e.length)===e?!0:!1},e.isLoggedIn=function(){return e.user!==null},e.updateFbStatus=function(t){i.getLoginStatus(function(n){e.fbStatus=n,(t||angular.noop)()})},e.user&&u(),e.updateApiMe=function(){i.api("/me",function(t){e.fbMe=t})},e.eventPassed=function(e){return new Date(e)<new Date},e.logout=function(){n.logout(e.user).then(function(n){e.user=null,r.clearAll(),t.path("/")},function(){e.user=null,r.clearAll(),t.path("/")})}}]),e(["domReady!"],function(e){return t.bootstrap(e,["app"])})}),require.config({paths:{lib:"./lib",async:"./lib/async",domReady:"./lib/requirejs/domReady",angular:"./lib/angular/angular.min","http-auth-interceptor":"./lib/angular/http-auth-interceptor","angular-local-storage":"./lib/angular/angular-local-storage","angular-sanitize":"./lib/angular/angular-sanitize.min","angular-animate":"./lib/angular/angular-animate.min","angular-ui-bootstrap":"./lib/angular/ui-bootstrap-0.6.0.min","angular-ui-router":"./lib/angular/angular-ui-router.min","angular-switch-toggle":"./lib/angular/ng-switch-toggle","angular-ui-map":"./lib/angular/ui-map","angular-ui-event":"./lib/angular/event","angular-easyfb":"./lib/angular/angular-easyfb.min",jquery:"./lib/jquery-2.0.3.min","jquery-ui":"./lib/jquery-ui",fullCalendar:"./lib/fullcalendar.min","angular-ui-calendar":"./lib/angular/ui-calendar",select2:"./lib/select2.min","angular-ui-select2":"./lib/angular/ui-select2","image-upload":"./lib/angular/imageupload",moment:"./lib/moment.min",timepicker:"./lib/timepicker.min"},shim:{angular:{exports:"angular",deps:["jquery"]},"http-auth-interceptor":{deps:["angular"]},"angular-local-storage":{deps:["angular"]},"angular-sanitize":{deps:["angular"]},"angular-animate":{deps:["angular"]},"angular-ui-bootstrap":{deps:["angular"]},"angular-ui-router":{deps:["angular"]},"angular-switch-toggle":{deps:["angular","jquery"]},"angular-ui-map":{deps:["angular","angular-ui-event","async!http://maps.google.com/maps/api/js?sensor=false"]},"angular-ui-event":{deps:["angular"]},"angular-easyfb":{deps:["angular"]},"jquery-ui":{deps:["jquery"]},fullCalendar:{deps:["jquery-ui"]},"angular-ui-calendar":{deps:["angular","fullCalendar"]},select2:{deps:["jquery"]},"angular-ui-select2":{deps:["angular","select2"]},"image-upload":{deps:["angular"]},timepicker:{deps:["jquery"]}}}),require(["./bootstrap"],function(){}),define("main",function(){});